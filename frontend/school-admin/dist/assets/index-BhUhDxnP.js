var wV=Object.defineProperty;var _V=(e,t,n)=>t in e?wV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var R0=(e,t,n)=>_V(e,typeof t!="symbol"?t+"":t,n);function SV(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function ji(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Yk={exports:{}},fv={},Qk={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $f=Symbol.for("react.element"),EV=Symbol.for("react.portal"),IV=Symbol.for("react.fragment"),CV=Symbol.for("react.strict_mode"),PV=Symbol.for("react.profiler"),TV=Symbol.for("react.provider"),AV=Symbol.for("react.context"),OV=Symbol.for("react.forward_ref"),RV=Symbol.for("react.suspense"),DV=Symbol.for("react.memo"),kV=Symbol.for("react.lazy"),aP=Symbol.iterator;function NV(e){return e===null||typeof e!="object"?null:(e=aP&&e[aP]||e["@@iterator"],typeof e=="function"?e:null)}var Xk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jk=Object.assign,Zk={};function Vu(e,t,n){this.props=e,this.context=t,this.refs=Zk,this.updater=n||Xk}Vu.prototype.isReactComponent={};Vu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function eN(){}eN.prototype=Vu.prototype;function K1(e,t,n){this.props=e,this.context=t,this.refs=Zk,this.updater=n||Xk}var Y1=K1.prototype=new eN;Y1.constructor=K1;Jk(Y1,Vu.prototype);Y1.isPureReactComponent=!0;var lP=Array.isArray,tN=Object.prototype.hasOwnProperty,Q1={current:null},nN={key:!0,ref:!0,__self:!0,__source:!0};function rN(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)tN.call(t,r)&&!nN.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:$f,type:e,key:o,ref:s,props:i,_owner:Q1.current}}function jV(e,t){return{$$typeof:$f,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function X1(e){return typeof e=="object"&&e!==null&&e.$$typeof===$f}function MV(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var uP=/\/+/g;function D0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?MV(""+e.key):t.toString(36)}function Wp(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case $f:case EV:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+D0(s,0):r,lP(i)?(n="",e!=null&&(n=e.replace(uP,"$&/")+"/"),Wp(i,t,n,"",function(u){return u})):i!=null&&(X1(i)&&(i=jV(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(uP,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",lP(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+D0(o,a);s+=Wp(o,t,n,l,i)}else if(l=NV(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+D0(o,a++),s+=Wp(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Xh(e,t,n){if(e==null)return e;var r=[],i=0;return Wp(e,r,"","",function(o){return t.call(n,o,i++)}),r}function LV(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var dr={current:null},Hp={transition:null},FV={ReactCurrentDispatcher:dr,ReactCurrentBatchConfig:Hp,ReactCurrentOwner:Q1};function iN(){throw Error("act(...) is not supported in production builds of React.")}tt.Children={map:Xh,forEach:function(e,t,n){Xh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Xh(e,function(){t++}),t},toArray:function(e){return Xh(e,function(t){return t})||[]},only:function(e){if(!X1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};tt.Component=Vu;tt.Fragment=IV;tt.Profiler=PV;tt.PureComponent=K1;tt.StrictMode=CV;tt.Suspense=RV;tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FV;tt.act=iN;tt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Jk({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Q1.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)tN.call(t,l)&&!nN.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:$f,type:e.type,key:i,ref:o,props:r,_owner:s}};tt.createContext=function(e){return e={$$typeof:AV,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:TV,_context:e},e.Consumer=e};tt.createElement=rN;tt.createFactory=function(e){var t=rN.bind(null,e);return t.type=e,t};tt.createRef=function(){return{current:null}};tt.forwardRef=function(e){return{$$typeof:OV,render:e}};tt.isValidElement=X1;tt.lazy=function(e){return{$$typeof:kV,_payload:{_status:-1,_result:e},_init:LV}};tt.memo=function(e,t){return{$$typeof:DV,type:e,compare:t===void 0?null:t}};tt.startTransition=function(e){var t=Hp.transition;Hp.transition={};try{e()}finally{Hp.transition=t}};tt.unstable_act=iN;tt.useCallback=function(e,t){return dr.current.useCallback(e,t)};tt.useContext=function(e){return dr.current.useContext(e)};tt.useDebugValue=function(){};tt.useDeferredValue=function(e){return dr.current.useDeferredValue(e)};tt.useEffect=function(e,t){return dr.current.useEffect(e,t)};tt.useId=function(){return dr.current.useId()};tt.useImperativeHandle=function(e,t,n){return dr.current.useImperativeHandle(e,t,n)};tt.useInsertionEffect=function(e,t){return dr.current.useInsertionEffect(e,t)};tt.useLayoutEffect=function(e,t){return dr.current.useLayoutEffect(e,t)};tt.useMemo=function(e,t){return dr.current.useMemo(e,t)};tt.useReducer=function(e,t,n){return dr.current.useReducer(e,t,n)};tt.useRef=function(e){return dr.current.useRef(e)};tt.useState=function(e){return dr.current.useState(e)};tt.useSyncExternalStore=function(e,t,n){return dr.current.useSyncExternalStore(e,t,n)};tt.useTransition=function(){return dr.current.useTransition()};tt.version="18.3.1";Qk.exports=tt;var b=Qk.exports;const st=ji(b),oN=SV({__proto__:null,default:st},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $V=b,BV=Symbol.for("react.element"),VV=Symbol.for("react.fragment"),UV=Object.prototype.hasOwnProperty,zV=$V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WV={key:!0,ref:!0,__self:!0,__source:!0};function sN(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)UV.call(t,r)&&!WV.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:BV,type:e,key:o,ref:s,props:i,_owner:zV.current}}fv.Fragment=VV;fv.jsx=sN;fv.jsxs=sN;Yk.exports=fv;var g=Yk.exports,lx={},aN={exports:{}},Gr={},lN={exports:{}},uN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,Q){var le=F.length;F.push(Q);e:for(;0<le;){var be=le-1>>>1,we=F[be];if(0<i(we,Q))F[be]=Q,F[le]=we,le=be;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var Q=F[0],le=F.pop();if(le!==Q){F[0]=le;e:for(var be=0,we=F.length,X=we>>>1;be<X;){var ie=2*(be+1)-1,Ie=F[ie],te=ie+1,D=F[te];if(0>i(Ie,le))te<we&&0>i(D,Ie)?(F[be]=D,F[te]=le,be=te):(F[be]=Ie,F[ie]=le,be=ie);else if(te<we&&0>i(D,le))F[be]=D,F[te]=le,be=te;else break e}}return Q}function i(F,Q){var le=F.sortIndex-Q.sortIndex;return le!==0?le:F.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,f=3,p=!1,m=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(F){for(var Q=n(u);Q!==null;){if(Q.callback===null)r(u);else if(Q.startTime<=F)r(u),Q.sortIndex=Q.expirationTime,t(l,Q);else break;Q=n(u)}}function P(F){if(v=!1,S(F),!m)if(n(l)!==null)m=!0,pe(R);else{var Q=n(u);Q!==null&&Oe(P,Q.startTime-F)}}function R(F,Q){m=!1,v&&(v=!1,w(I),I=-1),p=!0;var le=f;try{for(S(Q),d=n(l);d!==null&&(!(d.expirationTime>Q)||F&&!A());){var be=d.callback;if(typeof be=="function"){d.callback=null,f=d.priorityLevel;var we=be(d.expirationTime<=Q);Q=e.unstable_now(),typeof we=="function"?d.callback=we:d===n(l)&&r(l),S(Q)}else r(l);d=n(l)}if(d!==null)var X=!0;else{var ie=n(u);ie!==null&&Oe(P,ie.startTime-Q),X=!1}return X}finally{d=null,f=le,p=!1}}var M=!1,C=null,I=-1,T=5,k=-1;function A(){return!(e.unstable_now()-k<T)}function j(){if(C!==null){var F=e.unstable_now();k=F;var Q=!0;try{Q=C(!0,F)}finally{Q?O():(M=!1,C=null)}}else M=!1}var O;if(typeof _=="function")O=function(){_(j)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,re=ee.port2;ee.port1.onmessage=j,O=function(){re.postMessage(null)}}else O=function(){y(j,0)};function pe(F){C=F,M||(M=!0,O())}function Oe(F,Q){I=y(function(){F(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,pe(R))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(F){switch(f){case 1:case 2:case 3:var Q=3;break;default:Q=f}var le=f;f=Q;try{return F()}finally{f=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,Q){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var le=f;f=F;try{return Q()}finally{f=le}},e.unstable_scheduleCallback=function(F,Q,le){var be=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?be+le:be):le=be,F){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=le+we,F={id:c++,callback:Q,priorityLevel:F,startTime:le,expirationTime:we,sortIndex:-1},le>be?(F.sortIndex=le,t(u,F),n(l)===null&&F===n(u)&&(v?(w(I),I=-1):v=!0,Oe(P,le-be))):(F.sortIndex=we,t(l,F),m||p||(m=!0,pe(R))),F},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(F){var Q=f;return function(){var le=f;f=Q;try{return F.apply(this,arguments)}finally{f=le}}}})(uN);lN.exports=uN;var HV=lN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qV=b,zr=HV;function fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cN=new Set,Dd={};function Ja(e,t){lu(e,t),lu(e+"Capture",t)}function lu(e,t){for(Dd[e]=t,e=0;e<t.length;e++)cN.add(t[e])}var xo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ux=Object.prototype.hasOwnProperty,GV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cP={},dP={};function KV(e){return ux.call(dP,e)?!0:ux.call(cP,e)?!1:GV.test(e)?dP[e]=!0:(cP[e]=!0,!1)}function YV(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function QV(e,t,n,r){if(t===null||typeof t>"u"||YV(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function fr(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Wn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Wn[e]=new fr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Wn[t]=new fr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Wn[e]=new fr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Wn[e]=new fr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Wn[e]=new fr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Wn[e]=new fr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Wn[e]=new fr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Wn[e]=new fr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Wn[e]=new fr(e,5,!1,e.toLowerCase(),null,!1,!1)});var J1=/[\-:]([a-z])/g;function Z1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(J1,Z1);Wn[t]=new fr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(J1,Z1);Wn[t]=new fr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(J1,Z1);Wn[t]=new fr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Wn[e]=new fr(e,1,!1,e.toLowerCase(),null,!1,!1)});Wn.xlinkHref=new fr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Wn[e]=new fr(e,1,!1,e.toLowerCase(),null,!0,!0)});function e_(e,t,n,r){var i=Wn.hasOwnProperty(t)?Wn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(QV(t,n,i,r)&&(n=null),r||i===null?KV(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Mo=qV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jh=Symbol.for("react.element"),Dl=Symbol.for("react.portal"),kl=Symbol.for("react.fragment"),t_=Symbol.for("react.strict_mode"),cx=Symbol.for("react.profiler"),dN=Symbol.for("react.provider"),fN=Symbol.for("react.context"),n_=Symbol.for("react.forward_ref"),dx=Symbol.for("react.suspense"),fx=Symbol.for("react.suspense_list"),r_=Symbol.for("react.memo"),Xo=Symbol.for("react.lazy"),hN=Symbol.for("react.offscreen"),fP=Symbol.iterator;function Ic(e){return e===null||typeof e!="object"?null:(e=fP&&e[fP]||e["@@iterator"],typeof e=="function"?e:null)}var Bt=Object.assign,k0;function td(e){if(k0===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);k0=t&&t[1]||""}return`
`+k0+e}var N0=!1;function j0(e,t){if(!e||N0)return"";N0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{N0=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?td(e):""}function XV(e){switch(e.tag){case 5:return td(e.type);case 16:return td("Lazy");case 13:return td("Suspense");case 19:return td("SuspenseList");case 0:case 2:case 15:return e=j0(e.type,!1),e;case 11:return e=j0(e.type.render,!1),e;case 1:return e=j0(e.type,!0),e;default:return""}}function hx(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case kl:return"Fragment";case Dl:return"Portal";case cx:return"Profiler";case t_:return"StrictMode";case dx:return"Suspense";case fx:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fN:return(e.displayName||"Context")+".Consumer";case dN:return(e._context.displayName||"Context")+".Provider";case n_:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case r_:return t=e.displayName||null,t!==null?t:hx(e.type)||"Memo";case Xo:t=e._payload,e=e._init;try{return hx(e(t))}catch{}}return null}function JV(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hx(t);case 8:return t===t_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Rs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pN(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ZV(e){var t=pN(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zh(e){e._valueTracker||(e._valueTracker=ZV(e))}function gN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=pN(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function bg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function px(e,t){var n=t.checked;return Bt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function hP(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Rs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function mN(e,t){t=t.checked,t!=null&&e_(e,"checked",t,!1)}function gx(e,t){mN(e,t);var n=Rs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?mx(e,t.type,n):t.hasOwnProperty("defaultValue")&&mx(e,t.type,Rs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function pP(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function mx(e,t,n){(t!=="number"||bg(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var nd=Array.isArray;function Gl(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Rs(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function vx(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(fe(91));return Bt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function gP(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(fe(92));if(nd(n)){if(1<n.length)throw Error(fe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Rs(n)}}function vN(e,t){var n=Rs(t.value),r=Rs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function mP(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function yN(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yx(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?yN(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ep,bN=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ep=ep||document.createElement("div"),ep.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ep.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function kd(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var dd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},e8=["Webkit","ms","Moz","O"];Object.keys(dd).forEach(function(e){e8.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),dd[t]=dd[e]})});function xN(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||dd.hasOwnProperty(e)&&dd[e]?(""+t).trim():t+"px"}function wN(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=xN(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var t8=Bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bx(e,t){if(t){if(t8[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(fe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(fe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(fe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(fe(62))}}function xx(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wx=null;function i_(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _x=null,Kl=null,Yl=null;function vP(e){if(e=Uf(e)){if(typeof _x!="function")throw Error(fe(280));var t=e.stateNode;t&&(t=vv(t),_x(e.stateNode,e.type,t))}}function _N(e){Kl?Yl?Yl.push(e):Yl=[e]:Kl=e}function SN(){if(Kl){var e=Kl,t=Yl;if(Yl=Kl=null,vP(e),t)for(e=0;e<t.length;e++)vP(t[e])}}function EN(e,t){return e(t)}function IN(){}var M0=!1;function CN(e,t,n){if(M0)return e(t,n);M0=!0;try{return EN(e,t,n)}finally{M0=!1,(Kl!==null||Yl!==null)&&(IN(),SN())}}function Nd(e,t){var n=e.stateNode;if(n===null)return null;var r=vv(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(fe(231,t,typeof n));return n}var Sx=!1;if(xo)try{var Cc={};Object.defineProperty(Cc,"passive",{get:function(){Sx=!0}}),window.addEventListener("test",Cc,Cc),window.removeEventListener("test",Cc,Cc)}catch{Sx=!1}function n8(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var fd=!1,xg=null,wg=!1,Ex=null,r8={onError:function(e){fd=!0,xg=e}};function i8(e,t,n,r,i,o,s,a,l){fd=!1,xg=null,n8.apply(r8,arguments)}function o8(e,t,n,r,i,o,s,a,l){if(i8.apply(this,arguments),fd){if(fd){var u=xg;fd=!1,xg=null}else throw Error(fe(198));wg||(wg=!0,Ex=u)}}function Za(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function PN(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yP(e){if(Za(e)!==e)throw Error(fe(188))}function s8(e){var t=e.alternate;if(!t){if(t=Za(e),t===null)throw Error(fe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return yP(i),e;if(o===r)return yP(i),t;o=o.sibling}throw Error(fe(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(fe(189))}}if(n.alternate!==r)throw Error(fe(190))}if(n.tag!==3)throw Error(fe(188));return n.stateNode.current===n?e:t}function TN(e){return e=s8(e),e!==null?AN(e):null}function AN(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=AN(e);if(t!==null)return t;e=e.sibling}return null}var ON=zr.unstable_scheduleCallback,bP=zr.unstable_cancelCallback,a8=zr.unstable_shouldYield,l8=zr.unstable_requestPaint,Xt=zr.unstable_now,u8=zr.unstable_getCurrentPriorityLevel,o_=zr.unstable_ImmediatePriority,RN=zr.unstable_UserBlockingPriority,_g=zr.unstable_NormalPriority,c8=zr.unstable_LowPriority,DN=zr.unstable_IdlePriority,hv=null,Ji=null;function d8(e){if(Ji&&typeof Ji.onCommitFiberRoot=="function")try{Ji.onCommitFiberRoot(hv,e,void 0,(e.current.flags&128)===128)}catch{}}var Ai=Math.clz32?Math.clz32:p8,f8=Math.log,h8=Math.LN2;function p8(e){return e>>>=0,e===0?32:31-(f8(e)/h8|0)|0}var tp=64,np=4194304;function rd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sg(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=rd(a):(o&=s,o!==0&&(r=rd(o)))}else s=n&~i,s!==0?r=rd(s):o!==0&&(r=rd(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ai(t),i=1<<n,r|=e[n],t&=~i;return r}function g8(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function m8(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Ai(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=g8(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function Ix(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kN(){var e=tp;return tp<<=1,!(tp&4194240)&&(tp=64),e}function L0(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bf(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ai(t),e[t]=n}function v8(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ai(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function s_(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ai(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var mt=0;function NN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jN,a_,MN,LN,FN,Cx=!1,rp=[],cs=null,ds=null,fs=null,jd=new Map,Md=new Map,es=[],y8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xP(e,t){switch(e){case"focusin":case"focusout":cs=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":jd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Md.delete(t.pointerId)}}function Pc(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Uf(t),t!==null&&a_(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function b8(e,t,n,r,i){switch(t){case"focusin":return cs=Pc(cs,e,t,n,r,i),!0;case"dragenter":return ds=Pc(ds,e,t,n,r,i),!0;case"mouseover":return fs=Pc(fs,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return jd.set(o,Pc(jd.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Md.set(o,Pc(Md.get(o)||null,e,t,n,r,i)),!0}return!1}function $N(e){var t=ya(e.target);if(t!==null){var n=Za(t);if(n!==null){if(t=n.tag,t===13){if(t=PN(n),t!==null){e.blockedOn=t,FN(e.priority,function(){MN(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Px(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);wx=r,n.target.dispatchEvent(r),wx=null}else return t=Uf(n),t!==null&&a_(t),e.blockedOn=n,!1;t.shift()}return!0}function wP(e,t,n){qp(e)&&n.delete(t)}function x8(){Cx=!1,cs!==null&&qp(cs)&&(cs=null),ds!==null&&qp(ds)&&(ds=null),fs!==null&&qp(fs)&&(fs=null),jd.forEach(wP),Md.forEach(wP)}function Tc(e,t){e.blockedOn===t&&(e.blockedOn=null,Cx||(Cx=!0,zr.unstable_scheduleCallback(zr.unstable_NormalPriority,x8)))}function Ld(e){function t(i){return Tc(i,e)}if(0<rp.length){Tc(rp[0],e);for(var n=1;n<rp.length;n++){var r=rp[n];r.blockedOn===e&&(r.blockedOn=null)}}for(cs!==null&&Tc(cs,e),ds!==null&&Tc(ds,e),fs!==null&&Tc(fs,e),jd.forEach(t),Md.forEach(t),n=0;n<es.length;n++)r=es[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<es.length&&(n=es[0],n.blockedOn===null);)$N(n),n.blockedOn===null&&es.shift()}var Ql=Mo.ReactCurrentBatchConfig,Eg=!0;function w8(e,t,n,r){var i=mt,o=Ql.transition;Ql.transition=null;try{mt=1,l_(e,t,n,r)}finally{mt=i,Ql.transition=o}}function _8(e,t,n,r){var i=mt,o=Ql.transition;Ql.transition=null;try{mt=4,l_(e,t,n,r)}finally{mt=i,Ql.transition=o}}function l_(e,t,n,r){if(Eg){var i=Px(e,t,n,r);if(i===null)G0(e,t,r,Ig,n),xP(e,r);else if(b8(i,e,t,n,r))r.stopPropagation();else if(xP(e,r),t&4&&-1<y8.indexOf(e)){for(;i!==null;){var o=Uf(i);if(o!==null&&jN(o),o=Px(e,t,n,r),o===null&&G0(e,t,r,Ig,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else G0(e,t,r,null,n)}}var Ig=null;function Px(e,t,n,r){if(Ig=null,e=i_(r),e=ya(e),e!==null)if(t=Za(e),t===null)e=null;else if(n=t.tag,n===13){if(e=PN(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ig=e,null}function BN(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(u8()){case o_:return 1;case RN:return 4;case _g:case c8:return 16;case DN:return 536870912;default:return 16}default:return 16}}var rs=null,u_=null,Gp=null;function VN(){if(Gp)return Gp;var e,t=u_,n=t.length,r,i="value"in rs?rs.value:rs.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Gp=i.slice(e,1<r?1-r:void 0)}function Kp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ip(){return!0}function _P(){return!1}function Kr(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ip:_P,this.isPropagationStopped=_P,this}return Bt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ip)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ip)},persist:function(){},isPersistent:ip}),t}var Uu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},c_=Kr(Uu),Vf=Bt({},Uu,{view:0,detail:0}),S8=Kr(Vf),F0,$0,Ac,pv=Bt({},Vf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:d_,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ac&&(Ac&&e.type==="mousemove"?(F0=e.screenX-Ac.screenX,$0=e.screenY-Ac.screenY):$0=F0=0,Ac=e),F0)},movementY:function(e){return"movementY"in e?e.movementY:$0}}),SP=Kr(pv),E8=Bt({},pv,{dataTransfer:0}),I8=Kr(E8),C8=Bt({},Vf,{relatedTarget:0}),B0=Kr(C8),P8=Bt({},Uu,{animationName:0,elapsedTime:0,pseudoElement:0}),T8=Kr(P8),A8=Bt({},Uu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),O8=Kr(A8),R8=Bt({},Uu,{data:0}),EP=Kr(R8),D8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},k8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function j8(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=N8[e])?!!t[e]:!1}function d_(){return j8}var M8=Bt({},Vf,{key:function(e){if(e.key){var t=D8[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Kp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?k8[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:d_,charCode:function(e){return e.type==="keypress"?Kp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),L8=Kr(M8),F8=Bt({},pv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),IP=Kr(F8),$8=Bt({},Vf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:d_}),B8=Kr($8),V8=Bt({},Uu,{propertyName:0,elapsedTime:0,pseudoElement:0}),U8=Kr(V8),z8=Bt({},pv,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),W8=Kr(z8),H8=[9,13,27,32],f_=xo&&"CompositionEvent"in window,hd=null;xo&&"documentMode"in document&&(hd=document.documentMode);var q8=xo&&"TextEvent"in window&&!hd,UN=xo&&(!f_||hd&&8<hd&&11>=hd),CP=" ",PP=!1;function zN(e,t){switch(e){case"keyup":return H8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nl=!1;function G8(e,t){switch(e){case"compositionend":return WN(t);case"keypress":return t.which!==32?null:(PP=!0,CP);case"textInput":return e=t.data,e===CP&&PP?null:e;default:return null}}function K8(e,t){if(Nl)return e==="compositionend"||!f_&&zN(e,t)?(e=VN(),Gp=u_=rs=null,Nl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return UN&&t.locale!=="ko"?null:t.data;default:return null}}var Y8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function TP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Y8[e.type]:t==="textarea"}function HN(e,t,n,r){_N(r),t=Cg(t,"onChange"),0<t.length&&(n=new c_("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var pd=null,Fd=null;function Q8(e){nj(e,0)}function gv(e){var t=Ll(e);if(gN(t))return e}function X8(e,t){if(e==="change")return t}var qN=!1;if(xo){var V0;if(xo){var U0="oninput"in document;if(!U0){var AP=document.createElement("div");AP.setAttribute("oninput","return;"),U0=typeof AP.oninput=="function"}V0=U0}else V0=!1;qN=V0&&(!document.documentMode||9<document.documentMode)}function OP(){pd&&(pd.detachEvent("onpropertychange",GN),Fd=pd=null)}function GN(e){if(e.propertyName==="value"&&gv(Fd)){var t=[];HN(t,Fd,e,i_(e)),CN(Q8,t)}}function J8(e,t,n){e==="focusin"?(OP(),pd=t,Fd=n,pd.attachEvent("onpropertychange",GN)):e==="focusout"&&OP()}function Z8(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gv(Fd)}function eU(e,t){if(e==="click")return gv(t)}function tU(e,t){if(e==="input"||e==="change")return gv(t)}function nU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ki=typeof Object.is=="function"?Object.is:nU;function $d(e,t){if(ki(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ux.call(t,i)||!ki(e[i],t[i]))return!1}return!0}function RP(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function DP(e,t){var n=RP(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=RP(n)}}function KN(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?KN(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function YN(){for(var e=window,t=bg();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=bg(e.document)}return t}function h_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function rU(e){var t=YN(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&KN(n.ownerDocument.documentElement,n)){if(r!==null&&h_(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=DP(n,o);var s=DP(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var iU=xo&&"documentMode"in document&&11>=document.documentMode,jl=null,Tx=null,gd=null,Ax=!1;function kP(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ax||jl==null||jl!==bg(r)||(r=jl,"selectionStart"in r&&h_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gd&&$d(gd,r)||(gd=r,r=Cg(Tx,"onSelect"),0<r.length&&(t=new c_("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=jl)))}function op(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ml={animationend:op("Animation","AnimationEnd"),animationiteration:op("Animation","AnimationIteration"),animationstart:op("Animation","AnimationStart"),transitionend:op("Transition","TransitionEnd")},z0={},QN={};xo&&(QN=document.createElement("div").style,"AnimationEvent"in window||(delete Ml.animationend.animation,delete Ml.animationiteration.animation,delete Ml.animationstart.animation),"TransitionEvent"in window||delete Ml.transitionend.transition);function mv(e){if(z0[e])return z0[e];if(!Ml[e])return e;var t=Ml[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in QN)return z0[e]=t[n];return e}var XN=mv("animationend"),JN=mv("animationiteration"),ZN=mv("animationstart"),ej=mv("transitionend"),tj=new Map,NP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gs(e,t){tj.set(e,t),Ja(t,[e])}for(var W0=0;W0<NP.length;W0++){var H0=NP[W0],oU=H0.toLowerCase(),sU=H0[0].toUpperCase()+H0.slice(1);Gs(oU,"on"+sU)}Gs(XN,"onAnimationEnd");Gs(JN,"onAnimationIteration");Gs(ZN,"onAnimationStart");Gs("dblclick","onDoubleClick");Gs("focusin","onFocus");Gs("focusout","onBlur");Gs(ej,"onTransitionEnd");lu("onMouseEnter",["mouseout","mouseover"]);lu("onMouseLeave",["mouseout","mouseover"]);lu("onPointerEnter",["pointerout","pointerover"]);lu("onPointerLeave",["pointerout","pointerover"]);Ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ja("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var id="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aU=new Set("cancel close invalid load scroll toggle".split(" ").concat(id));function jP(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,o8(r,t,void 0,e),e.currentTarget=null}function nj(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;jP(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;jP(i,a,u),o=l}}}if(wg)throw e=Ex,wg=!1,Ex=null,e}function At(e,t){var n=t[Nx];n===void 0&&(n=t[Nx]=new Set);var r=e+"__bubble";n.has(r)||(rj(t,e,2,!1),n.add(r))}function q0(e,t,n){var r=0;t&&(r|=4),rj(n,e,r,t)}var sp="_reactListening"+Math.random().toString(36).slice(2);function Bd(e){if(!e[sp]){e[sp]=!0,cN.forEach(function(n){n!=="selectionchange"&&(aU.has(n)||q0(n,!1,e),q0(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[sp]||(t[sp]=!0,q0("selectionchange",!1,t))}}function rj(e,t,n,r){switch(BN(t)){case 1:var i=w8;break;case 4:i=_8;break;default:i=l_}n=i.bind(null,t,n,e),i=void 0,!Sx||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function G0(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ya(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}CN(function(){var u=o,c=i_(n),d=[];e:{var f=tj.get(e);if(f!==void 0){var p=c_,m=e;switch(e){case"keypress":if(Kp(n)===0)break e;case"keydown":case"keyup":p=L8;break;case"focusin":m="focus",p=B0;break;case"focusout":m="blur",p=B0;break;case"beforeblur":case"afterblur":p=B0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=SP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=I8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=B8;break;case XN:case JN:case ZN:p=T8;break;case ej:p=U8;break;case"scroll":p=S8;break;case"wheel":p=W8;break;case"copy":case"cut":case"paste":p=O8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=IP}var v=(t&4)!==0,y=!v&&e==="scroll",w=v?f!==null?f+"Capture":null:f;v=[];for(var _=u,S;_!==null;){S=_;var P=S.stateNode;if(S.tag===5&&P!==null&&(S=P,w!==null&&(P=Nd(_,w),P!=null&&v.push(Vd(_,P,S)))),y)break;_=_.return}0<v.length&&(f=new p(f,m,null,n,c),d.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==wx&&(m=n.relatedTarget||n.fromElement)&&(ya(m)||m[wo]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?ya(m):null,m!==null&&(y=Za(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(v=SP,P="onMouseLeave",w="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(v=IP,P="onPointerLeave",w="onPointerEnter",_="pointer"),y=p==null?f:Ll(p),S=m==null?f:Ll(m),f=new v(P,_+"leave",p,n,c),f.target=y,f.relatedTarget=S,P=null,ya(c)===u&&(v=new v(w,_+"enter",m,n,c),v.target=S,v.relatedTarget=y,P=v),y=P,p&&m)t:{for(v=p,w=m,_=0,S=v;S;S=xl(S))_++;for(S=0,P=w;P;P=xl(P))S++;for(;0<_-S;)v=xl(v),_--;for(;0<S-_;)w=xl(w),S--;for(;_--;){if(v===w||w!==null&&v===w.alternate)break t;v=xl(v),w=xl(w)}v=null}else v=null;p!==null&&MP(d,f,p,v,!1),m!==null&&y!==null&&MP(d,y,m,v,!0)}}e:{if(f=u?Ll(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var R=X8;else if(TP(f))if(qN)R=tU;else{R=Z8;var M=J8}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(R=eU);if(R&&(R=R(e,u))){HN(d,R,n,c);break e}M&&M(e,f,u),e==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&mx(f,"number",f.value)}switch(M=u?Ll(u):window,e){case"focusin":(TP(M)||M.contentEditable==="true")&&(jl=M,Tx=u,gd=null);break;case"focusout":gd=Tx=jl=null;break;case"mousedown":Ax=!0;break;case"contextmenu":case"mouseup":case"dragend":Ax=!1,kP(d,n,c);break;case"selectionchange":if(iU)break;case"keydown":case"keyup":kP(d,n,c)}var C;if(f_)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Nl?zN(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(UN&&n.locale!=="ko"&&(Nl||I!=="onCompositionStart"?I==="onCompositionEnd"&&Nl&&(C=VN()):(rs=c,u_="value"in rs?rs.value:rs.textContent,Nl=!0)),M=Cg(u,I),0<M.length&&(I=new EP(I,e,null,n,c),d.push({event:I,listeners:M}),C?I.data=C:(C=WN(n),C!==null&&(I.data=C)))),(C=q8?G8(e,n):K8(e,n))&&(u=Cg(u,"onBeforeInput"),0<u.length&&(c=new EP("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=C))}nj(d,t)})}function Vd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Cg(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Nd(e,n),o!=null&&r.unshift(Vd(e,o,i)),o=Nd(e,t),o!=null&&r.push(Vd(e,o,i))),e=e.return}return r}function xl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function MP(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Nd(n,o),l!=null&&s.unshift(Vd(n,l,a))):i||(l=Nd(n,o),l!=null&&s.push(Vd(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var lU=/\r\n?/g,uU=/\u0000|\uFFFD/g;function LP(e){return(typeof e=="string"?e:""+e).replace(lU,`
`).replace(uU,"")}function ap(e,t,n){if(t=LP(t),LP(e)!==t&&n)throw Error(fe(425))}function Pg(){}var Ox=null,Rx=null;function Dx(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var kx=typeof setTimeout=="function"?setTimeout:void 0,cU=typeof clearTimeout=="function"?clearTimeout:void 0,FP=typeof Promise=="function"?Promise:void 0,dU=typeof queueMicrotask=="function"?queueMicrotask:typeof FP<"u"?function(e){return FP.resolve(null).then(e).catch(fU)}:kx;function fU(e){setTimeout(function(){throw e})}function K0(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ld(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ld(t)}function hs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $P(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var zu=Math.random().toString(36).slice(2),Gi="__reactFiber$"+zu,Ud="__reactProps$"+zu,wo="__reactContainer$"+zu,Nx="__reactEvents$"+zu,hU="__reactListeners$"+zu,pU="__reactHandles$"+zu;function ya(e){var t=e[Gi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wo]||n[Gi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=$P(e);e!==null;){if(n=e[Gi])return n;e=$P(e)}return t}e=n,n=e.parentNode}return null}function Uf(e){return e=e[Gi]||e[wo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ll(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(fe(33))}function vv(e){return e[Ud]||null}var jx=[],Fl=-1;function Ks(e){return{current:e}}function Rt(e){0>Fl||(e.current=jx[Fl],jx[Fl]=null,Fl--)}function Ct(e,t){Fl++,jx[Fl]=e.current,e.current=t}var Ds={},tr=Ks(Ds),wr=Ks(!1),ja=Ds;function uu(e,t){var n=e.type.contextTypes;if(!n)return Ds;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function _r(e){return e=e.childContextTypes,e!=null}function Tg(){Rt(wr),Rt(tr)}function BP(e,t,n){if(tr.current!==Ds)throw Error(fe(168));Ct(tr,t),Ct(wr,n)}function ij(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(fe(108,JV(e)||"Unknown",i));return Bt({},n,r)}function Ag(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ds,ja=tr.current,Ct(tr,e),Ct(wr,wr.current),!0}function VP(e,t,n){var r=e.stateNode;if(!r)throw Error(fe(169));n?(e=ij(e,t,ja),r.__reactInternalMemoizedMergedChildContext=e,Rt(wr),Rt(tr),Ct(tr,e)):Rt(wr),Ct(wr,n)}var lo=null,yv=!1,Y0=!1;function oj(e){lo===null?lo=[e]:lo.push(e)}function gU(e){yv=!0,oj(e)}function Ys(){if(!Y0&&lo!==null){Y0=!0;var e=0,t=mt;try{var n=lo;for(mt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}lo=null,yv=!1}catch(i){throw lo!==null&&(lo=lo.slice(e+1)),ON(o_,Ys),i}finally{mt=t,Y0=!1}}return null}var $l=[],Bl=0,Og=null,Rg=0,ei=[],ti=0,Ma=null,fo=1,ho="";function ua(e,t){$l[Bl++]=Rg,$l[Bl++]=Og,Og=e,Rg=t}function sj(e,t,n){ei[ti++]=fo,ei[ti++]=ho,ei[ti++]=Ma,Ma=e;var r=fo;e=ho;var i=32-Ai(r)-1;r&=~(1<<i),n+=1;var o=32-Ai(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,fo=1<<32-Ai(t)+i|n<<i|r,ho=o+e}else fo=1<<o|n<<i|r,ho=e}function p_(e){e.return!==null&&(ua(e,1),sj(e,1,0))}function g_(e){for(;e===Og;)Og=$l[--Bl],$l[Bl]=null,Rg=$l[--Bl],$l[Bl]=null;for(;e===Ma;)Ma=ei[--ti],ei[ti]=null,ho=ei[--ti],ei[ti]=null,fo=ei[--ti],ei[ti]=null}var Fr=null,jr=null,kt=!1,xi=null;function aj(e,t){var n=ni(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function UP(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Fr=e,jr=hs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Fr=e,jr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ma!==null?{id:fo,overflow:ho}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ni(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Fr=e,jr=null,!0):!1;default:return!1}}function Mx(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Lx(e){if(kt){var t=jr;if(t){var n=t;if(!UP(e,t)){if(Mx(e))throw Error(fe(418));t=hs(n.nextSibling);var r=Fr;t&&UP(e,t)?aj(r,n):(e.flags=e.flags&-4097|2,kt=!1,Fr=e)}}else{if(Mx(e))throw Error(fe(418));e.flags=e.flags&-4097|2,kt=!1,Fr=e}}}function zP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fr=e}function lp(e){if(e!==Fr)return!1;if(!kt)return zP(e),kt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Dx(e.type,e.memoizedProps)),t&&(t=jr)){if(Mx(e))throw lj(),Error(fe(418));for(;t;)aj(e,t),t=hs(t.nextSibling)}if(zP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(fe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){jr=hs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}jr=null}}else jr=Fr?hs(e.stateNode.nextSibling):null;return!0}function lj(){for(var e=jr;e;)e=hs(e.nextSibling)}function cu(){jr=Fr=null,kt=!1}function m_(e){xi===null?xi=[e]:xi.push(e)}var mU=Mo.ReactCurrentBatchConfig;function Oc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(fe(309));var r=n.stateNode}if(!r)throw Error(fe(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(fe(284));if(!n._owner)throw Error(fe(290,e))}return e}function up(e,t){throw e=Object.prototype.toString.call(t),Error(fe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function WP(e){var t=e._init;return t(e._payload)}function uj(e){function t(w,_){if(e){var S=w.deletions;S===null?(w.deletions=[_],w.flags|=16):S.push(_)}}function n(w,_){if(!e)return null;for(;_!==null;)t(w,_),_=_.sibling;return null}function r(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function i(w,_){return w=vs(w,_),w.index=0,w.sibling=null,w}function o(w,_,S){return w.index=S,e?(S=w.alternate,S!==null?(S=S.index,S<_?(w.flags|=2,_):S):(w.flags|=2,_)):(w.flags|=1048576,_)}function s(w){return e&&w.alternate===null&&(w.flags|=2),w}function a(w,_,S,P){return _===null||_.tag!==6?(_=nb(S,w.mode,P),_.return=w,_):(_=i(_,S),_.return=w,_)}function l(w,_,S,P){var R=S.type;return R===kl?c(w,_,S.props.children,P,S.key):_!==null&&(_.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Xo&&WP(R)===_.type)?(P=i(_,S.props),P.ref=Oc(w,_,S),P.return=w,P):(P=tg(S.type,S.key,S.props,null,w.mode,P),P.ref=Oc(w,_,S),P.return=w,P)}function u(w,_,S,P){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=rb(S,w.mode,P),_.return=w,_):(_=i(_,S.children||[]),_.return=w,_)}function c(w,_,S,P,R){return _===null||_.tag!==7?(_=Ta(S,w.mode,P,R),_.return=w,_):(_=i(_,S),_.return=w,_)}function d(w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=nb(""+_,w.mode,S),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Jh:return S=tg(_.type,_.key,_.props,null,w.mode,S),S.ref=Oc(w,null,_),S.return=w,S;case Dl:return _=rb(_,w.mode,S),_.return=w,_;case Xo:var P=_._init;return d(w,P(_._payload),S)}if(nd(_)||Ic(_))return _=Ta(_,w.mode,S,null),_.return=w,_;up(w,_)}return null}function f(w,_,S,P){var R=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return R!==null?null:a(w,_,""+S,P);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Jh:return S.key===R?l(w,_,S,P):null;case Dl:return S.key===R?u(w,_,S,P):null;case Xo:return R=S._init,f(w,_,R(S._payload),P)}if(nd(S)||Ic(S))return R!==null?null:c(w,_,S,P,null);up(w,S)}return null}function p(w,_,S,P,R){if(typeof P=="string"&&P!==""||typeof P=="number")return w=w.get(S)||null,a(_,w,""+P,R);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Jh:return w=w.get(P.key===null?S:P.key)||null,l(_,w,P,R);case Dl:return w=w.get(P.key===null?S:P.key)||null,u(_,w,P,R);case Xo:var M=P._init;return p(w,_,S,M(P._payload),R)}if(nd(P)||Ic(P))return w=w.get(S)||null,c(_,w,P,R,null);up(_,P)}return null}function m(w,_,S,P){for(var R=null,M=null,C=_,I=_=0,T=null;C!==null&&I<S.length;I++){C.index>I?(T=C,C=null):T=C.sibling;var k=f(w,C,S[I],P);if(k===null){C===null&&(C=T);break}e&&C&&k.alternate===null&&t(w,C),_=o(k,_,I),M===null?R=k:M.sibling=k,M=k,C=T}if(I===S.length)return n(w,C),kt&&ua(w,I),R;if(C===null){for(;I<S.length;I++)C=d(w,S[I],P),C!==null&&(_=o(C,_,I),M===null?R=C:M.sibling=C,M=C);return kt&&ua(w,I),R}for(C=r(w,C);I<S.length;I++)T=p(C,w,I,S[I],P),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?I:T.key),_=o(T,_,I),M===null?R=T:M.sibling=T,M=T);return e&&C.forEach(function(A){return t(w,A)}),kt&&ua(w,I),R}function v(w,_,S,P){var R=Ic(S);if(typeof R!="function")throw Error(fe(150));if(S=R.call(S),S==null)throw Error(fe(151));for(var M=R=null,C=_,I=_=0,T=null,k=S.next();C!==null&&!k.done;I++,k=S.next()){C.index>I?(T=C,C=null):T=C.sibling;var A=f(w,C,k.value,P);if(A===null){C===null&&(C=T);break}e&&C&&A.alternate===null&&t(w,C),_=o(A,_,I),M===null?R=A:M.sibling=A,M=A,C=T}if(k.done)return n(w,C),kt&&ua(w,I),R;if(C===null){for(;!k.done;I++,k=S.next())k=d(w,k.value,P),k!==null&&(_=o(k,_,I),M===null?R=k:M.sibling=k,M=k);return kt&&ua(w,I),R}for(C=r(w,C);!k.done;I++,k=S.next())k=p(C,w,I,k.value,P),k!==null&&(e&&k.alternate!==null&&C.delete(k.key===null?I:k.key),_=o(k,_,I),M===null?R=k:M.sibling=k,M=k);return e&&C.forEach(function(j){return t(w,j)}),kt&&ua(w,I),R}function y(w,_,S,P){if(typeof S=="object"&&S!==null&&S.type===kl&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Jh:e:{for(var R=S.key,M=_;M!==null;){if(M.key===R){if(R=S.type,R===kl){if(M.tag===7){n(w,M.sibling),_=i(M,S.props.children),_.return=w,w=_;break e}}else if(M.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Xo&&WP(R)===M.type){n(w,M.sibling),_=i(M,S.props),_.ref=Oc(w,M,S),_.return=w,w=_;break e}n(w,M);break}else t(w,M);M=M.sibling}S.type===kl?(_=Ta(S.props.children,w.mode,P,S.key),_.return=w,w=_):(P=tg(S.type,S.key,S.props,null,w.mode,P),P.ref=Oc(w,_,S),P.return=w,w=P)}return s(w);case Dl:e:{for(M=S.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(w,_.sibling),_=i(_,S.children||[]),_.return=w,w=_;break e}else{n(w,_);break}else t(w,_);_=_.sibling}_=rb(S,w.mode,P),_.return=w,w=_}return s(w);case Xo:return M=S._init,y(w,_,M(S._payload),P)}if(nd(S))return m(w,_,S,P);if(Ic(S))return v(w,_,S,P);up(w,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(w,_.sibling),_=i(_,S),_.return=w,w=_):(n(w,_),_=nb(S,w.mode,P),_.return=w,w=_),s(w)):n(w,_)}return y}var du=uj(!0),cj=uj(!1),Dg=Ks(null),kg=null,Vl=null,v_=null;function y_(){v_=Vl=kg=null}function b_(e){var t=Dg.current;Rt(Dg),e._currentValue=t}function Fx(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xl(e,t){kg=e,v_=Vl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(yr=!0),e.firstContext=null)}function ui(e){var t=e._currentValue;if(v_!==e)if(e={context:e,memoizedValue:t,next:null},Vl===null){if(kg===null)throw Error(fe(308));Vl=e,kg.dependencies={lanes:0,firstContext:e}}else Vl=Vl.next=e;return t}var ba=null;function x_(e){ba===null?ba=[e]:ba.push(e)}function dj(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,x_(t)):(n.next=i.next,i.next=n),t.interleaved=n,_o(e,r)}function _o(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Jo=!1;function w_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ps(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ct&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,_o(e,n)}return i=r.interleaved,i===null?(t.next=t,x_(r)):(t.next=i.next,i.next=t),r.interleaved=t,_o(e,n)}function Yp(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,s_(e,n)}}function HP(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ng(e,t,n,r){var i=e.updateQueue;Jo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,c=u=l=null,a=o;do{var f=a.lane,p=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,v=a;switch(f=t,p=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,f=typeof m=="function"?m.call(p,d,f):m,f==null)break e;d=Bt({},d,f);break e;case 2:Jo=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Fa|=s,e.lanes=s,e.memoizedState=d}}function qP(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(fe(191,i));i.call(r)}}}var zf={},Zi=Ks(zf),zd=Ks(zf),Wd=Ks(zf);function xa(e){if(e===zf)throw Error(fe(174));return e}function __(e,t){switch(Ct(Wd,t),Ct(zd,e),Ct(Zi,zf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:yx(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=yx(t,e)}Rt(Zi),Ct(Zi,t)}function fu(){Rt(Zi),Rt(zd),Rt(Wd)}function hj(e){xa(Wd.current);var t=xa(Zi.current),n=yx(t,e.type);t!==n&&(Ct(zd,e),Ct(Zi,n))}function S_(e){zd.current===e&&(Rt(Zi),Rt(zd))}var Mt=Ks(0);function jg(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Q0=[];function E_(){for(var e=0;e<Q0.length;e++)Q0[e]._workInProgressVersionPrimary=null;Q0.length=0}var Qp=Mo.ReactCurrentDispatcher,X0=Mo.ReactCurrentBatchConfig,La=0,Ft=null,fn=null,An=null,Mg=!1,md=!1,Hd=0,vU=0;function Kn(){throw Error(fe(321))}function I_(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ki(e[n],t[n]))return!1;return!0}function C_(e,t,n,r,i,o){if(La=o,Ft=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qp.current=e===null||e.memoizedState===null?wU:_U,e=n(r,i),md){o=0;do{if(md=!1,Hd=0,25<=o)throw Error(fe(301));o+=1,An=fn=null,t.updateQueue=null,Qp.current=SU,e=n(r,i)}while(md)}if(Qp.current=Lg,t=fn!==null&&fn.next!==null,La=0,An=fn=Ft=null,Mg=!1,t)throw Error(fe(300));return e}function P_(){var e=Hd!==0;return Hd=0,e}function Hi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?Ft.memoizedState=An=e:An=An.next=e,An}function ci(){if(fn===null){var e=Ft.alternate;e=e!==null?e.memoizedState:null}else e=fn.next;var t=An===null?Ft.memoizedState:An.next;if(t!==null)An=t,fn=e;else{if(e===null)throw Error(fe(310));fn=e,e={memoizedState:fn.memoizedState,baseState:fn.baseState,baseQueue:fn.baseQueue,queue:fn.queue,next:null},An===null?Ft.memoizedState=An=e:An=An.next=e}return An}function qd(e,t){return typeof t=="function"?t(e):t}function J0(e){var t=ci(),n=t.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=e;var r=fn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((La&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,Ft.lanes|=c,Fa|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,ki(r,t.memoizedState)||(yr=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Ft.lanes|=o,Fa|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Z0(e){var t=ci(),n=t.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);ki(o,t.memoizedState)||(yr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function pj(){}function gj(e,t){var n=Ft,r=ci(),i=t(),o=!ki(r.memoizedState,i);if(o&&(r.memoizedState=i,yr=!0),r=r.queue,T_(yj.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||An!==null&&An.memoizedState.tag&1){if(n.flags|=2048,Gd(9,vj.bind(null,n,r,i,t),void 0,null),On===null)throw Error(fe(349));La&30||mj(n,t,i)}return i}function mj(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ft.updateQueue,t===null?(t={lastEffect:null,stores:null},Ft.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function vj(e,t,n,r){t.value=n,t.getSnapshot=r,bj(t)&&xj(e)}function yj(e,t,n){return n(function(){bj(t)&&xj(e)})}function bj(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ki(e,n)}catch{return!0}}function xj(e){var t=_o(e,1);t!==null&&Oi(t,e,1,-1)}function GP(e){var t=Hi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qd,lastRenderedState:e},t.queue=e,e=e.dispatch=xU.bind(null,Ft,e),[t.memoizedState,e]}function Gd(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ft.updateQueue,t===null?(t={lastEffect:null,stores:null},Ft.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function wj(){return ci().memoizedState}function Xp(e,t,n,r){var i=Hi();Ft.flags|=e,i.memoizedState=Gd(1|t,n,void 0,r===void 0?null:r)}function bv(e,t,n,r){var i=ci();r=r===void 0?null:r;var o=void 0;if(fn!==null){var s=fn.memoizedState;if(o=s.destroy,r!==null&&I_(r,s.deps)){i.memoizedState=Gd(t,n,o,r);return}}Ft.flags|=e,i.memoizedState=Gd(1|t,n,o,r)}function KP(e,t){return Xp(8390656,8,e,t)}function T_(e,t){return bv(2048,8,e,t)}function _j(e,t){return bv(4,2,e,t)}function Sj(e,t){return bv(4,4,e,t)}function Ej(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ij(e,t,n){return n=n!=null?n.concat([e]):null,bv(4,4,Ej.bind(null,t,e),n)}function A_(){}function Cj(e,t){var n=ci();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&I_(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Pj(e,t){var n=ci();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&I_(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Tj(e,t,n){return La&21?(ki(n,t)||(n=kN(),Ft.lanes|=n,Fa|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yr=!0),e.memoizedState=n)}function yU(e,t){var n=mt;mt=n!==0&&4>n?n:4,e(!0);var r=X0.transition;X0.transition={};try{e(!1),t()}finally{mt=n,X0.transition=r}}function Aj(){return ci().memoizedState}function bU(e,t,n){var r=ms(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Oj(e))Rj(t,n);else if(n=dj(e,t,n,r),n!==null){var i=lr();Oi(n,e,r,i),Dj(n,t,r)}}function xU(e,t,n){var r=ms(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Oj(e))Rj(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ki(a,s)){var l=t.interleaved;l===null?(i.next=i,x_(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=dj(e,t,i,r),n!==null&&(i=lr(),Oi(n,e,r,i),Dj(n,t,r))}}function Oj(e){var t=e.alternate;return e===Ft||t!==null&&t===Ft}function Rj(e,t){md=Mg=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Dj(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,s_(e,n)}}var Lg={readContext:ui,useCallback:Kn,useContext:Kn,useEffect:Kn,useImperativeHandle:Kn,useInsertionEffect:Kn,useLayoutEffect:Kn,useMemo:Kn,useReducer:Kn,useRef:Kn,useState:Kn,useDebugValue:Kn,useDeferredValue:Kn,useTransition:Kn,useMutableSource:Kn,useSyncExternalStore:Kn,useId:Kn,unstable_isNewReconciler:!1},wU={readContext:ui,useCallback:function(e,t){return Hi().memoizedState=[e,t===void 0?null:t],e},useContext:ui,useEffect:KP,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Xp(4194308,4,Ej.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xp(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xp(4,2,e,t)},useMemo:function(e,t){var n=Hi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Hi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=bU.bind(null,Ft,e),[r.memoizedState,e]},useRef:function(e){var t=Hi();return e={current:e},t.memoizedState=e},useState:GP,useDebugValue:A_,useDeferredValue:function(e){return Hi().memoizedState=e},useTransition:function(){var e=GP(!1),t=e[0];return e=yU.bind(null,e[1]),Hi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ft,i=Hi();if(kt){if(n===void 0)throw Error(fe(407));n=n()}else{if(n=t(),On===null)throw Error(fe(349));La&30||mj(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,KP(yj.bind(null,r,o,e),[e]),r.flags|=2048,Gd(9,vj.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Hi(),t=On.identifierPrefix;if(kt){var n=ho,r=fo;n=(r&~(1<<32-Ai(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Hd++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=vU++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_U={readContext:ui,useCallback:Cj,useContext:ui,useEffect:T_,useImperativeHandle:Ij,useInsertionEffect:_j,useLayoutEffect:Sj,useMemo:Pj,useReducer:J0,useRef:wj,useState:function(){return J0(qd)},useDebugValue:A_,useDeferredValue:function(e){var t=ci();return Tj(t,fn.memoizedState,e)},useTransition:function(){var e=J0(qd)[0],t=ci().memoizedState;return[e,t]},useMutableSource:pj,useSyncExternalStore:gj,useId:Aj,unstable_isNewReconciler:!1},SU={readContext:ui,useCallback:Cj,useContext:ui,useEffect:T_,useImperativeHandle:Ij,useInsertionEffect:_j,useLayoutEffect:Sj,useMemo:Pj,useReducer:Z0,useRef:wj,useState:function(){return Z0(qd)},useDebugValue:A_,useDeferredValue:function(e){var t=ci();return fn===null?t.memoizedState=e:Tj(t,fn.memoizedState,e)},useTransition:function(){var e=Z0(qd)[0],t=ci().memoizedState;return[e,t]},useMutableSource:pj,useSyncExternalStore:gj,useId:Aj,unstable_isNewReconciler:!1};function yi(e,t){if(e&&e.defaultProps){t=Bt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function $x(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Bt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var xv={isMounted:function(e){return(e=e._reactInternals)?Za(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=lr(),i=ms(e),o=vo(r,i);o.payload=t,n!=null&&(o.callback=n),t=ps(e,o,i),t!==null&&(Oi(t,e,i,r),Yp(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=lr(),i=ms(e),o=vo(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ps(e,o,i),t!==null&&(Oi(t,e,i,r),Yp(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lr(),r=ms(e),i=vo(n,r);i.tag=2,t!=null&&(i.callback=t),t=ps(e,i,r),t!==null&&(Oi(t,e,r,n),Yp(t,e,r))}};function YP(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!$d(n,r)||!$d(i,o):!0}function kj(e,t,n){var r=!1,i=Ds,o=t.contextType;return typeof o=="object"&&o!==null?o=ui(o):(i=_r(t)?ja:tr.current,r=t.contextTypes,o=(r=r!=null)?uu(e,i):Ds),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=xv,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function QP(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xv.enqueueReplaceState(t,t.state,null)}function Bx(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},w_(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=ui(o):(o=_r(t)?ja:tr.current,i.context=uu(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&($x(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&xv.enqueueReplaceState(i,i.state,null),Ng(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function hu(e,t){try{var n="",r=t;do n+=XV(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function eb(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Vx(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var EU=typeof WeakMap=="function"?WeakMap:Map;function Nj(e,t,n){n=vo(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$g||($g=!0,Xx=r),Vx(e,t)},n}function jj(e,t,n){n=vo(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Vx(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Vx(e,t),typeof r!="function"&&(gs===null?gs=new Set([this]):gs.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function XP(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new EU;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=FU.bind(null,e,t,n),t.then(e,e))}function JP(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ZP(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=vo(-1,1),t.tag=2,ps(n,t,1))),n.lanes|=1),e)}var IU=Mo.ReactCurrentOwner,yr=!1;function ir(e,t,n,r){t.child=e===null?cj(t,null,n,r):du(t,e.child,n,r)}function eT(e,t,n,r,i){n=n.render;var o=t.ref;return Xl(t,i),r=C_(e,t,n,r,o,i),n=P_(),e!==null&&!yr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,So(e,t,i)):(kt&&n&&p_(t),t.flags|=1,ir(e,t,r,i),t.child)}function tT(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!L_(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Mj(e,t,o,r,i)):(e=tg(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:$d,n(s,r)&&e.ref===t.ref)return So(e,t,i)}return t.flags|=1,e=vs(o,r),e.ref=t.ref,e.return=t,t.child=e}function Mj(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if($d(o,r)&&e.ref===t.ref)if(yr=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(yr=!0);else return t.lanes=e.lanes,So(e,t,i)}return Ux(e,t,n,r,i)}function Lj(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ct(zl,Rr),Rr|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ct(zl,Rr),Rr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ct(zl,Rr),Rr|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ct(zl,Rr),Rr|=r;return ir(e,t,i,n),t.child}function Fj(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ux(e,t,n,r,i){var o=_r(n)?ja:tr.current;return o=uu(t,o),Xl(t,i),n=C_(e,t,n,r,o,i),r=P_(),e!==null&&!yr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,So(e,t,i)):(kt&&r&&p_(t),t.flags|=1,ir(e,t,n,i),t.child)}function nT(e,t,n,r,i){if(_r(n)){var o=!0;Ag(t)}else o=!1;if(Xl(t,i),t.stateNode===null)Jp(e,t),kj(t,n,r),Bx(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=ui(u):(u=_r(n)?ja:tr.current,u=uu(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&QP(t,s,r,u),Jo=!1;var f=t.memoizedState;s.state=f,Ng(t,r,s,i),l=t.memoizedState,a!==r||f!==l||wr.current||Jo?(typeof c=="function"&&($x(t,n,c,r),l=t.memoizedState),(a=Jo||YP(t,n,a,r,f,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,fj(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:yi(t.type,a),s.props=u,d=t.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=ui(l):(l=_r(n)?ja:tr.current,l=uu(t,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&QP(t,s,r,l),Jo=!1,f=t.memoizedState,s.state=f,Ng(t,r,s,i);var m=t.memoizedState;a!==d||f!==m||wr.current||Jo?(typeof p=="function"&&($x(t,n,p,r),m=t.memoizedState),(u=Jo||YP(t,n,u,r,f,m,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),s.props=r,s.state=m,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return zx(e,t,n,r,o,i)}function zx(e,t,n,r,i,o){Fj(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&VP(t,n,!1),So(e,t,o);r=t.stateNode,IU.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=du(t,e.child,null,o),t.child=du(t,null,a,o)):ir(e,t,a,o),t.memoizedState=r.state,i&&VP(t,n,!0),t.child}function $j(e){var t=e.stateNode;t.pendingContext?BP(e,t.pendingContext,t.pendingContext!==t.context):t.context&&BP(e,t.context,!1),__(e,t.containerInfo)}function rT(e,t,n,r,i){return cu(),m_(i),t.flags|=256,ir(e,t,n,r),t.child}var Wx={dehydrated:null,treeContext:null,retryLane:0};function Hx(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bj(e,t,n){var r=t.pendingProps,i=Mt.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ct(Mt,i&1),e===null)return Lx(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Sv(s,r,0,null),e=Ta(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Hx(n),t.memoizedState=Wx,e):O_(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return CU(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=vs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=vs(a,o):(o=Ta(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Hx(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Wx,r}return o=e.child,e=o.sibling,r=vs(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function O_(e,t){return t=Sv({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function cp(e,t,n,r){return r!==null&&m_(r),du(t,e.child,null,n),e=O_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function CU(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=eb(Error(fe(422))),cp(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Sv({mode:"visible",children:r.children},i,0,null),o=Ta(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&du(t,e.child,null,s),t.child.memoizedState=Hx(s),t.memoizedState=Wx,o);if(!(t.mode&1))return cp(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(fe(419)),r=eb(o,r,void 0),cp(e,t,s,r)}if(a=(s&e.childLanes)!==0,yr||a){if(r=On,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,_o(e,i),Oi(r,e,i,-1))}return M_(),r=eb(Error(fe(421))),cp(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=$U.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,jr=hs(i.nextSibling),Fr=t,kt=!0,xi=null,e!==null&&(ei[ti++]=fo,ei[ti++]=ho,ei[ti++]=Ma,fo=e.id,ho=e.overflow,Ma=t),t=O_(t,r.children),t.flags|=4096,t)}function iT(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Fx(e.return,t,n)}function tb(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Vj(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ir(e,t,r.children,n),r=Mt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&iT(e,n,t);else if(e.tag===19)iT(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ct(Mt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&jg(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),tb(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&jg(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}tb(t,!0,n,null,o);break;case"together":tb(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function So(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fa|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(fe(153));if(t.child!==null){for(e=t.child,n=vs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=vs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function PU(e,t,n){switch(t.tag){case 3:$j(t),cu();break;case 5:hj(t);break;case 1:_r(t.type)&&Ag(t);break;case 4:__(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ct(Dg,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ct(Mt,Mt.current&1),t.flags|=128,null):n&t.child.childLanes?Bj(e,t,n):(Ct(Mt,Mt.current&1),e=So(e,t,n),e!==null?e.sibling:null);Ct(Mt,Mt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Vj(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ct(Mt,Mt.current),r)break;return null;case 22:case 23:return t.lanes=0,Lj(e,t,n)}return So(e,t,n)}var Uj,qx,zj,Wj;Uj=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qx=function(){};zj=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,xa(Zi.current);var o=null;switch(n){case"input":i=px(e,i),r=px(e,r),o=[];break;case"select":i=Bt({},i,{value:void 0}),r=Bt({},r,{value:void 0}),o=[];break;case"textarea":i=vx(e,i),r=vx(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Pg)}bx(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Dd.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Dd.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&At("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Wj=function(e,t,n,r){n!==r&&(t.flags|=4)};function Rc(e,t){if(!kt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function TU(e,t,n){var r=t.pendingProps;switch(g_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yn(t),null;case 1:return _r(t.type)&&Tg(),Yn(t),null;case 3:return r=t.stateNode,fu(),Rt(wr),Rt(tr),E_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(lp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xi!==null&&(ew(xi),xi=null))),qx(e,t),Yn(t),null;case 5:S_(t);var i=xa(Wd.current);if(n=t.type,e!==null&&t.stateNode!=null)zj(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(fe(166));return Yn(t),null}if(e=xa(Zi.current),lp(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Gi]=t,r[Ud]=o,e=(t.mode&1)!==0,n){case"dialog":At("cancel",r),At("close",r);break;case"iframe":case"object":case"embed":At("load",r);break;case"video":case"audio":for(i=0;i<id.length;i++)At(id[i],r);break;case"source":At("error",r);break;case"img":case"image":case"link":At("error",r),At("load",r);break;case"details":At("toggle",r);break;case"input":hP(r,o),At("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},At("invalid",r);break;case"textarea":gP(r,o),At("invalid",r)}bx(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&ap(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ap(r.textContent,a,e),i=["children",""+a]):Dd.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&At("scroll",r)}switch(n){case"input":Zh(r),pP(r,o,!0);break;case"textarea":Zh(r),mP(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Pg)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=yN(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Gi]=t,e[Ud]=r,Uj(e,t,!1,!1),t.stateNode=e;e:{switch(s=xx(n,r),n){case"dialog":At("cancel",e),At("close",e),i=r;break;case"iframe":case"object":case"embed":At("load",e),i=r;break;case"video":case"audio":for(i=0;i<id.length;i++)At(id[i],e);i=r;break;case"source":At("error",e),i=r;break;case"img":case"image":case"link":At("error",e),At("load",e),i=r;break;case"details":At("toggle",e),i=r;break;case"input":hP(e,r),i=px(e,r),At("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Bt({},r,{value:void 0}),At("invalid",e);break;case"textarea":gP(e,r),i=vx(e,r),At("invalid",e);break;default:i=r}bx(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?wN(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&bN(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&kd(e,l):typeof l=="number"&&kd(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Dd.hasOwnProperty(o)?l!=null&&o==="onScroll"&&At("scroll",e):l!=null&&e_(e,o,l,s))}switch(n){case"input":Zh(e),pP(e,r,!1);break;case"textarea":Zh(e),mP(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Rs(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Gl(e,!!r.multiple,o,!1):r.defaultValue!=null&&Gl(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Pg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Yn(t),null;case 6:if(e&&t.stateNode!=null)Wj(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(fe(166));if(n=xa(Wd.current),xa(Zi.current),lp(t)){if(r=t.stateNode,n=t.memoizedProps,r[Gi]=t,(o=r.nodeValue!==n)&&(e=Fr,e!==null))switch(e.tag){case 3:ap(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ap(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gi]=t,t.stateNode=r}return Yn(t),null;case 13:if(Rt(Mt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(kt&&jr!==null&&t.mode&1&&!(t.flags&128))lj(),cu(),t.flags|=98560,o=!1;else if(o=lp(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(fe(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(fe(317));o[Gi]=t}else cu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Yn(t),o=!1}else xi!==null&&(ew(xi),xi=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Mt.current&1?vn===0&&(vn=3):M_())),t.updateQueue!==null&&(t.flags|=4),Yn(t),null);case 4:return fu(),qx(e,t),e===null&&Bd(t.stateNode.containerInfo),Yn(t),null;case 10:return b_(t.type._context),Yn(t),null;case 17:return _r(t.type)&&Tg(),Yn(t),null;case 19:if(Rt(Mt),o=t.memoizedState,o===null)return Yn(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Rc(o,!1);else{if(vn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=jg(e),s!==null){for(t.flags|=128,Rc(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ct(Mt,Mt.current&1|2),t.child}e=e.sibling}o.tail!==null&&Xt()>pu&&(t.flags|=128,r=!0,Rc(o,!1),t.lanes=4194304)}else{if(!r)if(e=jg(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Rc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!kt)return Yn(t),null}else 2*Xt()-o.renderingStartTime>pu&&n!==1073741824&&(t.flags|=128,r=!0,Rc(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xt(),t.sibling=null,n=Mt.current,Ct(Mt,r?n&1|2:n&1),t):(Yn(t),null);case 22:case 23:return j_(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Rr&1073741824&&(Yn(t),t.subtreeFlags&6&&(t.flags|=8192)):Yn(t),null;case 24:return null;case 25:return null}throw Error(fe(156,t.tag))}function AU(e,t){switch(g_(t),t.tag){case 1:return _r(t.type)&&Tg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fu(),Rt(wr),Rt(tr),E_(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return S_(t),null;case 13:if(Rt(Mt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(fe(340));cu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Rt(Mt),null;case 4:return fu(),null;case 10:return b_(t.type._context),null;case 22:case 23:return j_(),null;case 24:return null;default:return null}}var dp=!1,Jn=!1,OU=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Ul(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ht(e,t,r)}else n.current=null}function Gx(e,t,n){try{n()}catch(r){Ht(e,t,r)}}var oT=!1;function RU(e,t){if(Ox=Eg,e=YN(),h_(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(a=s),f===o&&++c===r&&(l=s),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rx={focusedElem:e,selectionRange:n},Eg=!1,Pe=t;Pe!==null;)if(t=Pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Pe=e;else for(;Pe!==null;){t=Pe;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,y=m.memoizedState,w=t.stateNode,_=w.getSnapshotBeforeUpdate(t.elementType===t.type?v:yi(t.type,v),y);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(P){Ht(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,Pe=e;break}Pe=t.return}return m=oT,oT=!1,m}function vd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Gx(t,n,o)}i=i.next}while(i!==r)}}function wv(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Kx(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Hj(e){var t=e.alternate;t!==null&&(e.alternate=null,Hj(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gi],delete t[Ud],delete t[Nx],delete t[hU],delete t[pU])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function qj(e){return e.tag===5||e.tag===3||e.tag===4}function sT(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yx(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Pg));else if(r!==4&&(e=e.child,e!==null))for(Yx(e,t,n),e=e.sibling;e!==null;)Yx(e,t,n),e=e.sibling}function Qx(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Qx(e,t,n),e=e.sibling;e!==null;)Qx(e,t,n),e=e.sibling}var Fn=null,bi=!1;function Yo(e,t,n){for(n=n.child;n!==null;)Gj(e,t,n),n=n.sibling}function Gj(e,t,n){if(Ji&&typeof Ji.onCommitFiberUnmount=="function")try{Ji.onCommitFiberUnmount(hv,n)}catch{}switch(n.tag){case 5:Jn||Ul(n,t);case 6:var r=Fn,i=bi;Fn=null,Yo(e,t,n),Fn=r,bi=i,Fn!==null&&(bi?(e=Fn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Fn.removeChild(n.stateNode));break;case 18:Fn!==null&&(bi?(e=Fn,n=n.stateNode,e.nodeType===8?K0(e.parentNode,n):e.nodeType===1&&K0(e,n),Ld(e)):K0(Fn,n.stateNode));break;case 4:r=Fn,i=bi,Fn=n.stateNode.containerInfo,bi=!0,Yo(e,t,n),Fn=r,bi=i;break;case 0:case 11:case 14:case 15:if(!Jn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Gx(n,t,s),i=i.next}while(i!==r)}Yo(e,t,n);break;case 1:if(!Jn&&(Ul(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ht(n,t,a)}Yo(e,t,n);break;case 21:Yo(e,t,n);break;case 22:n.mode&1?(Jn=(r=Jn)||n.memoizedState!==null,Yo(e,t,n),Jn=r):Yo(e,t,n);break;default:Yo(e,t,n)}}function aT(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new OU),t.forEach(function(r){var i=BU.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function vi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Fn=a.stateNode,bi=!1;break e;case 3:Fn=a.stateNode.containerInfo,bi=!0;break e;case 4:Fn=a.stateNode.containerInfo,bi=!0;break e}a=a.return}if(Fn===null)throw Error(fe(160));Gj(o,s,i),Fn=null,bi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ht(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Kj(t,e),t=t.sibling}function Kj(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vi(t,e),Ui(e),r&4){try{vd(3,e,e.return),wv(3,e)}catch(v){Ht(e,e.return,v)}try{vd(5,e,e.return)}catch(v){Ht(e,e.return,v)}}break;case 1:vi(t,e),Ui(e),r&512&&n!==null&&Ul(n,n.return);break;case 5:if(vi(t,e),Ui(e),r&512&&n!==null&&Ul(n,n.return),e.flags&32){var i=e.stateNode;try{kd(i,"")}catch(v){Ht(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&mN(i,o),xx(a,s);var u=xx(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?wN(i,d):c==="dangerouslySetInnerHTML"?bN(i,d):c==="children"?kd(i,d):e_(i,c,d,u)}switch(a){case"input":gx(i,o);break;case"textarea":vN(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Gl(i,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?Gl(i,!!o.multiple,o.defaultValue,!0):Gl(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ud]=o}catch(v){Ht(e,e.return,v)}}break;case 6:if(vi(t,e),Ui(e),r&4){if(e.stateNode===null)throw Error(fe(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(v){Ht(e,e.return,v)}}break;case 3:if(vi(t,e),Ui(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ld(t.containerInfo)}catch(v){Ht(e,e.return,v)}break;case 4:vi(t,e),Ui(e);break;case 13:vi(t,e),Ui(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(k_=Xt())),r&4&&aT(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Jn=(u=Jn)||c,vi(t,e),Jn=u):vi(t,e),Ui(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Pe=e,c=e.child;c!==null;){for(d=Pe=c;Pe!==null;){switch(f=Pe,p=f.child,f.tag){case 0:case 11:case 14:case 15:vd(4,f,f.return);break;case 1:Ul(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){Ht(r,n,v)}}break;case 5:Ul(f,f.return);break;case 22:if(f.memoizedState!==null){uT(d);continue}}p!==null?(p.return=f,Pe=p):uT(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=xN("display",s))}catch(v){Ht(e,e.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){Ht(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vi(t,e),Ui(e),r&4&&aT(e);break;case 21:break;default:vi(t,e),Ui(e)}}function Ui(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(qj(n)){var r=n;break e}n=n.return}throw Error(fe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(kd(i,""),r.flags&=-33);var o=sT(e);Qx(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=sT(e);Yx(e,a,s);break;default:throw Error(fe(161))}}catch(l){Ht(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function DU(e,t,n){Pe=e,Yj(e)}function Yj(e,t,n){for(var r=(e.mode&1)!==0;Pe!==null;){var i=Pe,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||dp;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Jn;a=dp;var u=Jn;if(dp=s,(Jn=l)&&!u)for(Pe=i;Pe!==null;)s=Pe,l=s.child,s.tag===22&&s.memoizedState!==null?cT(i):l!==null?(l.return=s,Pe=l):cT(i);for(;o!==null;)Pe=o,Yj(o),o=o.sibling;Pe=i,dp=a,Jn=u}lT(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Pe=o):lT(e)}}function lT(e){for(;Pe!==null;){var t=Pe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Jn||wv(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Jn)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:yi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&qP(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}qP(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ld(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}Jn||t.flags&512&&Kx(t)}catch(f){Ht(t,t.return,f)}}if(t===e){Pe=null;break}if(n=t.sibling,n!==null){n.return=t.return,Pe=n;break}Pe=t.return}}function uT(e){for(;Pe!==null;){var t=Pe;if(t===e){Pe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Pe=n;break}Pe=t.return}}function cT(e){for(;Pe!==null;){var t=Pe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{wv(4,t)}catch(l){Ht(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Ht(t,i,l)}}var o=t.return;try{Kx(t)}catch(l){Ht(t,o,l)}break;case 5:var s=t.return;try{Kx(t)}catch(l){Ht(t,s,l)}}}catch(l){Ht(t,t.return,l)}if(t===e){Pe=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Pe=a;break}Pe=t.return}}var kU=Math.ceil,Fg=Mo.ReactCurrentDispatcher,R_=Mo.ReactCurrentOwner,ai=Mo.ReactCurrentBatchConfig,ct=0,On=null,rn=null,zn=0,Rr=0,zl=Ks(0),vn=0,Kd=null,Fa=0,_v=0,D_=0,yd=null,vr=null,k_=0,pu=1/0,ao=null,$g=!1,Xx=null,gs=null,fp=!1,is=null,Bg=0,bd=0,Jx=null,Zp=-1,eg=0;function lr(){return ct&6?Xt():Zp!==-1?Zp:Zp=Xt()}function ms(e){return e.mode&1?ct&2&&zn!==0?zn&-zn:mU.transition!==null?(eg===0&&(eg=kN()),eg):(e=mt,e!==0||(e=window.event,e=e===void 0?16:BN(e.type)),e):1}function Oi(e,t,n,r){if(50<bd)throw bd=0,Jx=null,Error(fe(185));Bf(e,n,r),(!(ct&2)||e!==On)&&(e===On&&(!(ct&2)&&(_v|=n),vn===4&&ts(e,zn)),Sr(e,r),n===1&&ct===0&&!(t.mode&1)&&(pu=Xt()+500,yv&&Ys()))}function Sr(e,t){var n=e.callbackNode;m8(e,t);var r=Sg(e,e===On?zn:0);if(r===0)n!==null&&bP(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&bP(n),t===1)e.tag===0?gU(dT.bind(null,e)):oj(dT.bind(null,e)),dU(function(){!(ct&6)&&Ys()}),n=null;else{switch(NN(r)){case 1:n=o_;break;case 4:n=RN;break;case 16:n=_g;break;case 536870912:n=DN;break;default:n=_g}n=rM(n,Qj.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Qj(e,t){if(Zp=-1,eg=0,ct&6)throw Error(fe(327));var n=e.callbackNode;if(Jl()&&e.callbackNode!==n)return null;var r=Sg(e,e===On?zn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Vg(e,r);else{t=r;var i=ct;ct|=2;var o=Jj();(On!==e||zn!==t)&&(ao=null,pu=Xt()+500,Pa(e,t));do try{MU();break}catch(a){Xj(e,a)}while(!0);y_(),Fg.current=o,ct=i,rn!==null?t=0:(On=null,zn=0,t=vn)}if(t!==0){if(t===2&&(i=Ix(e),i!==0&&(r=i,t=Zx(e,i))),t===1)throw n=Kd,Pa(e,0),ts(e,r),Sr(e,Xt()),n;if(t===6)ts(e,r);else{if(i=e.current.alternate,!(r&30)&&!NU(i)&&(t=Vg(e,r),t===2&&(o=Ix(e),o!==0&&(r=o,t=Zx(e,o))),t===1))throw n=Kd,Pa(e,0),ts(e,r),Sr(e,Xt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(fe(345));case 2:ca(e,vr,ao);break;case 3:if(ts(e,r),(r&130023424)===r&&(t=k_+500-Xt(),10<t)){if(Sg(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){lr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=kx(ca.bind(null,e,vr,ao),t);break}ca(e,vr,ao);break;case 4:if(ts(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Ai(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kU(r/1960))-r,10<r){e.timeoutHandle=kx(ca.bind(null,e,vr,ao),r);break}ca(e,vr,ao);break;case 5:ca(e,vr,ao);break;default:throw Error(fe(329))}}}return Sr(e,Xt()),e.callbackNode===n?Qj.bind(null,e):null}function Zx(e,t){var n=yd;return e.current.memoizedState.isDehydrated&&(Pa(e,t).flags|=256),e=Vg(e,t),e!==2&&(t=vr,vr=n,t!==null&&ew(t)),e}function ew(e){vr===null?vr=e:vr.push.apply(vr,e)}function NU(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ki(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ts(e,t){for(t&=~D_,t&=~_v,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ai(t),r=1<<n;e[n]=-1,t&=~r}}function dT(e){if(ct&6)throw Error(fe(327));Jl();var t=Sg(e,0);if(!(t&1))return Sr(e,Xt()),null;var n=Vg(e,t);if(e.tag!==0&&n===2){var r=Ix(e);r!==0&&(t=r,n=Zx(e,r))}if(n===1)throw n=Kd,Pa(e,0),ts(e,t),Sr(e,Xt()),n;if(n===6)throw Error(fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ca(e,vr,ao),Sr(e,Xt()),null}function N_(e,t){var n=ct;ct|=1;try{return e(t)}finally{ct=n,ct===0&&(pu=Xt()+500,yv&&Ys())}}function $a(e){is!==null&&is.tag===0&&!(ct&6)&&Jl();var t=ct;ct|=1;var n=ai.transition,r=mt;try{if(ai.transition=null,mt=1,e)return e()}finally{mt=r,ai.transition=n,ct=t,!(ct&6)&&Ys()}}function j_(){Rr=zl.current,Rt(zl)}function Pa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,cU(n)),rn!==null)for(n=rn.return;n!==null;){var r=n;switch(g_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Tg();break;case 3:fu(),Rt(wr),Rt(tr),E_();break;case 5:S_(r);break;case 4:fu();break;case 13:Rt(Mt);break;case 19:Rt(Mt);break;case 10:b_(r.type._context);break;case 22:case 23:j_()}n=n.return}if(On=e,rn=e=vs(e.current,null),zn=Rr=t,vn=0,Kd=null,D_=_v=Fa=0,vr=yd=null,ba!==null){for(t=0;t<ba.length;t++)if(n=ba[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ba=null}return e}function Xj(e,t){do{var n=rn;try{if(y_(),Qp.current=Lg,Mg){for(var r=Ft.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Mg=!1}if(La=0,An=fn=Ft=null,md=!1,Hd=0,R_.current=null,n===null||n.return===null){vn=1,Kd=t,rn=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=zn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=JP(s);if(p!==null){p.flags&=-257,ZP(p,s,a,o,t),p.mode&1&&XP(o,u,t),t=p,l=u;var m=t.updateQueue;if(m===null){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}else{if(!(t&1)){XP(o,u,t),M_();break e}l=Error(fe(426))}}else if(kt&&a.mode&1){var y=JP(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),ZP(y,s,a,o,t),m_(hu(l,a));break e}}o=l=hu(l,a),vn!==4&&(vn=2),yd===null?yd=[o]:yd.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=Nj(o,l,t);HP(o,w);break e;case 1:a=l;var _=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(gs===null||!gs.has(S)))){o.flags|=65536,t&=-t,o.lanes|=t;var P=jj(o,a,t);HP(o,P);break e}}o=o.return}while(o!==null)}eM(n)}catch(R){t=R,rn===n&&n!==null&&(rn=n=n.return);continue}break}while(!0)}function Jj(){var e=Fg.current;return Fg.current=Lg,e===null?Lg:e}function M_(){(vn===0||vn===3||vn===2)&&(vn=4),On===null||!(Fa&268435455)&&!(_v&268435455)||ts(On,zn)}function Vg(e,t){var n=ct;ct|=2;var r=Jj();(On!==e||zn!==t)&&(ao=null,Pa(e,t));do try{jU();break}catch(i){Xj(e,i)}while(!0);if(y_(),ct=n,Fg.current=r,rn!==null)throw Error(fe(261));return On=null,zn=0,vn}function jU(){for(;rn!==null;)Zj(rn)}function MU(){for(;rn!==null&&!a8();)Zj(rn)}function Zj(e){var t=nM(e.alternate,e,Rr);e.memoizedProps=e.pendingProps,t===null?eM(e):rn=t,R_.current=null}function eM(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=AU(n,t),n!==null){n.flags&=32767,rn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{vn=6,rn=null;return}}else if(n=TU(n,t,Rr),n!==null){rn=n;return}if(t=t.sibling,t!==null){rn=t;return}rn=t=e}while(t!==null);vn===0&&(vn=5)}function ca(e,t,n){var r=mt,i=ai.transition;try{ai.transition=null,mt=1,LU(e,t,n,r)}finally{ai.transition=i,mt=r}return null}function LU(e,t,n,r){do Jl();while(is!==null);if(ct&6)throw Error(fe(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(fe(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(v8(e,o),e===On&&(rn=On=null,zn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fp||(fp=!0,rM(_g,function(){return Jl(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ai.transition,ai.transition=null;var s=mt;mt=1;var a=ct;ct|=4,R_.current=null,RU(e,n),Kj(n,e),rU(Rx),Eg=!!Ox,Rx=Ox=null,e.current=n,DU(n),l8(),ct=a,mt=s,ai.transition=o}else e.current=n;if(fp&&(fp=!1,is=e,Bg=i),o=e.pendingLanes,o===0&&(gs=null),d8(n.stateNode),Sr(e,Xt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($g)throw $g=!1,e=Xx,Xx=null,e;return Bg&1&&e.tag!==0&&Jl(),o=e.pendingLanes,o&1?e===Jx?bd++:(bd=0,Jx=e):bd=0,Ys(),null}function Jl(){if(is!==null){var e=NN(Bg),t=ai.transition,n=mt;try{if(ai.transition=null,mt=16>e?16:e,is===null)var r=!1;else{if(e=is,is=null,Bg=0,ct&6)throw Error(fe(331));var i=ct;for(ct|=4,Pe=e.current;Pe!==null;){var o=Pe,s=o.child;if(Pe.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Pe=u;Pe!==null;){var c=Pe;switch(c.tag){case 0:case 11:case 15:vd(8,c,o)}var d=c.child;if(d!==null)d.return=c,Pe=d;else for(;Pe!==null;){c=Pe;var f=c.sibling,p=c.return;if(Hj(c),c===u){Pe=null;break}if(f!==null){f.return=p,Pe=f;break}Pe=p}}}var m=o.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}Pe=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Pe=s;else e:for(;Pe!==null;){if(o=Pe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:vd(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,Pe=w;break e}Pe=o.return}}var _=e.current;for(Pe=_;Pe!==null;){s=Pe;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,Pe=S;else e:for(s=_;Pe!==null;){if(a=Pe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:wv(9,a)}}catch(R){Ht(a,a.return,R)}if(a===s){Pe=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,Pe=P;break e}Pe=a.return}}if(ct=i,Ys(),Ji&&typeof Ji.onPostCommitFiberRoot=="function")try{Ji.onPostCommitFiberRoot(hv,e)}catch{}r=!0}return r}finally{mt=n,ai.transition=t}}return!1}function fT(e,t,n){t=hu(n,t),t=Nj(e,t,1),e=ps(e,t,1),t=lr(),e!==null&&(Bf(e,1,t),Sr(e,t))}function Ht(e,t,n){if(e.tag===3)fT(e,e,n);else for(;t!==null;){if(t.tag===3){fT(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gs===null||!gs.has(r))){e=hu(n,e),e=jj(t,e,1),t=ps(t,e,1),e=lr(),t!==null&&(Bf(t,1,e),Sr(t,e));break}}t=t.return}}function FU(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=lr(),e.pingedLanes|=e.suspendedLanes&n,On===e&&(zn&n)===n&&(vn===4||vn===3&&(zn&130023424)===zn&&500>Xt()-k_?Pa(e,0):D_|=n),Sr(e,t)}function tM(e,t){t===0&&(e.mode&1?(t=np,np<<=1,!(np&130023424)&&(np=4194304)):t=1);var n=lr();e=_o(e,t),e!==null&&(Bf(e,t,n),Sr(e,n))}function $U(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),tM(e,n)}function BU(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(fe(314))}r!==null&&r.delete(t),tM(e,n)}var nM;nM=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||wr.current)yr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return yr=!1,PU(e,t,n);yr=!!(e.flags&131072)}else yr=!1,kt&&t.flags&1048576&&sj(t,Rg,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Jp(e,t),e=t.pendingProps;var i=uu(t,tr.current);Xl(t,n),i=C_(null,t,r,e,i,n);var o=P_();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_r(r)?(o=!0,Ag(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,w_(t),i.updater=xv,t.stateNode=i,i._reactInternals=t,Bx(t,r,e,n),t=zx(null,t,r,!0,o,n)):(t.tag=0,kt&&o&&p_(t),ir(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Jp(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=UU(r),e=yi(r,e),i){case 0:t=Ux(null,t,r,e,n);break e;case 1:t=nT(null,t,r,e,n);break e;case 11:t=eT(null,t,r,e,n);break e;case 14:t=tT(null,t,r,yi(r.type,e),n);break e}throw Error(fe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yi(r,i),Ux(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yi(r,i),nT(e,t,r,i,n);case 3:e:{if($j(t),e===null)throw Error(fe(387));r=t.pendingProps,o=t.memoizedState,i=o.element,fj(e,t),Ng(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=hu(Error(fe(423)),t),t=rT(e,t,r,n,i);break e}else if(r!==i){i=hu(Error(fe(424)),t),t=rT(e,t,r,n,i);break e}else for(jr=hs(t.stateNode.containerInfo.firstChild),Fr=t,kt=!0,xi=null,n=cj(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(cu(),r===i){t=So(e,t,n);break e}ir(e,t,r,n)}t=t.child}return t;case 5:return hj(t),e===null&&Lx(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Dx(r,i)?s=null:o!==null&&Dx(r,o)&&(t.flags|=32),Fj(e,t),ir(e,t,s,n),t.child;case 6:return e===null&&Lx(t),null;case 13:return Bj(e,t,n);case 4:return __(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=du(t,null,r,n):ir(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yi(r,i),eT(e,t,r,i,n);case 7:return ir(e,t,t.pendingProps,n),t.child;case 8:return ir(e,t,t.pendingProps.children,n),t.child;case 12:return ir(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ct(Dg,r._currentValue),r._currentValue=s,o!==null)if(ki(o.value,s)){if(o.children===i.children&&!wr.current){t=So(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=vo(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Fx(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(fe(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Fx(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ir(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Xl(t,n),i=ui(i),r=r(i),t.flags|=1,ir(e,t,r,n),t.child;case 14:return r=t.type,i=yi(r,t.pendingProps),i=yi(r.type,i),tT(e,t,r,i,n);case 15:return Mj(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yi(r,i),Jp(e,t),t.tag=1,_r(r)?(e=!0,Ag(t)):e=!1,Xl(t,n),kj(t,r,i),Bx(t,r,i,n),zx(null,t,r,!0,e,n);case 19:return Vj(e,t,n);case 22:return Lj(e,t,n)}throw Error(fe(156,t.tag))};function rM(e,t){return ON(e,t)}function VU(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(e,t,n,r){return new VU(e,t,n,r)}function L_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function UU(e){if(typeof e=="function")return L_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===n_)return 11;if(e===r_)return 14}return 2}function vs(e,t){var n=e.alternate;return n===null?(n=ni(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function tg(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")L_(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case kl:return Ta(n.children,i,o,t);case t_:s=8,i|=8;break;case cx:return e=ni(12,n,t,i|2),e.elementType=cx,e.lanes=o,e;case dx:return e=ni(13,n,t,i),e.elementType=dx,e.lanes=o,e;case fx:return e=ni(19,n,t,i),e.elementType=fx,e.lanes=o,e;case hN:return Sv(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dN:s=10;break e;case fN:s=9;break e;case n_:s=11;break e;case r_:s=14;break e;case Xo:s=16,r=null;break e}throw Error(fe(130,e==null?e:typeof e,""))}return t=ni(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Ta(e,t,n,r){return e=ni(7,e,r,t),e.lanes=n,e}function Sv(e,t,n,r){return e=ni(22,e,r,t),e.elementType=hN,e.lanes=n,e.stateNode={isHidden:!1},e}function nb(e,t,n){return e=ni(6,e,null,t),e.lanes=n,e}function rb(e,t,n){return t=ni(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zU(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=L0(0),this.expirationTimes=L0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=L0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function F_(e,t,n,r,i,o,s,a,l){return e=new zU(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ni(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},w_(o),e}function WU(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dl,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function iM(e){if(!e)return Ds;e=e._reactInternals;e:{if(Za(e)!==e||e.tag!==1)throw Error(fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_r(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(fe(171))}if(e.tag===1){var n=e.type;if(_r(n))return ij(e,n,t)}return t}function oM(e,t,n,r,i,o,s,a,l){return e=F_(n,r,!0,e,i,o,s,a,l),e.context=iM(null),n=e.current,r=lr(),i=ms(n),o=vo(r,i),o.callback=t??null,ps(n,o,i),e.current.lanes=i,Bf(e,i,r),Sr(e,r),e}function Ev(e,t,n,r){var i=t.current,o=lr(),s=ms(i);return n=iM(n),t.context===null?t.context=n:t.pendingContext=n,t=vo(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ps(i,t,s),e!==null&&(Oi(e,i,s,o),Yp(e,i,s)),s}function Ug(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function $_(e,t){hT(e,t),(e=e.alternate)&&hT(e,t)}function HU(){return null}var sM=typeof reportError=="function"?reportError:function(e){console.error(e)};function B_(e){this._internalRoot=e}Iv.prototype.render=B_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(fe(409));Ev(e,t,null,null)};Iv.prototype.unmount=B_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$a(function(){Ev(null,e,null,null)}),t[wo]=null}};function Iv(e){this._internalRoot=e}Iv.prototype.unstable_scheduleHydration=function(e){if(e){var t=LN();e={blockedOn:null,target:e,priority:t};for(var n=0;n<es.length&&t!==0&&t<es[n].priority;n++);es.splice(n,0,e),n===0&&$N(e)}};function V_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Cv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pT(){}function qU(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Ug(s);o.call(u)}}var s=oM(t,r,e,0,null,!1,!1,"",pT);return e._reactRootContainer=s,e[wo]=s.current,Bd(e.nodeType===8?e.parentNode:e),$a(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Ug(l);a.call(u)}}var l=F_(e,0,!1,null,null,!1,!1,"",pT);return e._reactRootContainer=l,e[wo]=l.current,Bd(e.nodeType===8?e.parentNode:e),$a(function(){Ev(t,l,n,r)}),l}function Pv(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Ug(s);a.call(l)}}Ev(t,s,e,i)}else s=qU(n,t,e,i,r);return Ug(s)}jN=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=rd(t.pendingLanes);n!==0&&(s_(t,n|1),Sr(t,Xt()),!(ct&6)&&(pu=Xt()+500,Ys()))}break;case 13:$a(function(){var r=_o(e,1);if(r!==null){var i=lr();Oi(r,e,1,i)}}),$_(e,1)}};a_=function(e){if(e.tag===13){var t=_o(e,134217728);if(t!==null){var n=lr();Oi(t,e,134217728,n)}$_(e,134217728)}};MN=function(e){if(e.tag===13){var t=ms(e),n=_o(e,t);if(n!==null){var r=lr();Oi(n,e,t,r)}$_(e,t)}};LN=function(){return mt};FN=function(e,t){var n=mt;try{return mt=e,t()}finally{mt=n}};_x=function(e,t,n){switch(t){case"input":if(gx(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=vv(r);if(!i)throw Error(fe(90));gN(r),gx(r,i)}}}break;case"textarea":vN(e,n);break;case"select":t=n.value,t!=null&&Gl(e,!!n.multiple,t,!1)}};EN=N_;IN=$a;var GU={usingClientEntryPoint:!1,Events:[Uf,Ll,vv,_N,SN,N_]},Dc={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KU={bundleType:Dc.bundleType,version:Dc.version,rendererPackageName:Dc.rendererPackageName,rendererConfig:Dc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=TN(e),e===null?null:e.stateNode},findFiberByHostInstance:Dc.findFiberByHostInstance||HU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hp.isDisabled&&hp.supportsFiber)try{hv=hp.inject(KU),Ji=hp}catch{}}Gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GU;Gr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!V_(t))throw Error(fe(200));return WU(e,t,null,n)};Gr.createRoot=function(e,t){if(!V_(e))throw Error(fe(299));var n=!1,r="",i=sM;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=F_(e,1,!1,null,null,n,!1,r,i),e[wo]=t.current,Bd(e.nodeType===8?e.parentNode:e),new B_(t)};Gr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(fe(188)):(e=Object.keys(e).join(","),Error(fe(268,e)));return e=TN(t),e=e===null?null:e.stateNode,e};Gr.flushSync=function(e){return $a(e)};Gr.hydrate=function(e,t,n){if(!Cv(t))throw Error(fe(200));return Pv(null,e,t,!0,n)};Gr.hydrateRoot=function(e,t,n){if(!V_(e))throw Error(fe(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=sM;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=oM(t,null,e,1,n??null,i,!1,o,s),e[wo]=t.current,Bd(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Iv(t)};Gr.render=function(e,t,n){if(!Cv(t))throw Error(fe(200));return Pv(null,e,t,!1,n)};Gr.unmountComponentAtNode=function(e){if(!Cv(e))throw Error(fe(40));return e._reactRootContainer?($a(function(){Pv(null,null,e,!1,function(){e._reactRootContainer=null,e[wo]=null})}),!0):!1};Gr.unstable_batchedUpdates=N_;Gr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Cv(n))throw Error(fe(200));if(e==null||e._reactInternals===void 0)throw Error(fe(38));return Pv(e,t,n,!1,r)};Gr.version="18.3.1-next-f1338f8080-20240426";function aM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aM)}catch(e){console.error(e)}}aM(),aN.exports=Gr;var Wf=aN.exports;const YU=ji(Wf);var gT=Wf;lx.createRoot=gT.createRoot,lx.hydrateRoot=gT.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yd(){return Yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yd.apply(this,arguments)}var os;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(os||(os={}));const mT="popstate";function QU(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return tw("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:zg(i)}return JU(t,n,null,e)}function an(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function U_(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function XU(){return Math.random().toString(36).substr(2,8)}function vT(e,t){return{usr:e.state,key:e.key,idx:t}}function tw(e,t,n,r){return n===void 0&&(n=null),Yd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Wu(t):t,{state:n,key:t&&t.key||r||XU()})}function zg(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Wu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function JU(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=os.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(Yd({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function d(){a=os.Pop;let y=c(),w=y==null?null:y-u;u=y,l&&l({action:a,location:v.location,delta:w})}function f(y,w){a=os.Push;let _=tw(v.location,y,w);u=c()+1;let S=vT(_,u),P=v.createHref(_);try{s.pushState(S,"",P)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(P)}o&&l&&l({action:a,location:v.location,delta:1})}function p(y,w){a=os.Replace;let _=tw(v.location,y,w);u=c();let S=vT(_,u),P=v.createHref(_);s.replaceState(S,"",P),o&&l&&l({action:a,location:v.location,delta:0})}function m(y){let w=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof y=="string"?y:zg(y);return _=_.replace(/ $/,"%20"),an(w,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,w)}let v={get action(){return a},get location(){return e(i,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(mT,d),l=y,()=>{i.removeEventListener(mT,d),l=null}},createHref(y){return t(i,y)},createURL:m,encodeLocation(y){let w=m(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:p,go(y){return s.go(y)}};return v}var yT;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(yT||(yT={}));function ZU(e,t,n){return n===void 0&&(n="/"),e7(e,t,n)}function e7(e,t,n,r){let i=typeof t=="string"?Wu(t):t,o=z_(i.pathname||"/",n);if(o==null)return null;let s=lM(e);t7(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=h7(o);a=c7(s[l],u)}return a}function lM(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(an(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ys([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(an(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),lM(o.children,t,c,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:l7(u,o.index),routesMeta:c})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of uM(o.path))i(o,s,l)}),t}function uM(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=uM(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function t7(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:u7(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const n7=/^:[\w-]+$/,r7=3,i7=2,o7=1,s7=10,a7=-2,bT=e=>e==="*";function l7(e,t){let n=e.split("/"),r=n.length;return n.some(bT)&&(r+=a7),t&&(r+=i7),n.filter(i=>!bT(i)).reduce((i,o)=>i+(n7.test(o)?r7:o===""?o7:s7),r)}function u7(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function c7(e,t,n){let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=o==="/"?t:t.slice(o.length)||"/",d=d7({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:ys([o,d.pathname]),pathnameBase:y7(ys([o,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(o=ys([o,d.pathnameBase]))}return s}function d7(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=f7(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:f,isOptional:p}=c;if(f==="*"){let v=a[d]||"";s=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const m=a[d];return p&&!m?u[f]=void 0:u[f]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:e}}function f7(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),U_(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function h7(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return U_(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function z_(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const p7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,g7=e=>p7.test(e);function m7(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Wu(e):e,o;if(n)if(g7(n))o=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),U_(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?o=xT(n.substring(1),"/"):o=xT(n,t)}else o=t;return{pathname:o,search:b7(r),hash:x7(i)}}function xT(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ib(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function v7(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function cM(e,t){let n=v7(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function dM(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Wu(e):(i=Yd({},e),an(!i.pathname||!i.pathname.includes("?"),ib("?","pathname","search",i)),an(!i.pathname||!i.pathname.includes("#"),ib("#","pathname","hash",i)),an(!i.search||!i.search.includes("#"),ib("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=t.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?t[d]:"/"}let l=m7(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ys=e=>e.join("/").replace(/\/\/+/g,"/"),y7=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),b7=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,x7=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function w7(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const fM=["post","put","patch","delete"];new Set(fM);const _7=["get",...fM];new Set(_7);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qd(){return Qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qd.apply(this,arguments)}const W_=b.createContext(null),S7=b.createContext(null),el=b.createContext(null),Tv=b.createContext(null),tl=b.createContext({outlet:null,matches:[],isDataRoute:!1}),hM=b.createContext(null);function E7(e,t){let{relative:n}=t===void 0?{}:t;Hf()||an(!1);let{basename:r,navigator:i}=b.useContext(el),{hash:o,pathname:s,search:a}=gM(e,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:ys([r,s])),i.createHref({pathname:l,search:a,hash:o})}function Hf(){return b.useContext(Tv)!=null}function nl(){return Hf()||an(!1),b.useContext(Tv).location}function pM(e){b.useContext(el).static||b.useLayoutEffect(e)}function gi(){let{isDataRoute:e}=b.useContext(tl);return e?L7():I7()}function I7(){Hf()||an(!1);let e=b.useContext(W_),{basename:t,future:n,navigator:r}=b.useContext(el),{matches:i}=b.useContext(tl),{pathname:o}=nl(),s=JSON.stringify(cM(i,n.v7_relativeSplatPath)),a=b.useRef(!1);return pM(()=>{a.current=!0}),b.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=dM(u,JSON.parse(s),o,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ys([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,s,o,e])}function gM(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=b.useContext(el),{matches:i}=b.useContext(tl),{pathname:o}=nl(),s=JSON.stringify(cM(i,r.v7_relativeSplatPath));return b.useMemo(()=>dM(e,JSON.parse(s),o,n==="path"),[e,s,o,n])}function C7(e,t){return P7(e,t)}function P7(e,t,n,r){Hf()||an(!1);let{navigator:i}=b.useContext(el),{matches:o}=b.useContext(tl),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=nl(),c;if(t){var d;let y=typeof t=="string"?Wu(t):t;l==="/"||(d=y.pathname)!=null&&d.startsWith(l)||an(!1),c=y}else c=u;let f=c.pathname||"/",p=f;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=ZU(e,{pathname:p}),v=D7(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:ys([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:ys([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n,r);return t&&v?b.createElement(Tv.Provider,{value:{location:Qd({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:os.Pop}},v):v}function T7(){let e=M7(),t=w7(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:i},n):null,null)}const A7=b.createElement(T7,null);class O7 extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(tl.Provider,{value:this.props.routeContext},b.createElement(hM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function R7(e){let{routeContext:t,match:n,children:r}=e,i=b.useContext(W_);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(tl.Provider,{value:t},r)}function D7(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||an(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let d=s[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:p}=n,m=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,d,f)=>{let p,m=!1,v=null,y=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||A7,l&&(u<0&&f===0?(F7("route-fallback"),m=!0,y=null):u===f&&(m=!0,y=d.route.hydrateFallbackElement||null)));let w=t.concat(s.slice(0,f+1)),_=()=>{let S;return p?S=v:m?S=y:d.route.Component?S=b.createElement(d.route.Component,null):d.route.element?S=d.route.element:S=c,b.createElement(R7,{match:d,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:S})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?b.createElement(O7,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):_()},null)}var mM=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(mM||{}),vM=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(vM||{});function k7(e){let t=b.useContext(W_);return t||an(!1),t}function N7(e){let t=b.useContext(S7);return t||an(!1),t}function j7(e){let t=b.useContext(tl);return t||an(!1),t}function yM(e){let t=j7(),n=t.matches[t.matches.length-1];return n.route.id||an(!1),n.route.id}function M7(){var e;let t=b.useContext(hM),n=N7(),r=yM();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function L7(){let{router:e}=k7(mM.UseNavigateStable),t=yM(vM.UseNavigateStable),n=b.useRef(!1);return pM(()=>{n.current=!0}),b.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Qd({fromRouteId:t},o)))},[e,t])}const wT={};function F7(e,t,n){wT[e]||(wT[e]=!0)}function $7(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Or(e){an(!1)}function B7(e){let{basename:t="/",children:n=null,location:r,navigationType:i=os.Pop,navigator:o,static:s=!1,future:a}=e;Hf()&&an(!1);let l=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:o,static:s,future:Qd({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=Wu(r));let{pathname:c="/",search:d="",hash:f="",state:p=null,key:m="default"}=r,v=b.useMemo(()=>{let y=z_(c,l);return y==null?null:{location:{pathname:y,search:d,hash:f,state:p,key:m},navigationType:i}},[l,c,d,f,p,m,i]);return v==null?null:b.createElement(el.Provider,{value:u},b.createElement(Tv.Provider,{children:n,value:v}))}function V7(e){let{children:t,location:n}=e;return C7(nw(t),n)}new Promise(()=>{});function nw(e,t){t===void 0&&(t=[]);let n=[];return b.Children.forEach(e,(r,i)=>{if(!b.isValidElement(r))return;let o=[...t,i];if(r.type===b.Fragment){n.push.apply(n,nw(r.props.children,o));return}r.type!==Or&&an(!1),!r.props.index||!r.props.children||an(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=nw(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rw(){return rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rw.apply(this,arguments)}function U7(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function z7(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function W7(e,t){return e.button===0&&(!t||t==="_self")&&!z7(e)}const H7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],q7="6";try{window.__reactRouterVersion=q7}catch{}const G7="startTransition",_T=oN[G7];function K7(e){let{basename:t,children:n,future:r,window:i}=e,o=b.useRef();o.current==null&&(o.current=QU({window:i,v5Compat:!0}));let s=o.current,[a,l]=b.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=b.useCallback(d=>{u&&_T?_T(()=>l(d)):l(d)},[l,u]);return b.useLayoutEffect(()=>s.listen(c),[s,c]),b.useEffect(()=>$7(r),[r]),b.createElement(B7,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const Y7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Q7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Le=b.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d}=t,f=U7(t,H7),{basename:p}=b.useContext(el),m,v=!1;if(typeof u=="string"&&Q7.test(u)&&(m=u,Y7))try{let S=new URL(window.location.href),P=u.startsWith("//")?new URL(S.protocol+u):new URL(u),R=z_(P.pathname,p);P.origin===S.origin&&R!=null?u=R+P.search+P.hash:v=!0}catch{}let y=E7(u,{relative:i}),w=X7(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d});function _(S){r&&r(S),S.defaultPrevented||w(S)}return b.createElement("a",rw({},f,{href:m||y,onClick:v||o?r:_,ref:n,target:l}))});var ST;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ST||(ST={}));var ET;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ET||(ET={}));function X7(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=t===void 0?{}:t,l=gi(),u=nl(),c=gM(e,{relative:s});return b.useCallback(d=>{if(W7(d,n)){d.preventDefault();let f=r!==void 0?r:zg(u)===zg(c);l(e,{replace:f,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[u,l,c,r,i,n,e,o,s,a])}function bM(e,t){return function(){return e.apply(t,arguments)}}const{toString:J7}=Object.prototype,{getPrototypeOf:H_}=Object,{iterator:Av,toStringTag:xM}=Symbol,Ov=(e=>t=>{const n=J7.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Mi=e=>(e=e.toLowerCase(),t=>Ov(t)===e),Rv=e=>t=>typeof t===e,{isArray:Hu}=Array,gu=Rv("undefined");function qf(e){return e!==null&&!gu(e)&&e.constructor!==null&&!gu(e.constructor)&&Er(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const wM=Mi("ArrayBuffer");function Z7(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&wM(e.buffer),t}const ez=Rv("string"),Er=Rv("function"),_M=Rv("number"),Gf=e=>e!==null&&typeof e=="object",tz=e=>e===!0||e===!1,ng=e=>{if(Ov(e)!=="object")return!1;const t=H_(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(xM in e)&&!(Av in e)},nz=e=>{if(!Gf(e)||qf(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},rz=Mi("Date"),iz=Mi("File"),oz=Mi("Blob"),sz=Mi("FileList"),az=e=>Gf(e)&&Er(e.pipe),lz=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Er(e.append)&&((t=Ov(e))==="formdata"||t==="object"&&Er(e.toString)&&e.toString()==="[object FormData]"))},uz=Mi("URLSearchParams"),[cz,dz,fz,hz]=["ReadableStream","Request","Response","Headers"].map(Mi),pz=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Kf(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Hu(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{if(qf(e))return;const o=n?Object.getOwnPropertyNames(e):Object.keys(e),s=o.length;let a;for(r=0;r<s;r++)a=o[r],t.call(null,e[a],a,e)}}function SM(e,t){if(qf(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const wa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,EM=e=>!gu(e)&&e!==wa;function iw(){const{caseless:e,skipUndefined:t}=EM(this)&&this||{},n={},r=(i,o)=>{const s=e&&SM(n,o)||o;ng(n[s])&&ng(i)?n[s]=iw(n[s],i):ng(i)?n[s]=iw({},i):Hu(i)?n[s]=i.slice():(!t||!gu(i))&&(n[s]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&Kf(arguments[i],r);return n}const gz=(e,t,n,{allOwnKeys:r}={})=>(Kf(t,(i,o)=>{n&&Er(i)?e[o]=bM(i,n):e[o]=i},{allOwnKeys:r}),e),mz=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),vz=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},yz=(e,t,n,r)=>{let i,o,s;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],(!r||r(s,e,t))&&!a[s]&&(t[s]=e[s],a[s]=!0);e=n!==!1&&H_(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},bz=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},xz=e=>{if(!e)return null;if(Hu(e))return e;let t=e.length;if(!_M(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},wz=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&H_(Uint8Array)),_z=(e,t)=>{const r=(e&&e[Av]).call(e);let i;for(;(i=r.next())&&!i.done;){const o=i.value;t.call(e,o[0],o[1])}},Sz=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Ez=Mi("HTMLFormElement"),Iz=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),IT=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Cz=Mi("RegExp"),IM=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Kf(n,(i,o)=>{let s;(s=t(i,o,e))!==!1&&(r[o]=s||i)}),Object.defineProperties(e,r)},Pz=e=>{IM(e,(t,n)=>{if(Er(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Er(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Tz=(e,t)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Hu(e)?r(e):r(String(e).split(t)),n},Az=()=>{},Oz=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Rz(e){return!!(e&&Er(e.append)&&e[xM]==="FormData"&&e[Av])}const Dz=e=>{const t=new Array(10),n=(r,i)=>{if(Gf(r)){if(t.indexOf(r)>=0)return;if(qf(r))return r;if(!("toJSON"in r)){t[i]=r;const o=Hu(r)?[]:{};return Kf(r,(s,a)=>{const l=n(s,i+1);!gu(l)&&(o[a]=l)}),t[i]=void 0,o}}return r};return n(e,0)},kz=Mi("AsyncFunction"),Nz=e=>e&&(Gf(e)||Er(e))&&Er(e.then)&&Er(e.catch),CM=((e,t)=>e?setImmediate:t?((n,r)=>(wa.addEventListener("message",({source:i,data:o})=>{i===wa&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),wa.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Er(wa.postMessage)),jz=typeof queueMicrotask<"u"?queueMicrotask.bind(wa):typeof process<"u"&&process.nextTick||CM,Mz=e=>e!=null&&Er(e[Av]),G={isArray:Hu,isArrayBuffer:wM,isBuffer:qf,isFormData:lz,isArrayBufferView:Z7,isString:ez,isNumber:_M,isBoolean:tz,isObject:Gf,isPlainObject:ng,isEmptyObject:nz,isReadableStream:cz,isRequest:dz,isResponse:fz,isHeaders:hz,isUndefined:gu,isDate:rz,isFile:iz,isBlob:oz,isRegExp:Cz,isFunction:Er,isStream:az,isURLSearchParams:uz,isTypedArray:wz,isFileList:sz,forEach:Kf,merge:iw,extend:gz,trim:pz,stripBOM:mz,inherits:vz,toFlatObject:yz,kindOf:Ov,kindOfTest:Mi,endsWith:bz,toArray:xz,forEachEntry:_z,matchAll:Sz,isHTMLForm:Ez,hasOwnProperty:IT,hasOwnProp:IT,reduceDescriptors:IM,freezeMethods:Pz,toObjectSet:Tz,toCamelCase:Iz,noop:Az,toFiniteNumber:Oz,findKey:SM,global:wa,isContextDefined:EM,isSpecCompliantForm:Rz,toJSONObject:Dz,isAsyncFn:kz,isThenable:Nz,setImmediate:CM,asap:jz,isIterable:Mz};function Ge(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}G.inherits(Ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});const PM=Ge.prototype,TM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{TM[e]={value:e}});Object.defineProperties(Ge,TM);Object.defineProperty(PM,"isAxiosError",{value:!0});Ge.from=(e,t,n,r,i,o)=>{const s=Object.create(PM);G.toFlatObject(e,s,function(c){return c!==Error.prototype},u=>u!=="isAxiosError");const a=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return Ge.call(s,a,l,n,r,i),e&&s.cause==null&&Object.defineProperty(s,"cause",{value:e,configurable:!0}),s.name=e&&e.name||"Error",o&&Object.assign(s,o),s};const Lz=null;function ow(e){return G.isPlainObject(e)||G.isArray(e)}function AM(e){return G.endsWith(e,"[]")?e.slice(0,-2):e}function CT(e,t,n){return e?e.concat(t).map(function(i,o){return i=AM(i),!n&&o?"["+i+"]":i}).join(n?".":""):t}function Fz(e){return G.isArray(e)&&!e.some(ow)}const $z=G.toFlatObject(G,{},null,function(t){return/^is[A-Z]/.test(t)});function Dv(e,t,n){if(!G.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=G.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,y){return!G.isUndefined(y[v])});const r=n.metaTokens,i=n.visitor||c,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(t);if(!G.isFunction(i))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(G.isDate(m))return m.toISOString();if(G.isBoolean(m))return m.toString();if(!l&&G.isBlob(m))throw new Ge("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(m)||G.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function c(m,v,y){let w=m;if(m&&!y&&typeof m=="object"){if(G.endsWith(v,"{}"))v=r?v:v.slice(0,-2),m=JSON.stringify(m);else if(G.isArray(m)&&Fz(m)||(G.isFileList(m)||G.endsWith(v,"[]"))&&(w=G.toArray(m)))return v=AM(v),w.forEach(function(S,P){!(G.isUndefined(S)||S===null)&&t.append(s===!0?CT([v],P,o):s===null?v:v+"[]",u(S))}),!1}return ow(m)?!0:(t.append(CT(y,v,o),u(m)),!1)}const d=[],f=Object.assign($z,{defaultVisitor:c,convertValue:u,isVisitable:ow});function p(m,v){if(!G.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+v.join("."));d.push(m),G.forEach(m,function(w,_){(!(G.isUndefined(w)||w===null)&&i.call(t,w,G.isString(_)?_.trim():_,v,f))===!0&&p(w,v?v.concat(_):[_])}),d.pop()}}if(!G.isObject(e))throw new TypeError("data must be an object");return p(e),t}function PT(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function q_(e,t){this._pairs=[],e&&Dv(e,this,t)}const OM=q_.prototype;OM.append=function(t,n){this._pairs.push([t,n])};OM.toString=function(t){const n=t?function(r){return t.call(this,r,PT)}:PT;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Bz(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function RM(e,t,n){if(!t)return e;const r=n&&n.encode||Bz;G.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(t,n):o=G.isURLSearchParams(t)?t.toString():new q_(t,n).toString(r),o){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class TT{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){G.forEach(this.handlers,function(r){r!==null&&t(r)})}}const DM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Vz=typeof URLSearchParams<"u"?URLSearchParams:q_,Uz=typeof FormData<"u"?FormData:null,zz=typeof Blob<"u"?Blob:null,Wz={isBrowser:!0,classes:{URLSearchParams:Vz,FormData:Uz,Blob:zz},protocols:["http","https","file","blob","url","data"]},G_=typeof window<"u"&&typeof document<"u",sw=typeof navigator=="object"&&navigator||void 0,Hz=G_&&(!sw||["ReactNative","NativeScript","NS"].indexOf(sw.product)<0),qz=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Gz=G_&&window.location.href||"http://localhost",Kz=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:G_,hasStandardBrowserEnv:Hz,hasStandardBrowserWebWorkerEnv:qz,navigator:sw,origin:Gz},Symbol.toStringTag,{value:"Module"})),er={...Kz,...Wz};function Yz(e,t){return Dv(e,new er.classes.URLSearchParams,{visitor:function(n,r,i,o){return er.isNode&&G.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function Qz(e){return G.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Xz(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}function kM(e){function t(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&G.isArray(i)?i.length:s,l?(G.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!G.isObject(i[s]))&&(i[s]=[]),t(n,r,i[s],o)&&G.isArray(i[s])&&(i[s]=Xz(i[s])),!a)}if(G.isFormData(e)&&G.isFunction(e.entries)){const n={};return G.forEachEntry(e,(r,i)=>{t(Qz(r),i,n,0)}),n}return null}function Jz(e,t,n){if(G.isString(e))try{return(t||JSON.parse)(e),G.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Yf={transitional:DM,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=G.isObject(t);if(o&&G.isHTMLForm(t)&&(t=new FormData(t)),G.isFormData(t))return i?JSON.stringify(kM(t)):t;if(G.isArrayBuffer(t)||G.isBuffer(t)||G.isStream(t)||G.isFile(t)||G.isBlob(t)||G.isReadableStream(t))return t;if(G.isArrayBufferView(t))return t.buffer;if(G.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Yz(t,this.formSerializer).toString();if((a=G.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Dv(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),Jz(t)):t}],transformResponse:[function(t){const n=this.transitional||Yf.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(G.isResponse(t)||G.isReadableStream(t))return t;if(t&&G.isString(t)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(a){if(s)throw a.name==="SyntaxError"?Ge.from(a,Ge.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:er.classes.FormData,Blob:er.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],e=>{Yf.headers[e]={}});const Zz=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),eW=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||t[n]&&Zz[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},AT=Symbol("internals");function kc(e){return e&&String(e).trim().toLowerCase()}function rg(e){return e===!1||e==null?e:G.isArray(e)?e.map(rg):String(e)}function tW(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const nW=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ob(e,t,n,r,i){if(G.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!G.isString(t)){if(G.isString(r))return t.indexOf(r)!==-1;if(G.isRegExp(r))return r.test(t)}}function rW(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function iW(e,t){const n=G.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,o,s){return this[r].call(this,t,i,o,s)},configurable:!0})})}let Ir=class{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function o(a,l,u){const c=kc(l);if(!c)throw new Error("header name must be a non-empty string");const d=G.findKey(i,c);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||l]=rg(a))}const s=(a,l)=>G.forEach(a,(u,c)=>o(u,c,l));if(G.isPlainObject(t)||t instanceof this.constructor)s(t,n);else if(G.isString(t)&&(t=t.trim())&&!nW(t))s(eW(t),n);else if(G.isObject(t)&&G.isIterable(t)){let a={},l,u;for(const c of t){if(!G.isArray(c))throw TypeError("Object iterator must return a key-value pair");a[u=c[0]]=(l=a[u])?G.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}s(a,n)}else t!=null&&o(n,t,r);return this}get(t,n){if(t=kc(t),t){const r=G.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return tW(i);if(G.isFunction(n))return n.call(this,i,r);if(G.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=kc(t),t){const r=G.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||ob(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function o(s){if(s=kc(s),s){const a=G.findKey(r,s);a&&(!n||ob(r,r[a],a,n))&&(delete r[a],i=!0)}}return G.isArray(t)?t.forEach(o):o(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!t||ob(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const n=this,r={};return G.forEach(this,(i,o)=>{const s=G.findKey(r,o);if(s){n[s]=rg(i),delete n[o];return}const a=t?rW(o):String(o).trim();a!==o&&delete n[o],n[a]=rg(i),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return G.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&G.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[AT]=this[AT]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=kc(s);r[a]||(iW(i,s),r[a]=!0)}return G.isArray(t)?t.forEach(o):o(t),this}};Ir.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);G.reduceDescriptors(Ir.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});G.freezeMethods(Ir);function sb(e,t){const n=this||Yf,r=t||n,i=Ir.from(r.headers);let o=r.data;return G.forEach(e,function(a){o=a.call(n,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function NM(e){return!!(e&&e.__CANCEL__)}function qu(e,t,n){Ge.call(this,e??"canceled",Ge.ERR_CANCELED,t,n),this.name="CanceledError"}G.inherits(qu,Ge,{__CANCEL__:!0});function jM(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Ge("Request failed with status code "+n.status,[Ge.ERR_BAD_REQUEST,Ge.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function oW(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function sW(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,o=0,s;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),c=r[o];s||(s=u),n[i]=l,r[i]=u;let d=o,f=0;for(;d!==i;)f+=n[d++],d=d%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),u-s<t)return;const p=c&&u-c;return p?Math.round(f*1e3/p):void 0}}function aW(e,t){let n=0,r=1e3/t,i,o;const s=(u,c=Date.now())=>{n=c,i=null,o&&(clearTimeout(o),o=null),e(...u)};return[(...u)=>{const c=Date.now(),d=c-n;d>=r?s(u,c):(i=u,o||(o=setTimeout(()=>{o=null,s(i)},r-d)))},()=>i&&s(i)]}const Wg=(e,t,n=3)=>{let r=0;const i=sW(50,250);return aW(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-r,u=i(l),c=s<=a;r=s;const d={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-s)/u:void 0,event:o,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},n)},OT=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},RT=e=>(...t)=>G.asap(()=>e(...t)),lW=er.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,er.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(er.origin),er.navigator&&/(msie|trident)/i.test(er.navigator.userAgent)):()=>!0,uW=er.hasStandardBrowserEnv?{write(e,t,n,r,i,o,s){if(typeof document>"u")return;const a=[`${e}=${encodeURIComponent(t)}`];G.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),G.isString(r)&&a.push(`path=${r}`),G.isString(i)&&a.push(`domain=${i}`),o===!0&&a.push("secure"),G.isString(s)&&a.push(`SameSite=${s}`),document.cookie=a.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function cW(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function dW(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function MM(e,t,n){let r=!cW(t);return e&&(r||n==!1)?dW(e,t):t}const DT=e=>e instanceof Ir?{...e}:e;function Ba(e,t){t=t||{};const n={};function r(u,c,d,f){return G.isPlainObject(u)&&G.isPlainObject(c)?G.merge.call({caseless:f},u,c):G.isPlainObject(c)?G.merge({},c):G.isArray(c)?c.slice():c}function i(u,c,d,f){if(G.isUndefined(c)){if(!G.isUndefined(u))return r(void 0,u,d,f)}else return r(u,c,d,f)}function o(u,c){if(!G.isUndefined(c))return r(void 0,c)}function s(u,c){if(G.isUndefined(c)){if(!G.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,d){if(d in t)return r(u,c);if(d in e)return r(void 0,u)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(u,c,d)=>i(DT(u),DT(c),d,!0)};return G.forEach(Object.keys({...e,...t}),function(c){const d=l[c]||i,f=d(e[c],t[c],c);G.isUndefined(f)&&d!==a||(n[c]=f)}),n}const LM=e=>{const t=Ba({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=t;if(t.headers=s=Ir.from(s),t.url=RM(MM(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),G.isFormData(n)){if(er.hasStandardBrowserEnv||er.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(G.isFunction(n.getHeaders)){const l=n.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([c,d])=>{u.includes(c.toLowerCase())&&s.set(c,d)})}}if(er.hasStandardBrowserEnv&&(r&&G.isFunction(r)&&(r=r(t)),r||r!==!1&&lW(t.url))){const l=i&&o&&uW.read(o);l&&s.set(i,l)}return t},fW=typeof XMLHttpRequest<"u",hW=fW&&function(e){return new Promise(function(n,r){const i=LM(e);let o=i.data;const s=Ir.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,c,d,f,p,m;function v(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function w(){if(!y)return;const S=Ir.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),R={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:S,config:e,request:y};jM(function(C){n(C),v()},function(C){r(C),v()},R),y=null}"onloadend"in y?y.onloadend=w:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(w)},y.onabort=function(){y&&(r(new Ge("Request aborted",Ge.ECONNABORTED,e,y)),y=null)},y.onerror=function(P){const R=P&&P.message?P.message:"Network Error",M=new Ge(R,Ge.ERR_NETWORK,e,y);M.event=P||null,r(M),y=null},y.ontimeout=function(){let P=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const R=i.transitional||DM;i.timeoutErrorMessage&&(P=i.timeoutErrorMessage),r(new Ge(P,R.clarifyTimeoutError?Ge.ETIMEDOUT:Ge.ECONNABORTED,e,y)),y=null},o===void 0&&s.setContentType(null),"setRequestHeader"in y&&G.forEach(s.toJSON(),function(P,R){y.setRequestHeader(R,P)}),G.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),a&&a!=="json"&&(y.responseType=i.responseType),u&&([f,m]=Wg(u,!0),y.addEventListener("progress",f)),l&&y.upload&&([d,p]=Wg(l),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(c=S=>{y&&(r(!S||S.type?new qu(null,e,y):S),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const _=oW(i.url);if(_&&er.protocols.indexOf(_)===-1){r(new Ge("Unsupported protocol "+_+":",Ge.ERR_BAD_REQUEST,e));return}y.send(o||null)})},pW=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const o=function(u){if(!i){i=!0,a();const c=u instanceof Error?u:this.reason;r.abort(c instanceof Ge?c:new qu(c instanceof Error?c.message:c))}};let s=t&&setTimeout(()=>{s=null,o(new Ge(`timeout ${t} of ms exceeded`,Ge.ETIMEDOUT))},t);const a=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),e=null)};e.forEach(u=>u.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=()=>G.asap(a),l}},gW=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},mW=async function*(e,t){for await(const n of vW(e))yield*gW(n,t)},vW=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},kT=(e,t,n,r)=>{const i=mW(e,t);let o=0,s,a=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await i.next();if(u){a(),l.close();return}let d=c.byteLength;if(n){let f=o+=d;n(f)}l.enqueue(new Uint8Array(c))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},NT=64*1024,{isFunction:pp}=G,yW=(({Request:e,Response:t})=>({Request:e,Response:t}))(G.global),{ReadableStream:jT,TextEncoder:MT}=G.global,LT=(e,...t)=>{try{return!!e(...t)}catch{return!1}},bW=e=>{e=G.merge.call({skipUndefined:!0},yW,e);const{fetch:t,Request:n,Response:r}=e,i=t?pp(t):typeof fetch=="function",o=pp(n),s=pp(r);if(!i)return!1;const a=i&&pp(jT),l=i&&(typeof MT=="function"?(m=>v=>m.encode(v))(new MT):async m=>new Uint8Array(await new n(m).arrayBuffer())),u=o&&a&&LT(()=>{let m=!1;const v=new n(er.origin,{body:new jT,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!v}),c=s&&a&&LT(()=>G.isReadableStream(new r("").body)),d={stream:c&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!d[m]&&(d[m]=(v,y)=>{let w=v&&v[m];if(w)return w.call(v);throw new Ge(`Response type '${m}' is not supported`,Ge.ERR_NOT_SUPPORT,y)})});const f=async m=>{if(m==null)return 0;if(G.isBlob(m))return m.size;if(G.isSpecCompliantForm(m))return(await new n(er.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(G.isArrayBufferView(m)||G.isArrayBuffer(m))return m.byteLength;if(G.isURLSearchParams(m)&&(m=m+""),G.isString(m))return(await l(m)).byteLength},p=async(m,v)=>{const y=G.toFiniteNumber(m.getContentLength());return y??f(v)};return async m=>{let{url:v,method:y,data:w,signal:_,cancelToken:S,timeout:P,onDownloadProgress:R,onUploadProgress:M,responseType:C,headers:I,withCredentials:T="same-origin",fetchOptions:k}=LM(m),A=t||fetch;C=C?(C+"").toLowerCase():"text";let j=pW([_,S&&S.toAbortSignal()],P),O=null;const ee=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let re;try{if(M&&u&&y!=="get"&&y!=="head"&&(re=await p(I,w))!==0){let be=new n(v,{method:"POST",body:w,duplex:"half"}),we;if(G.isFormData(w)&&(we=be.headers.get("content-type"))&&I.setContentType(we),be.body){const[X,ie]=OT(re,Wg(RT(M)));w=kT(be.body,NT,X,ie)}}G.isString(T)||(T=T?"include":"omit");const pe=o&&"credentials"in n.prototype,Oe={...k,signal:j,method:y.toUpperCase(),headers:I.normalize().toJSON(),body:w,duplex:"half",credentials:pe?T:void 0};O=o&&new n(v,Oe);let F=await(o?A(O,k):A(v,Oe));const Q=c&&(C==="stream"||C==="response");if(c&&(R||Q&&ee)){const be={};["status","statusText","headers"].forEach(Ie=>{be[Ie]=F[Ie]});const we=G.toFiniteNumber(F.headers.get("content-length")),[X,ie]=R&&OT(we,Wg(RT(R),!0))||[];F=new r(kT(F.body,NT,X,()=>{ie&&ie(),ee&&ee()}),be)}C=C||"text";let le=await d[G.findKey(d,C)||"text"](F,m);return!Q&&ee&&ee(),await new Promise((be,we)=>{jM(be,we,{data:le,headers:Ir.from(F.headers),status:F.status,statusText:F.statusText,config:m,request:O})})}catch(pe){throw ee&&ee(),pe&&pe.name==="TypeError"&&/Load failed|fetch/i.test(pe.message)?Object.assign(new Ge("Network Error",Ge.ERR_NETWORK,m,O),{cause:pe.cause||pe}):Ge.from(pe,pe&&pe.code,m,O)}}},xW=new Map,FM=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:i}=t,o=[r,i,n];let s=o.length,a=s,l,u,c=xW;for(;a--;)l=o[a],u=c.get(l),u===void 0&&c.set(l,u=a?new Map:bW(t)),c=u;return u};FM();const K_={http:Lz,xhr:hW,fetch:{get:FM}};G.forEach(K_,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const FT=e=>`- ${e}`,wW=e=>G.isFunction(e)||e===null||e===!1;function _W(e,t){e=G.isArray(e)?e:[e];const{length:n}=e;let r,i;const o={};for(let s=0;s<n;s++){r=e[s];let a;if(i=r,!wW(r)&&(i=K_[(a=String(r)).toLowerCase()],i===void 0))throw new Ge(`Unknown adapter '${a}'`);if(i&&(G.isFunction(i)||(i=i.get(t))))break;o[a||"#"+s]=i}if(!i){const s=Object.entries(o).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=n?s.length>1?`since :
`+s.map(FT).join(`
`):" "+FT(s[0]):"as no adapter specified";throw new Ge("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i}const $M={getAdapter:_W,adapters:K_};function ab(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new qu(null,e)}function $T(e){return ab(e),e.headers=Ir.from(e.headers),e.data=sb.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),$M.getAdapter(e.adapter||Yf.adapter,e)(e).then(function(r){return ab(e),r.data=sb.call(e,e.transformResponse,r),r.headers=Ir.from(r.headers),r},function(r){return NM(r)||(ab(e),r&&r.response&&(r.response.data=sb.call(e,e.transformResponse,r.response),r.response.headers=Ir.from(r.response.headers))),Promise.reject(r)})}const BM="1.13.2",kv={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{kv[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const BT={};kv.transitional=function(t,n,r){function i(o,s){return"[Axios v"+BM+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(t===!1)throw new Ge(i(s," has been removed"+(n?" in "+n:"")),Ge.ERR_DEPRECATED);return n&&!BT[s]&&(BT[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,s,a):!0}};kv.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function SW(e,t,n){if(typeof e!="object")throw new Ge("options must be an object",Ge.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],s=t[o];if(s){const a=e[o],l=a===void 0||s(a,o,e);if(l!==!0)throw new Ge("option "+o+" must be "+l,Ge.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ge("Unknown option "+o,Ge.ERR_BAD_OPTION)}}const ig={assertOptions:SW,validators:kv},zi=ig.validators;let Aa=class{constructor(t){this.defaults=t||{},this.interceptors={request:new TT,response:new TT}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ba(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&ig.assertOptions(r,{silentJSONParsing:zi.transitional(zi.boolean),forcedJSONParsing:zi.transitional(zi.boolean),clarifyTimeoutError:zi.transitional(zi.boolean)},!1),i!=null&&(G.isFunction(i)?n.paramsSerializer={serialize:i}:ig.assertOptions(i,{encode:zi.function,serialize:zi.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ig.assertOptions(n,{baseUrl:zi.spelling("baseURL"),withXsrfToken:zi.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&G.merge(o.common,o[n.method]);o&&G.forEach(["delete","get","head","post","put","patch","common"],m=>{delete o[m]}),n.headers=Ir.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let c,d=0,f;if(!l){const m=[$T.bind(this),void 0];for(m.unshift(...a),m.push(...u),f=m.length,c=Promise.resolve(n);d<f;)c=c.then(m[d++],m[d++]);return c}f=a.length;let p=n;for(;d<f;){const m=a[d++],v=a[d++];try{p=m(p)}catch(y){v.call(this,y);break}}try{c=$T.call(this,p)}catch(m){return Promise.reject(m)}for(d=0,f=u.length;d<f;)c=c.then(u[d++],u[d++]);return c}getUri(t){t=Ba(this.defaults,t);const n=MM(t.baseURL,t.url,t.allowAbsoluteUrls);return RM(n,t.params,t.paramsSerializer)}};G.forEach(["delete","get","head","options"],function(t){Aa.prototype[t]=function(n,r){return this.request(Ba(r||{},{method:t,url:n,data:(r||{}).data}))}});G.forEach(["post","put","patch"],function(t){function n(r){return function(o,s,a){return this.request(Ba(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Aa.prototype[t]=n(),Aa.prototype[t+"Form"]=n(!0)});let EW=class VM{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},t(function(o,s,a){r.reason||(r.reason=new qu(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new VM(function(i){t=i}),cancel:t}}};function IW(e){return function(n){return e.apply(null,n)}}function CW(e){return G.isObject(e)&&e.isAxiosError===!0}const aw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(aw).forEach(([e,t])=>{aw[t]=e});function UM(e){const t=new Aa(e),n=bM(Aa.prototype.request,t);return G.extend(n,Aa.prototype,t,{allOwnKeys:!0}),G.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return UM(Ba(e,i))},n}const z=UM(Yf);z.Axios=Aa;z.CanceledError=qu;z.CancelToken=EW;z.isCancel=NM;z.VERSION=BM;z.toFormData=Dv;z.AxiosError=Ge;z.Cancel=z.CanceledError;z.all=function(t){return Promise.all(t)};z.spread=IW;z.isAxiosError=CW;z.mergeConfig=Ba;z.AxiosHeaders=Ir;z.formToJSON=e=>kM(G.isHTMLForm(e)?new FormData(e):e);z.getAdapter=$M.getAdapter;z.HttpStatusCode=aw;z.default=z;const{Axios:Pxe,AxiosError:Txe,CanceledError:Axe,isCancel:Oxe,CancelToken:Rxe,VERSION:Dxe,all:kxe,Cancel:Nxe,isAxiosError:jxe,spread:Mxe,toFormData:Lxe,AxiosHeaders:Fxe,HttpStatusCode:$xe,formToJSON:Bxe,getAdapter:Vxe,mergeConfig:Uxe}=z;function VT(){const[e,t]=b.useState(""),[n,r]=b.useState(""),i=gi(),o=async s=>{s.preventDefault(),console.log("LOGIN CLICKED");try{const a=await z.post("http://127.0.0.1:5000/api/login",{username:e,password:n});if(console.log("Backend response:",a.data),a.data.success){const l={adminId:a.data.adminId,userId:a.data.userId,name:a.data.name,profileImage:a.data.profileImage};localStorage.setItem("admin",JSON.stringify(l)),console.log("Saved admin, navigating now..."),i("/dashboard")}}catch(a){console.error("Login failed:",a)}};return g.jsx("div",{className:"auth-container",children:g.jsxs("div",{className:"auth-box",children:[g.jsx("h2",{children:"Login"}),g.jsx("input",{type:"text",placeholder:"Username",value:e,onChange:s=>t(s.target.value)}),g.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:s=>r(s.target.value)}),g.jsx("form",{onSubmit:o,children:g.jsx("button",{type:"submit",children:"Login"})}),g.jsxs("p",{children:["I dont have an account? ",g.jsx("a",{href:"/register",children:"Register"})]})]})})}function PW(){const[e,t]=b.useState(""),[n,r]=b.useState(""),[i,o]=b.useState(""),[s,a]=b.useState(null),[l,u]=b.useState(""),c=gi(),d=async f=>{f.preventDefault(),u("");try{const p=new FormData;p.append("name",e),p.append("username",n),p.append("password",i),s&&p.append("profile",s);const v=await(await fetch("http://127.0.0.1:5000/api/register",{method:"POST",body:p})).json();v.success?c("/login"):u(v.message||"Registration failed")}catch{u("Server error, try again.")}};return g.jsx("div",{className:"auth-container",children:g.jsxs("div",{className:"auth-box",children:[g.jsx("h2",{children:"Register"}),l&&g.jsx("div",{className:"auth-message",children:l}),g.jsxs("form",{onSubmit:d,style:{display:"flex",flexDirection:"column"},children:[g.jsx("input",{type:"text",placeholder:"Full Name",value:e,onChange:f=>t(f.target.value),required:!0}),g.jsx("input",{type:"text",placeholder:"Username",value:n,onChange:f=>r(f.target.value),required:!0}),g.jsx("input",{type:"password",placeholder:"Password",value:i,onChange:f=>o(f.target.value),required:!0}),g.jsxs("div",{style:{marginBottom:"15px",textAlign:"center"},children:[s&&g.jsx("img",{src:URL.createObjectURL(s),alt:"Profile Preview"}),g.jsx("input",{type:"file",accept:"image/*",onChange:f=>a(f.target.files[0])})]}),g.jsx("button",{type:"submit",children:"Register"})]}),g.jsxs("p",{children:["Already have an account? ",g.jsx(Le,{to:"/login",children:"Login here"})]})]})})}var zM={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},UT=st.createContext&&st.createContext(zM),TW=["attr","size","title"];function AW(e,t){if(e==null)return{};var n=OW(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function OW(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Hg(){return Hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hg.apply(this,arguments)}function zT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zT(Object(n),!0).forEach(function(r){RW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RW(e,t,n){return t=DW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DW(e){var t=kW(e,"string");return typeof t=="symbol"?t:t+""}function kW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WM(e){return e&&e.map((t,n)=>st.createElement(t.tag,qg({key:n},t.attr),WM(t.child)))}function Gn(e){return t=>st.createElement(NW,Hg({attr:qg({},e.attr)},t),WM(e.child))}function NW(e){var t=n=>{var{attr:r,size:i,title:o}=e,s=AW(e,TW),a=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),st.createElement("svg",Hg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:qg(qg({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&st.createElement("title",null,o),e.children)};return UT!==void 0?st.createElement(UT.Consumer,null,n=>t(n)):t(zM)}function HM(e){return Gn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zM338 304c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm513.9 437.1a8.11 8.11 0 0 1-5.2 1.9H177.2c-4.4 0-8-3.6-8-8 0-1.9.7-3.7 1.9-5.2l170.3-202c2.8-3.4 7.9-3.8 11.3-1 .3.3.7.6 1 1l99.4 118 158.1-187.5c2.8-3.4 7.9-3.8 11.3-1 .3.3.7.6 1 1l229.6 271.6c2.6 3.3 2.2 8.4-1.2 11.2z"},child:[]}]})(e)}function rl(e){return Gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256.55 8C116.52 8 8 110.34 8 248.57c0 72.3 29.71 134.78 78.07 177.94 8.35 7.51 6.63 11.86 8.05 58.23A19.92 19.92 0 0 0 122 502.31c52.91-23.3 53.59-25.14 62.56-22.7C337.85 521.8 504 423.7 504 248.57 504 110.34 396.59 8 256.55 8zm149.24 185.13l-73 115.57a37.37 37.37 0 0 1-53.91 9.93l-58.08-43.47a15 15 0 0 0-18 0l-78.37 59.44c-10.46 7.93-24.16-4.6-17.11-15.67l73-115.57a37.36 37.36 0 0 1 53.91-9.93l58.06 43.46a15 15 0 0 0 18 0l78.41-59.38c10.44-7.98 24.14 4.54 17.09 15.62z"},child:[]}]})(e)}function jW(e){return Gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function il(e){return Gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(e)}function ol(e){return Gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function Jt(e){return Gn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M208 352c-2.39 0-4.78.35-7.06 1.09C187.98 357.3 174.35 360 160 360c-14.35 0-27.98-2.7-40.95-6.91-2.28-.74-4.66-1.09-7.05-1.09C49.94 352-.33 402.48 0 464.62.14 490.88 21.73 512 48 512h224c26.27 0 47.86-21.12 48-47.38.33-62.14-49.94-112.62-112-112.62zm-48-32c53.02 0 96-42.98 96-96s-42.98-96-96-96-96 42.98-96 96 42.98 96 96 96zM592 0H208c-26.47 0-48 22.25-48 49.59V96c23.42 0 45.1 6.78 64 17.8V64h352v288h-64v-64H384v64h-76.24c19.1 16.69 33.12 38.73 39.69 64H592c26.47 0 48-22.25 48-49.59V49.59C640 22.25 618.47 0 592 0z"},child:[]}]})(e)}function sl(e){return Gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function Y_(e){return Gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(e)}function al(e){return Gn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function MW(e){return Gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(e)}function ll(e){return Gn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function LW(e){return Gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M224 96l16-32 32-16-32-16-16-32-16 32-32 16 32 16 16 32zM80 160l26.66-53.33L160 80l-53.34-26.67L80 0 53.34 53.33 0 80l53.34 26.67L80 160zm352 128l-26.66 53.33L352 368l53.34 26.67L432 448l26.66-53.33L512 368l-53.34-26.67L432 288zm70.62-193.77L417.77 9.38C411.53 3.12 403.34 0 395.15 0c-8.19 0-16.38 3.12-22.63 9.38L9.38 372.52c-12.5 12.5-12.5 32.76 0 45.25l84.85 84.85c6.25 6.25 14.44 9.37 22.62 9.37 8.19 0 16.38-3.12 22.63-9.37l363.14-363.15c12.5-12.48 12.5-32.75 0-45.24zM359.45 203.46l-50.91-50.91 86.6-86.6 50.91 50.91-86.6 86.6z"},child:[]}]})(e)}function FW(e){return Gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(e)}function $W(e){return Gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function ul(e){return Gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function cl(e){return Gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function BW(e){return Gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"},child:[]}]})(e)}function VW(){var J,Z,$;const[e,t]=b.useState({adminId:"",userId:"",name:"",username:"",profileImage:"/default-profile.png",isActive:!1}),[n,r]=b.useState([]),[i,o]=b.useState(""),[s,a]=b.useState(null),[l,u]=b.useState([]),[c,d]=b.useState(!1),[f,p]=b.useState([]),[m,v]=b.useState({}),[y,w]=b.useState([]),[_,S]=b.useState(!1),[P,R]=b.useState(null),[M,C]=b.useState(!1),[I,T]=b.useState({}),k=nl();(J=k.state)==null||J.scrollToPostId;const A=(Z=k.state)==null?void 0:Z.postId,j=($=k.state)==null?void 0:$.postId,[O,ee]=b.useState([]),[re,pe]=b.useState(!0),Oe=e.userId,[F,Q]=b.useState(!1),[le,be]=b.useState([]),we=gi();b.useEffect(()=>{if(j){const B=document.getElementById(`post-${j}`);B&&B.scrollIntoView({behavior:"smooth"})}},[j]);const X=async()=>{var W,ae,ne;const B=localStorage.getItem("admin");if(!B){pe(!1);return}try{const ce=JSON.parse(B);if(!ce.adminId){localStorage.removeItem("admin"),pe(!1);return}const he=await z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/School_Admins/${ce.adminId}.json`);if(!he.data){localStorage.removeItem("admin"),pe(!1);return}const xe=await z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Users/${he.data.userId}.json`);t({adminId:ce.adminId,userId:he.data.userId,name:((W=xe.data)==null?void 0:W.name)||"Admin",username:((ae=xe.data)==null?void 0:ae.username)||"",profileImage:((ne=xe.data)==null?void 0:ne.profileImage)||"/default-profile.png"})}catch{localStorage.removeItem("admin")}pe(!1)},ie=async()=>{try{const B=await z.get("http://127.0.0.1:5000/api/get_posts");console.log(B.data);const W=B.data.sort((ae,ne)=>new Date(ne.time)-new Date(ae.time));r(W)}catch(B){console.error("Error fetching posts:",B)}},Ie=async()=>{if(!e.adminId)return;const B={};try{const ae=(await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Users.json")).data||{},ne=He=>Object.values(ae).find(Xe=>Xe.userId===He),ce=async He=>{const Xe=`${e.userId}_${He}`,yt=`${He}_${e.userId}`,[dt,nr]=await Promise.all([z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${Xe}/messages.json`),z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${yt}/messages.json`)]);return[...Object.values(dt.data||{}),...Object.values(nr.data||{})].filter(H=>H.receiverId===e.userId&&!H.seen).length},he=await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Teachers.json");for(const He in he.data||{}){const Xe=he.data[He],yt=await ce(Xe.userId);if(yt>0){const dt=ne(Xe.userId);B[Xe.userId]={type:"teacher",name:(dt==null?void 0:dt.name)||"Teacher",profileImage:(dt==null?void 0:dt.profileImage)||"/default-profile.png",count:yt}}}const xe=await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Students.json");for(const He in xe.data||{}){const Xe=xe.data[He],yt=await ce(Xe.userId);if(yt>0){const dt=ne(Xe.userId);B[Xe.userId]={type:"student",name:(dt==null?void 0:dt.name)||Xe.name||"Student",profileImage:(dt==null?void 0:dt.profileImage)||Xe.profileImage||"/default-profile.png",count:yt}}}const ze=await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Parents.json");for(const He in ze.data||{}){const Xe=ze.data[He],yt=await ce(Xe.userId);if(yt>0){const dt=ne(Xe.userId);B[Xe.userId]={type:"parent",name:(dt==null?void 0:dt.name)||Xe.name||"Parent",profileImage:(dt==null?void 0:dt.profileImage)||Xe.profileImage||"/default-profile.png",count:yt}}}T(B)}catch(W){console.error("Unread fetch failed:",W)}};b.useEffect(()=>{const B=W=>{!W.target.closest(".icon-circle")&&!W.target.closest(".messenger-dropdown")&&S(!1)};return document.addEventListener("click",B),()=>document.removeEventListener("click",B)},[]),b.useEffect(()=>{if(!e.adminId)return;Ie();const B=setInterval(Ie,5e3);return()=>clearInterval(B)},[e.adminId]),b.useEffect(()=>{if(!e.userId)return;(async()=>{try{const ae=(await z.get("http://127.0.0.1:5000/api/get_posts")).data.filter(ne=>!ne.seenBy||!ne.seenBy[e.userId]);be(ae)}catch(W){console.error(W)}})()},[e.userId]),b.useEffect(()=>{(async()=>{try{const[W,ae]=await Promise.all([z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Teachers.json"),z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Users.json")]),ne=W.data||{},ce=ae.data||{},he=Object.keys(ne).map(He=>{const Xe=ne[He],yt=ce[Xe.userId]||{};return{teacherId:He,userId:Xe.userId,name:yt.name||"No Name",profileImage:yt.profileImage||"/default-profile.png"}});p(he);const xe={},ze=[];for(const He of he){const Xe=`${Oe}_${He.userId}`,yt=await z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${Xe}/messages.json`),dt=Object.values(yt.data||{}).map(Pr=>({...Pr,sender:Pr.senderId===Oe?"admin":"teacher"}));ze.push(...dt);const nr=dt.filter(Pr=>Pr.receiverId===Oe&&!Pr.seen).length;nr>0&&(xe[He.userId]=nr)}w(ze),v(xe)}catch(W){console.error(W)}})()},[Oe]);const te=async B=>{Q(!1);try{await z.post("http://127.0.0.1:5000/api/mark_post_seen",{postId:B.postId,userId:e.userId}),be(W=>W.filter(ae=>ae.postId!==B.postId)),r(W=>W.map(ae=>ae.postId===B.postId?{...ae,seenBy:{...ae.seenBy||{},[e.userId]:!0}}:ae)),setTimeout(()=>{const W=document.getElementById(`post-${B.postId}`);W&&(W.scrollIntoView({behavior:"smooth",block:"center"}),W.style.backgroundColor="#fff9c4",setTimeout(()=>W.style.backgroundColor="",1500))},200)}catch(W){console.error("Error opening post notification:",W)}};b.useEffect(()=>{if(A){const B=document.getElementById(`post-${A}`);B&&(B.scrollIntoView({behavior:"smooth"}),B.style.backgroundColor="#ffffe0",setTimeout(()=>B.style.backgroundColor="",2e3))}},[A]),b.useEffect(()=>{const B=W=>{!W.target.closest(".icon-circle")&&!W.target.closest(".notification-dropdown")&&Q(!1)};return document.addEventListener("click",B),()=>document.removeEventListener("click",B)},[]),b.useEffect(()=>{X(),ie()},[]),b.useEffect(()=>{re||e.userId||(console.log("No admin found, redirecting to login"),we("/login",{replace:!0}))},[re,e.userId]);const D=async()=>{if(!i&&!s)return;if(!e.adminId||!e.userId){alert("Session expired");return}const B=new FormData;B.append("message",i),B.append("adminId",e.adminId),B.append("userId",e.userId),B.append("adminName",e.name),B.append("adminProfile",e.profileImage),s&&B.append("post_media",s),await z.post("http://127.0.0.1:5000/api/create_post",B),o(""),a(null),ie()},V=async B=>{try{const W=await z.post("http://127.0.0.1:5000/api/like_post",{postId:B,adminId:e.userId});if(W.data.success){const ae=W.data.liked,ne=W.data.likeCount;r(ce=>ce.map(he=>he.postId===B?{...he,likeCount:ne,likes:{...he.likes,[e.userId]:ae?!0:void 0}}:he))}}catch(W){console.error("Error liking post:",W)}},L=async B=>{const W=`${e.userId}_${B}`,ae=`${B}_${e.userId}`,[ne,ce]=await Promise.all([z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${W}/messages.json`),z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${ae}/messages.json`)]),he={},xe=(ze,He)=>{Object.entries(ze||{}).forEach(([Xe,yt])=>{yt.receiverId===e.userId&&!yt.seen&&(he[`${He}/${Xe}/seen`]=!0)})};xe(ne.data,`Chats/${W}/messages`),xe(ce.data,`Chats/${ae}/messages`),Object.keys(he).length>0&&await z.patch("https://ethiostore-17d9f-default-rtdb.firebaseio.com/.json",he)};return re?g.jsx("div",{style:{padding:"40px"},children:"Loading dashboard..."}):g.jsxs("div",{className:"dashboard-page",children:[g.jsxs("nav",{className:"top-navbar",children:[g.jsx("h2",{children:"Gojo Dashboard"}),g.jsxs("div",{className:"nav-search",children:[g.jsx(ul,{className:"search-icon"}),g.jsx("input",{type:"text",placeholder:"Search Teacher and Student..."})]}),g.jsxs("div",{className:"nav-right",children:[g.jsxs("div",{className:"icon-circle",style:{position:"relative",cursor:"pointer"},onClick:()=>Q(B=>!B),children:[g.jsx(il,{}),le.length>0&&g.jsx("span",{style:{position:"absolute",top:"-5px",right:"-5px",background:"red",color:"#fff",borderRadius:"50%",padding:"2px 6px",fontSize:"10px",fontWeight:"bold"},children:le.length})]}),F&&g.jsx("div",{className:"notification-dropdown",style:{position:"absolute",top:"45px",right:"0",width:"320px",maxHeight:"400px",overflowY:"auto",background:"#fff",borderRadius:"8px",boxShadow:"0 4px 15px rgba(0,0,0,0.2)",zIndex:1e3},children:le.length===0?g.jsx("p",{style:{padding:"10px",textAlign:"center",color:"#777"},children:"No new posts"}):le.map(B=>{var W;return g.jsxs("div",{onClick:()=>te(B),style:{padding:"10px",borderBottom:"1px solid #eee",display:"flex",alignItems:"center",cursor:"pointer"},children:[g.jsx("img",{src:B.adminProfile||"/default-profile.png",alt:"",style:{width:"40px",height:"40px",borderRadius:"50%",marginRight:"10px"}}),g.jsxs("div",{style:{flex:1},children:[g.jsx("strong",{children:B.adminName}),g.jsx("p",{style:{margin:0,fontSize:"12px",color:"#555"},children:((W=B.message)==null?void 0:W.slice(0,40))||"New post"})]}),g.jsx("span",{style:{fontSize:"10px",color:"#888"},children:new Date(B.time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},B.postId)})}),g.jsxs("div",{className:"icon-circle",style:{position:"relative",cursor:"pointer"},onClick:B=>{B.stopPropagation(),S(W=>!W)},children:[g.jsx(rl,{}),Object.keys(I).length>0&&g.jsx("span",{style:{position:"absolute",top:"-5px",right:"-5px",background:"red",color:"#fff",borderRadius:"50%",padding:"2px 6px",fontSize:"10px",fontWeight:"bold"},children:Object.values(I).reduce((B,W)=>B+W.count,0)}),_&&g.jsx("div",{style:{position:"absolute",top:"40px",right:"0",width:"300px",background:"#fff",borderRadius:"10px",boxShadow:"0 4px 15px rgba(0,0,0,0.25)",zIndex:1e3},children:Object.keys(I).length===0?g.jsx("p",{style:{padding:"12px",textAlign:"center",color:"#777"},children:"No new messages"}):Object.entries(I).map(([B,W])=>g.jsxs("div",{style:{padding:"12px",display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",borderBottom:"1px solid #eee"},onClick:async()=>{S(!1),await L(B),T(ae=>{const ne={...ae};return delete ne[B],ne}),we("/all-chat",{state:{user:{userId:B,name:W.name,profileImage:W.profileImage,type:W.type}}})},children:[g.jsx("img",{src:W.profileImage,alt:W.name,style:{width:"42px",height:"42px",borderRadius:"50%"}}),g.jsxs("div",{children:[g.jsx("strong",{children:W.name}),g.jsxs("p",{style:{fontSize:"12px",margin:0},children:[W.count," new message",W.count>1&&"s"]})]})]},B))})]}),g.jsx(Le,{className:"icon-circle",to:"/settings",children:g.jsx(sl,{})}),g.jsx("img",{src:e.profileImage||"/default-profile.png",alt:"admin",className:"profile-img"})]})]}),g.jsx("div",{className:"app-layout",children:g.jsxs("div",{className:"google-dashboard",children:[g.jsxs("div",{className:"google-sidebar",children:[g.jsxs("div",{className:"sidebar-profile",children:[g.jsx("div",{className:"sidebar-img-circle",children:g.jsx("img",{src:(e==null?void 0:e.profileImage)||"/default-profile.png",alt:"profile"})}),g.jsx("h3",{children:(e==null?void 0:e.name)||"Admin Name"}),g.jsx("p",{children:(e==null?void 0:e.username)||"username"})]}),g.jsxs("div",{className:"sidebar-menu",children:[g.jsxs(Le,{className:"sidebar-btn",to:"/dashboard",style:{backgroundColor:"#4b6cb7",color:"#fff"},children:[" ",g.jsx(ll,{style:{width:"28px",height:"28px"}})," Home"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/my-posts",children:[g.jsx(al,{})," My Posts"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/teachers",children:[g.jsx(Jt,{})," Teachers"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/students",children:[" ",g.jsx(Jt,{})," Students"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/schedule",children:[g.jsx(ol,{})," Schedule"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/parents",children:[g.jsx(Jt,{})," Parents"]}),g.jsxs("button",{className:"sidebar-btn logout-btn",onClick:()=>{localStorage.removeItem("admin"),window.location.href="/login"},children:[g.jsx(cl,{})," Logout"]})]})]}),g.jsxs("div",{className:"google-main",children:[g.jsx("div",{className:"post-box",children:g.jsxs("div",{className:"fb-post-top",children:[g.jsx("img",{src:e.profileImage||"/default-profile.png",alt:"me"}),g.jsx("textarea",{placeholder:"What's on your mind?",value:i,onChange:B=>o(B.target.value)}),g.jsxs("div",{className:"fb-post-bottom",children:[g.jsxs("label",{className:"fb-upload",children:[g.jsx(HM,{className:"fb-icon"}),g.jsx("input",{type:"file",onChange:B=>a(B.target.files[0]),accept:"image/*,video/*"})]}),g.jsx("button",{className:"telegram-send-icon",onClick:D,children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 25",width:"35",height:"35",fill:"#0088cc",children:g.jsx("path",{d:"M2.01 21L23 12 2.01 3v7l15 2-15 2z"})})})]})]})}),g.jsx("div",{className:"posts-container",children:n.map(B=>g.jsxs("div",{className:"post-card",id:`post-${B.postId}`,children:[g.jsxs("div",{className:"post-header",children:[g.jsx("div",{className:"img-circle",children:g.jsx("img",{src:B.adminProfile||"/default-profile.png",alt:"profile"})}),g.jsxs("div",{className:"post-info",children:[g.jsx("h4",{children:B.adminName}),g.jsx("span",{children:B.time})]})]}),g.jsx("p",{children:B.message}),B.postUrl&&g.jsx("img",{src:B.postUrl,alt:"post media"}),g.jsx("div",{className:"post-actions",children:g.jsx("div",{className:"like-button",children:g.jsxs("button",{onClick:()=>V(B.postId),style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px",width:"120px",padding:"6px 10px",background:"transparent",border:"none",cursor:"pointer",fontSize:"14px",fontWeight:"500",color:B.likes&&B.likes[e.userId]?"#e0245e":"#555",transition:"all 0.2s ease"},children:[g.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[B.likes&&B.likes[e.userId]?g.jsx(MW,{style:{color:"#e0245e",fontSize:"16px"}}):g.jsx(BW,{style:{fontSize:"16px"}}),B.likes&&B.likes[e.userId]?"Liked":"Like"]}),g.jsx("span",{style:{marginRight:"650px",fontSize:"15px",color:"#777"},children:B.likeCount||0})]})})})]},B.postId))})]})]})})]})}const qM=6048e5,UW=864e5,GM=6e4,KM=36e5,WT=Symbol.for("constructDateFrom");function Eo(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&WT in e?e[WT](t):e instanceof Date?new e.constructor(t):new Date(t)}function Wr(e,t){return Eo(t||e,e)}let zW={};function Nv(){return zW}function mu(e,t){var a,l,u,c;const n=Nv(),r=(t==null?void 0:t.weekStartsOn)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=Wr(e,t==null?void 0:t.in),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Gg(e,t){return mu(e,{...t,weekStartsOn:1})}function YM(e,t){const n=Wr(e,t==null?void 0:t.in),r=n.getFullYear(),i=Eo(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=Gg(i),s=Eo(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=Gg(s);return n.getTime()>=o.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function HT(e){const t=Wr(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function WW(e,...t){const n=Eo.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function qT(e,t){const n=Wr(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function HW(e,t,n){const[r,i]=WW(n==null?void 0:n.in,e,t),o=qT(r),s=qT(i),a=+o-HT(o),l=+s-HT(s);return Math.round((a-l)/UW)}function qW(e,t){const n=YM(e,t),r=Eo(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Gg(r)}function GW(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function KW(e){return!(!GW(e)&&typeof e!="number"||isNaN(+Wr(e)))}function YW(e,t){const n=Wr(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const QW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},XW=(e,t,n)=>{let r;const i=QW[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function lb(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const JW={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ZW={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},eH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tH={date:lb({formats:JW,defaultWidth:"full"}),time:lb({formats:ZW,defaultWidth:"full"}),dateTime:lb({formats:eH,defaultWidth:"full"})},nH={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},rH=(e,t,n,r)=>nH[e];function Nc(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):s;i=e.formattingValues[a]||e.formattingValues[s]}else{const s=e.defaultWidth,a=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[a]||e.values[s]}const o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}const iH={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},oH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},sH={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},aH={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},lH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},uH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},cH=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},dH={ordinalNumber:cH,era:Nc({values:iH,defaultWidth:"wide"}),quarter:Nc({values:oH,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Nc({values:sH,defaultWidth:"wide"}),day:Nc({values:aH,defaultWidth:"wide"}),dayPeriod:Nc({values:lH,defaultWidth:"wide",formattingValues:uH,defaultFormattingWidth:"wide"})};function jc(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const s=o[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?hH(a,d=>d.test(s)):fH(a,d=>d.test(s));let u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=t.slice(s.length);return{value:u,rest:c}}}function fH(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function hH(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function pH(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],o=t.match(e.parsePattern);if(!o)return null;let s=e.valueCallback?e.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const a=t.slice(i.length);return{value:s,rest:a}}}const gH=/^(\d+)(th|st|nd|rd)?/i,mH=/\d+/i,vH={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},yH={any:[/^b/i,/^(a|c)/i]},bH={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xH={any:[/1/i,/2/i,/3/i,/4/i]},wH={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_H={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},SH={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},EH={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},IH={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},CH={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},PH={ordinalNumber:pH({matchPattern:gH,parsePattern:mH,valueCallback:e=>parseInt(e,10)}),era:jc({matchPatterns:vH,defaultMatchWidth:"wide",parsePatterns:yH,defaultParseWidth:"any"}),quarter:jc({matchPatterns:bH,defaultMatchWidth:"wide",parsePatterns:xH,defaultParseWidth:"any",valueCallback:e=>e+1}),month:jc({matchPatterns:wH,defaultMatchWidth:"wide",parsePatterns:_H,defaultParseWidth:"any"}),day:jc({matchPatterns:SH,defaultMatchWidth:"wide",parsePatterns:EH,defaultParseWidth:"any"}),dayPeriod:jc({matchPatterns:IH,defaultMatchWidth:"any",parsePatterns:CH,defaultParseWidth:"any"})},TH={code:"en-US",formatDistance:XW,formatLong:tH,formatRelative:rH,localize:dH,match:PH,options:{weekStartsOn:0,firstWeekContainsDate:1}};function AH(e,t){const n=Wr(e,t==null?void 0:t.in);return HW(n,YW(n))+1}function OH(e,t){const n=Wr(e,t==null?void 0:t.in),r=+Gg(n)-+qW(n);return Math.round(r/qM)+1}function QM(e,t){var c,d,f,p;const n=Wr(e,t==null?void 0:t.in),r=n.getFullYear(),i=Nv(),o=(t==null?void 0:t.firstWeekContainsDate)??((d=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,s=Eo((t==null?void 0:t.in)||e,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const a=mu(s,t),l=Eo((t==null?void 0:t.in)||e,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const u=mu(l,t);return+n>=+a?r+1:+n>=+u?r:r-1}function RH(e,t){var a,l,u,c;const n=Nv(),r=(t==null?void 0:t.firstWeekContainsDate)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,i=QM(e,t),o=Eo((t==null?void 0:t.in)||e,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),mu(o,t)}function DH(e,t){const n=Wr(e,t==null?void 0:t.in),r=+mu(n,t)-+RH(n,t);return Math.round(r/qM)+1}function pt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Qo={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return pt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):pt(n+1,2)},d(e,t){return pt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return pt(e.getHours()%12||12,t.length)},H(e,t){return pt(e.getHours(),t.length)},m(e,t){return pt(e.getMinutes(),t.length)},s(e,t){return pt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return pt(i,t.length)}},wl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},GT={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Qo.y(e,t)},Y:function(e,t,n,r){const i=QM(e,r),o=i>0?i:1-i;if(t==="YY"){const s=o%100;return pt(s,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):pt(o,t.length)},R:function(e,t){const n=YM(e);return pt(n,t.length)},u:function(e,t){const n=e.getFullYear();return pt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return pt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return pt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Qo.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return pt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=DH(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):pt(i,t.length)},I:function(e,t,n){const r=OH(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):pt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Qo.d(e,t)},D:function(e,t,n){const r=AH(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):pt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return pt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return pt(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return pt(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=wl.noon:r===0?i=wl.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=wl.evening:r>=12?i=wl.afternoon:r>=4?i=wl.morning:i=wl.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Qo.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Qo.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):pt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):pt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Qo.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Qo.s(e,t)},S:function(e,t){return Qo.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return YT(r);case"XXXX":case"XX":return da(r);case"XXXXX":case"XXX":default:return da(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return YT(r);case"xxxx":case"xx":return da(r);case"xxxxx":case"xxx":default:return da(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+KT(r,":");case"OOOO":default:return"GMT"+da(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+KT(r,":");case"zzzz":default:return"GMT"+da(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return pt(r,t.length)},T:function(e,t,n){return pt(+e,t.length)}};function KT(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+t+pt(o,2)}function YT(e,t){return e%60===0?(e>0?"-":"+")+pt(Math.abs(e)/60,2):da(e,t)}function da(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=pt(Math.trunc(r/60),2),o=pt(r%60,2);return n+i+t+o}const QT=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},XM=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},kH=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return QT(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",QT(r,t)).replace("{{time}}",XM(i,t))},NH={p:XM,P:kH},jH=/^D+$/,MH=/^Y+$/,LH=["D","DD","YY","YYYY"];function FH(e){return jH.test(e)}function $H(e){return MH.test(e)}function BH(e,t,n){const r=VH(e,t,n);if(console.warn(r),LH.includes(e))throw new RangeError(r)}function VH(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const UH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,zH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,WH=/^'([^]*?)'?$/,HH=/''/g,qH=/[a-zA-Z]/;function lw(e,t,n){var c,d,f,p;const r=Nv(),i=r.locale??TH,o=r.firstWeekContainsDate??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,s=r.weekStartsOn??((p=(f=r.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,a=Wr(e,n==null?void 0:n.in);if(!KW(a))throw new RangeError("Invalid time value");let l=t.match(zH).map(m=>{const v=m[0];if(v==="p"||v==="P"){const y=NH[v];return y(m,i.formatLong)}return m}).join("").match(UH).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const v=m[0];if(v==="'")return{isToken:!1,value:GH(m)};if(GT[v])return{isToken:!0,value:m};if(v.match(qH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const u={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return l.map(m=>{if(!m.isToken)return m.value;const v=m.value;($H(v)||FH(v))&&BH(v,t,String(e));const y=GT[v[0]];return y(a,v,i.localize,u)}).join("")}function GH(e){const t=e.match(WH);return t?t[1].replace(HH,"'"):e}function KH(e,t){const n=()=>Eo(t==null?void 0:t.in,NaN),i=JH(e);let o;if(i.date){const u=ZH(i.date,2);o=eq(u.restDateString,u.year)}if(!o||isNaN(+o))return n();const s=+o;let a=0,l;if(i.time&&(a=tq(i.time),isNaN(a)))return n();if(i.timezone){if(l=nq(i.timezone),isNaN(l))return n()}else{const u=new Date(s+a),c=Wr(0,t==null?void 0:t.in);return c.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),c.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),c}return Wr(s+a+l,t==null?void 0:t.in)}const gp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},YH=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,QH=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,XH=/^([+-])(\d{2})(?::?(\d{2}))?$/;function JH(e){const t={},n=e.split(gp.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],gp.timeZoneDelimiter.test(t.date)&&(t.date=e.split(gp.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const i=gp.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function ZH(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:e.slice((r[1]||r[2]).length)}}function eq(e,t){if(t===null)return new Date(NaN);const n=e.match(YH);if(!n)return new Date(NaN);const r=!!n[4],i=Mc(n[1]),o=Mc(n[2])-1,s=Mc(n[3]),a=Mc(n[4]),l=Mc(n[5])-1;if(r)return aq(t,a,l)?rq(t,a,l):new Date(NaN);{const u=new Date(0);return!oq(t,o,s)||!sq(t,i)?new Date(NaN):(u.setUTCFullYear(t,o,Math.max(i,s)),u)}}function Mc(e){return e?parseInt(e):1}function tq(e){const t=e.match(QH);if(!t)return NaN;const n=ub(t[1]),r=ub(t[2]),i=ub(t[3]);return lq(n,r,i)?n*KM+r*GM+i*1e3:NaN}function ub(e){return e&&parseFloat(e.replace(",","."))||0}function nq(e){if(e==="Z")return 0;const t=e.match(XH);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return uq(r,i)?n*(r*KM+i*GM):NaN}function rq(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,o=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}const iq=[31,null,31,30,31,30,31,31,30,31,30,31];function JM(e){return e%400===0||e%4===0&&e%100!==0}function oq(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(iq[t]||(JM(e)?29:28))}function sq(e,t){return t>=1&&t<=(JM(e)?366:365)}function aq(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function lq(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function uq(e,t){return t>=0&&t<=59}function cq(){const[e,t]=b.useState([]),[n,r]=b.useState(null),[i,o]=b.useState(""),s=gi(),[a,l]=b.useState(""),[u,c]=b.useState(null),[d,f]=b.useState([]),[p,m]=b.useState({}),[v,y]=b.useState([]),[w,_]=b.useState(!1),[S,P]=b.useState(null),[R,M]=b.useState(!1),[C,I]=b.useState([]),[T,k]=b.useState([]),[A,j]=b.useState(!1),O=JSON.parse(localStorage.getItem("admin"))||{},ee=(O==null?void 0:O.userId)||(O==null?void 0:O.id);console.log("AdminId used for fetch:",ee),b.useEffect(()=>{ee&&pe()},[ee]);const re=async()=>{try{const X=await z.get(`http://127.0.0.1:5000/api/get_post_notifications/${ee}`);console.log("Notifications fetched:",X.data);const ie=(X.data||[]).map((Ie,te)=>({...Ie,notificationId:Ie.notificationId||Ie.id||`notification-${te}-${Date.now()}`}));k(ie)}catch(X){console.error("Post notification fetch failed",X)}};b.useEffect(()=>{re();const X=setInterval(re,5e3);return()=>clearInterval(X)},[ee]),b.useEffect(()=>{(async()=>{const ie=await z.get("http://127.0.0.1:5000/api/unreadSenders");I(ie.data)})()},[]);const pe=async()=>{if(ee)try{const X=await z.get(`http://127.0.0.1:5000/api/get_my_posts/${ee}`);console.log("Raw posts response:",X.data);const Ie=(Array.isArray(X.data)?X.data:Object.values(X.data||[])).map(te=>({postId:te.postId||te.id,message:te.message||"",postUrl:te.postUrl||null,time:te.time?lw(KH(te.time),"h:mm a, MMM d yyyy"):new Date().toLocaleString(),edited:te.edited||!1,likeCount:te.likeCount||0,likes:te.likes||{},adminId:te.adminId||ee})).sort((te,D)=>new Date(D.time)-new Date(te.time));t(Ie),console.log("Mapped posts:",Ie)}catch(X){console.error("Error fetching posts:",X)}};b.useEffect(()=>{if(!ee){console.error("Admin ID missing in localStorage:",O);return}pe();const X=setInterval(pe,1e4);return()=>clearInterval(X)},[ee]);const Oe=async()=>{if(!(!a&&!u))try{const X=new FormData;X.append("adminId",ee),X.append("postText",a),u&&X.append("postMedia",u);const ie=await z.post("http://127.0.0.1:5000/api/create_post",X,{headers:{"Content-Type":"multipart/form-data"}});l(""),c(null),pe()}catch(X){console.error("Error creating post:",X)}},F=async X=>{if(window.confirm("Are you sure you want to delete this post?"))try{await z.delete(`http://127.0.0.1:5000/api/delete_post/${X}`,{data:{adminId:ee}}),t(e.filter(ie=>ie.postId!==X))}catch(ie){console.error("Error deleting post:",ie)}},Q=(X,ie)=>{r(X),o(ie)},le=async X=>{try{await z.post(`http://127.0.0.1:5000/api/edit_post/${X}`,{adminId:ee,postText:i}),t(e.map(ie=>ie.postId===X?{...ie,message:i,edited:!0}:ie)),r(null),o("")}catch(ie){console.error("Error updating post:",ie)}},be=async()=>{if(!O.userId)return;const X={};try{const Ie=(await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Users.json")).data||{},te=Z=>Object.values(Ie).find($=>$.userId===Z),D=async Z=>{const $=`${O.userId}_${Z}`,B=`${Z}_${O.userId}`,[W,ae]=await Promise.all([z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${$}/messages.json`),z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${B}/messages.json`)]);return[...Object.values(W.data||{}),...Object.values(ae.data||{})].filter(ce=>ce.receiverId===O.userId&&!ce.seen).length},V=await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Teachers.json");for(const Z in V.data||{}){const $=V.data[Z],B=await D($.userId);if(B>0){const W=te($.userId);X[$.userId]={type:"teacher",name:(W==null?void 0:W.name)||"Teacher",profileImage:(W==null?void 0:W.profileImage)||"/default-profile.png",count:B}}}const L=await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Students.json");for(const Z in L.data||{}){const $=L.data[Z],B=await D($.userId);if(B>0){const W=te($.userId);X[$.userId]={type:"student",name:(W==null?void 0:W.name)||$.name||"Student",profileImage:(W==null?void 0:W.profileImage)||$.profileImage||"/default-profile.png",count:B}}}const J=await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Parents.json");for(const Z in J.data||{}){const $=J.data[Z],B=await D($.userId);if(B>0){const W=te($.userId);X[$.userId]={type:"parent",name:(W==null?void 0:W.name)||$.name||"Parent",profileImage:(W==null?void 0:W.profileImage)||$.profileImage||"/default-profile.png",count:B}}}I(X)}catch(ie){console.error("Unread fetch failed:",ie)}};b.useEffect(()=>{const X=ie=>{!ie.target.closest(".icon-circle")&&!ie.target.closest(".messenger-dropdown")&&_(!1)};return document.addEventListener("click",X),()=>document.removeEventListener("click",X)},[]),b.useEffect(()=>{const X=ie=>{!ie.target.closest(".icon-circle")&&!ie.target.closest(".notification-dropdown")&&j(!1)};return document.addEventListener("click",X),()=>document.removeEventListener("click",X)},[]),b.useEffect(()=>{if(!O.userId)return;be();const X=setInterval(be,5e3);return()=>clearInterval(X)},[O.userId]),b.useEffect(()=>{(async()=>{try{const[ie,Ie]=await Promise.all([z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Teachers.json"),z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Users.json")]),te=ie.data||{},D=Ie.data||{},V=Object.keys(te).map(Z=>{const $=te[Z],B=D[$.userId]||{};return{teacherId:Z,userId:$.userId,name:B.name||"No Name",profileImage:B.profileImage||"/default-profile.png"}});f(V);const L={},J=[];for(const Z of V){const $=`${ee}_${Z.userId}`,B=await z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${$}/messages.json`),W=Object.values(B.data||{}).map(ne=>({...ne,sender:ne.senderId===ee?"admin":"teacher"}));J.push(...W);const ae=W.filter(ne=>ne.receiverId===ee&&!ne.seen).length;ae>0&&(L[Z.userId]=ae)}y(J),m(L)}catch(ie){console.error(ie)}})()},[ee]);const we=async X=>{const ie=`${O.userId}_${X}`,Ie=`${X}_${O.userId}`,[te,D]=await Promise.all([z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${ie}/messages.json`),z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${Ie}/messages.json`)]),V={},L=(J,Z)=>{Object.entries(J||{}).forEach(([$,B])=>{B.receiverId===O.userId&&!B.seen&&(V[`${Z}/${$}/seen`]=!0)})};L(te.data,`Chats/${ie}/messages`),L(D.data,`Chats/${Ie}/messages`),Object.keys(V).length>0&&await z.patch("https://ethiostore-17d9f-default-rtdb.firebaseio.com/.json",V)};return g.jsxs("div",{className:"dashboard-page",children:[g.jsxs("nav",{className:"top-navbar",children:[g.jsx("h2",{children:"Gojo Dashboard"}),g.jsxs("div",{className:"nav-search",children:[g.jsx(ul,{className:"search-icon"}),g.jsx("input",{type:"text",placeholder:"Search Teacher and Student..."})]}),g.jsxs("div",{className:"nav-right",children:[g.jsxs("div",{className:"icon-circle",style:{position:"relative",cursor:"pointer"},onClick:X=>{X.stopPropagation(),j(ie=>!ie)},children:[g.jsx(il,{}),T.length>0&&g.jsx("span",{style:{position:"absolute",top:"-5px",right:"-5px",background:"red",color:"#fff",borderRadius:"50%",padding:"2px 6px",fontSize:"10px",fontWeight:"bold"},children:T.length}),A&&g.jsx("div",{className:"notification-dropdown",style:{position:"absolute",top:"40px",right:"0",width:"350px",maxHeight:"400px",overflowY:"auto",background:"#fff",borderRadius:"10px",boxShadow:"0 4px 15px rgba(0,0,0,0.25)",zIndex:1e3,padding:"5px 0"},onClick:X=>X.stopPropagation(),children:T.length===0?g.jsx("p",{style:{padding:"12px",textAlign:"center"},children:"No new notifications"}):T.map(X=>g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px",cursor:"pointer",borderBottom:"1px solid #eee"},onClick:async()=>{await z.post("http://127.0.0.1:5000/api/mark_post_notification_read",{notificationId:X.notificationId}),k(ie=>ie.filter(Ie=>Ie.notificationId!==X.notificationId)),j(!1),s("/dashboard",{state:{postId:X.postId}})},children:[g.jsx("img",{src:X.adminProfile||"/default-profile.png",alt:X.adminName,style:{width:"40px",height:"40px",borderRadius:"50%"}}),g.jsxs("div",{children:[g.jsx("strong",{children:X.adminName}),g.jsx("p",{style:{margin:0},children:X.message})]})]},X.notificationId))})]}),g.jsxs("div",{className:"icon-circle",style:{position:"relative",cursor:"pointer"},onClick:X=>{X.stopPropagation(),_(ie=>!ie)},children:[g.jsx(rl,{}),Object.keys(C).length>0&&g.jsx("span",{style:{position:"absolute",top:"-5px",right:"-5px",background:"red",color:"#fff",borderRadius:"50%",padding:"2px 6px",fontSize:"10px",fontWeight:"bold"},children:Object.values(C).reduce((X,ie)=>X+ie.count,0)}),w&&g.jsx("div",{style:{position:"absolute",top:"40px",right:"0",width:"300px",background:"#fff",borderRadius:"10px",boxShadow:"0 4px 15px rgba(0,0,0,0.25)",zIndex:1e3},children:Object.keys(C).length===0?g.jsx("p",{style:{padding:"12px",textAlign:"center",color:"#777"},children:"No new messages"}):Object.entries(C).map(([X,ie])=>g.jsxs("div",{style:{padding:"12px",display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",borderBottom:"1px solid #eee"},onClick:async()=>{_(!1),await we(X),I(Ie=>{const te={...Ie};return delete te[X],te}),s("/all-chat",{state:{user:{userId:X,name:ie.name,profileImage:ie.profileImage,type:ie.type}}})},children:[g.jsx("img",{src:ie.profileImage,alt:ie.name,style:{width:"42px",height:"42px",borderRadius:"50%"}}),g.jsxs("div",{children:[g.jsx("strong",{children:ie.name}),g.jsxs("p",{style:{fontSize:"12px",margin:0},children:[ie.count," new message",ie.count>1&&"s"]})]})]},X))})]}),g.jsx(Le,{className:"icon-circle",to:"/settings",children:g.jsx(sl,{})}),g.jsx("img",{src:O.profileImage||"/default-profile.png",alt:"admin",className:"profile-img"})]})]}),g.jsxs("div",{className:"google-dashboard",children:[g.jsxs("div",{className:"google-sidebar",children:[g.jsxs("div",{className:"sidebar-profile",children:[g.jsx("div",{className:"sidebar-img-circle",children:g.jsx("img",{src:(O==null?void 0:O.profileImage)||"/default-profile.png",alt:"profile"})}),g.jsx("h3",{children:(O==null?void 0:O.name)||"Admin Name"}),g.jsx("p",{children:(O==null?void 0:O.username)||"username"})]}),g.jsxs("div",{className:"sidebar-menu",children:[g.jsxs(Le,{className:"sidebar-btn",to:"/dashboard",children:[" ",g.jsx(ll,{style:{width:"28px",height:"28px"}})," Home"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/my-posts",style:{backgroundColor:"#4b6cb7",color:"#fff"},children:[g.jsx(al,{})," My Posts"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/teachers",children:[g.jsx(Jt,{})," Teachers"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/students",children:[" ",g.jsx(Jt,{})," Students"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/schedule",children:[g.jsx(ol,{})," Schedule"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/parents",children:[g.jsx(Jt,{})," Parents"]}),g.jsxs("button",{className:"sidebar-btn logout-btn",onClick:()=>{localStorage.removeItem("admin"),window.location.href="/login"},children:[g.jsx(cl,{})," Logout"]})]})]}),g.jsxs("div",{className:"google-main",children:[g.jsx("div",{className:"post-box",children:g.jsxs("div",{className:"fb-post-top",children:[g.jsx("img",{src:O.profileImage||"/default-profile.png",alt:"me"}),g.jsx("textarea",{placeholder:"What's on your mind?",value:a,onChange:X=>l(X.target.value)}),g.jsxs("div",{className:"fb-post-bottom",children:[g.jsxs("label",{className:"fb-upload",children:[g.jsx(HM,{className:"fb-icon"}),g.jsx("input",{type:"file",onChange:X=>c(X.target.files[0]),accept:"image/*,video/*"})]}),g.jsx("button",{className:"telegram-send-icon",onClick:Oe,children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 25",width:"35",height:"35",fill:"#0088cc",children:g.jsx("path",{d:"M2.01 21L23 12 2.01 3v7l15 2-15 2z"})})})]})]})}),e.length===0&&g.jsx("p",{style:{fontSize:"16px",textAlign:"center"},children:"You have no posts yet."}),e.map(X=>g.jsxs("div",{id:`post-${X.postId}`,style:{width:"55%",margin:"0 5% 30px 40%",border:"1px solid #ccc",borderRadius:"12px",boxShadow:"0 5px 20px rgba(0,0,0,0.1)",background:"#fff"},className:"post-card",children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"15px",gap:"10px",borderBottom:"1px solid #eee"},children:[g.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"50%",overflow:"hidden"},children:g.jsx("img",{src:O.profileImage||"/default-profile.png",alt:"profile",style:{width:"100%",height:"100%",objectFit:"cover"}})}),g.jsxs("div",{children:[g.jsx("h4",{style:{margin:0},children:O.name}),g.jsx("small",{style:{color:"gray"},children:X.time})]})]}),g.jsx("div",{style:{padding:"15px"},children:n===X.postId?g.jsxs("div",{children:[g.jsx("textarea",{value:i,onChange:ie=>o(ie.target.value),style:{width:"100%",height:"100px",padding:"10px",borderRadius:"8px",fontSize:"16px",resize:"none"}}),g.jsxs("div",{style:{marginTop:"10px"},children:[g.jsx("button",{onClick:()=>le(X.postId),style:{padding:"8px 12px",borderRadius:"8px",border:"none",background:"#4b6cb7",color:"#fff",cursor:"pointer",marginRight:"10px"},children:"Save"}),g.jsx("button",{onClick:()=>r(null),style:{padding:"8px 12px",borderRadius:"8px",border:"none",background:"#ccc",color:"#333",cursor:"pointer"},children:"Cancel"})]})]}):g.jsxs(g.Fragment,{children:[g.jsx("p",{style:{fontSize:"16px",marginBottom:"10px"},children:X.message}),X.edited&&g.jsx("small",{style:{color:"gray"},children:"(edited)"}),X.postUrl&&g.jsx("img",{src:X.postUrl,alt:"post media",style:{width:"100%",maxHeight:"400px",objectFit:"cover",borderRadius:"12px",marginTop:"10px"}})]})}),n!==X.postId&&g.jsxs("div",{style:{display:"flex",gap:"10px",padding:"10px 15px",borderTop:"1px solid #eee"},children:[g.jsx("button",{onClick:()=>Q(X.postId,X.message),style:{padding:"8px 12px",borderRadius:"8px",border:"none",background:"#ffa500",color:"#fff",cursor:"pointer"},children:"Edit"}),g.jsx("button",{onClick:()=>F(X.postId),style:{padding:"8px 12px",borderRadius:"8px",border:"none",background:"#ff4b5c",color:"#fff",cursor:"pointer"},children:"Delete"})]})]},X.postId))]})]})]})}function ZM(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=ZM(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function un(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=ZM(e))&&(r&&(r+=" "),r+=t);return r}var dq=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Q_(e){if(typeof e!="string")return!1;var t=dq;return t.includes(e)}var fq=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],hq=new Set(fq);function e4(e){return typeof e!="string"?!1:hq.has(e)}function t4(e){return typeof e=="string"&&e.startsWith("data-")}function vu(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e4(n)||t4(n))&&(t[n]=e[n]);return t}function uw(e){if(e==null)return null;if(b.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return vu(t)}return typeof e=="object"&&!Array.isArray(e)?vu(e):null}function di(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e4(n)||t4(n)||Q_(n))&&(t[n]=e[n]);return t}var pq=["children","width","height","viewBox","className","style","title","desc"];function cw(){return cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cw.apply(null,arguments)}function gq(e,t){if(e==null)return{};var n,r,i=mq(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var n4=b.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:s,style:a,title:l,desc:u}=e,c=gq(e,pq),d=o||{width:r,height:i,x:0,y:0},f=un("recharts-surface",s);return b.createElement("svg",cw({},di(c),{className:f,width:r,height:i,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),b.createElement("title",null,l),b.createElement("desc",null,u),n)}),vq=["children","className"];function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dw.apply(null,arguments)}function yq(e,t){if(e==null)return{};var n,r,i=bq(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ks=b.forwardRef((e,t)=>{var{children:n,className:r}=e,i=yq(e,vq),o=un("recharts-layer",r);return b.createElement("g",dw({className:o},di(i),{ref:t}),n)}),xq=b.createContext(null);function St(e){return function(){return e}}const r4=Math.cos,Kg=Math.sin,Li=Math.sqrt,Yg=Math.PI,jv=2*Yg,fw=Math.PI,hw=2*fw,fa=1e-6,wq=hw-fa;function i4(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function _q(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return i4;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let Sq=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?i4:_q(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-t,u=i-n,c=s-t,d=a-n,f=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>fa)if(!(Math.abs(d*l-u*c)>fa)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-s,m=i-a,v=l*l+u*u,y=p*p+m*m,w=Math.sqrt(v),_=Math.sqrt(f),S=o*Math.tan((fw-Math.acos((v+f-y)/(2*w*_)))/2),P=S/_,R=S/w;Math.abs(P-1)>fa&&this._append`L${t+P*c},${n+P*d}`,this._append`A${o},${o},0,0,${+(d*p>c*m)},${this._x1=t+R*l},${this._y1=n+R*u}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=t+a,c=n+l,d=1^s,f=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>fa||Math.abs(this._y1-c)>fa)&&this._append`L${u},${c}`,r&&(f<0&&(f=f%hw+hw),f>wq?this._append`A${r},${r},0,1,${d},${t-a},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:f>fa&&this._append`A${r},${r},0,${+(f>=fw)},${d},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function X_(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Sq(t)}function J_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function o4(e){this._context=e}o4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Mv(e){return new o4(e)}function s4(e){return e[0]}function a4(e){return e[1]}function l4(e,t){var n=St(!0),r=null,i=Mv,o=null,s=X_(a);e=typeof e=="function"?e:e===void 0?s4:St(e),t=typeof t=="function"?t:t===void 0?a4:St(t);function a(l){var u,c=(l=J_(l)).length,d,f=!1,p;for(r==null&&(o=i(p=s())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(d,u,l),+t(d,u,l));if(p)return o=null,p+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:St(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:St(+l),a):t},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:St(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function mp(e,t,n){var r=null,i=St(!0),o=null,s=Mv,a=null,l=X_(u);e=typeof e=="function"?e:e===void 0?s4:St(+e),t=typeof t=="function"?t:St(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?a4:St(+n);function u(d){var f,p,m,v=(d=J_(d)).length,y,w=!1,_,S=new Array(v),P=new Array(v);for(o==null&&(a=s(_=l())),f=0;f<=v;++f){if(!(f<v&&i(y=d[f],f,d))===w)if(w=!w)p=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),m=f-1;m>=p;--m)a.point(S[m],P[m]);a.lineEnd(),a.areaEnd()}w&&(S[f]=+e(y,f,d),P[f]=+t(y,f,d),a.point(r?+r(y,f,d):S[f],n?+n(y,f,d):P[f]))}if(_)return a=null,_+""||null}function c(){return l4().defined(i).curve(s).context(o)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:St(+d),r=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:St(+d),u):e},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:St(+d),u):r},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:St(+d),n=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:St(+d),u):t},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:St(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:St(!!d),u):i},u.curve=function(d){return arguments.length?(s=d,o!=null&&(a=s(o)),u):s},u.context=function(d){return arguments.length?(d==null?o=a=null:a=s(o=d),u):o},u}class u4{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Eq(e){return new u4(e,!0)}function Iq(e){return new u4(e,!1)}const Z_={draw(e,t){const n=Li(t/Yg);e.moveTo(n,0),e.arc(0,0,n,0,jv)}},Cq={draw(e,t){const n=Li(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},c4=Li(1/3),Pq=c4*2,Tq={draw(e,t){const n=Li(t/Pq),r=n*c4;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Aq={draw(e,t){const n=Li(t),r=-n/2;e.rect(r,r,n,n)}},Oq=.8908130915292852,d4=Kg(Yg/10)/Kg(7*Yg/10),Rq=Kg(jv/10)*d4,Dq=-r4(jv/10)*d4,kq={draw(e,t){const n=Li(t*Oq),r=Rq*n,i=Dq*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const s=jv*o/5,a=r4(s),l=Kg(s);e.lineTo(l*n,-a*n),e.lineTo(a*r-l*i,l*r+a*i)}e.closePath()}},cb=Li(3),Nq={draw(e,t){const n=-Li(t/(cb*3));e.moveTo(0,n*2),e.lineTo(-cb*n,-n),e.lineTo(cb*n,-n),e.closePath()}},Qr=-.5,Xr=Li(3)/2,pw=1/Li(12),jq=(pw/2+1)*3,Mq={draw(e,t){const n=Li(t/jq),r=n/2,i=n*pw,o=r,s=n*pw+n,a=-o,l=s;e.moveTo(r,i),e.lineTo(o,s),e.lineTo(a,l),e.lineTo(Qr*r-Xr*i,Xr*r+Qr*i),e.lineTo(Qr*o-Xr*s,Xr*o+Qr*s),e.lineTo(Qr*a-Xr*l,Xr*a+Qr*l),e.lineTo(Qr*r+Xr*i,Qr*i-Xr*r),e.lineTo(Qr*o+Xr*s,Qr*s-Xr*o),e.lineTo(Qr*a+Xr*l,Qr*l-Xr*a),e.closePath()}};function Lq(e,t){let n=null,r=X_(i);e=typeof e=="function"?e:St(e||Z_),t=typeof t=="function"?t:St(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:St(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:St(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Qg(){}function Xg(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function f4(e){this._context=e}f4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Fq(e){return new f4(e)}function h4(e){this._context=e}h4.prototype={areaStart:Qg,areaEnd:Qg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Xg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $q(e){return new h4(e)}function p4(e){this._context=e}p4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Xg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Bq(e){return new p4(e)}function g4(e){this._context=e}g4.prototype={areaStart:Qg,areaEnd:Qg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Vq(e){return new g4(e)}function XT(e){return e<0?-1:1}function JT(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(XT(o)+XT(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function ZT(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function db(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,i+a*t,o-a,s-a*n,o,s)}function Jg(e){this._context=e}Jg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:db(this,this._t0,ZT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,db(this,ZT(this,n=JT(this,e,t)),n);break;default:db(this,this._t0,n=JT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function m4(e){this._context=new v4(e)}(m4.prototype=Object.create(Jg.prototype)).point=function(e,t){Jg.prototype.point.call(this,t,e)};function v4(e){this._context=e}v4.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function Uq(e){return new Jg(e)}function zq(e){return new m4(e)}function y4(e){this._context=e}y4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=eA(e),i=eA(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function eA(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function Wq(e){return new y4(e)}function Lv(e,t){this._context=e,this._t=t}Lv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Hq(e){return new Lv(e,.5)}function qq(e){return new Lv(e,0)}function Gq(e){return new Lv(e,1)}function Va(e,t){if((s=e.length)>1)for(var n=1,r,i,o=e[t[0]],s,a=o.length;n<s;++n)for(i=o,o=e[t[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function gw(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Kq(e,t){return e[t]}function Yq(e){const t=[];return t.key=e,t}function Qq(){var e=St([]),t=gw,n=Va,r=Kq;function i(o){var s=Array.from(e.apply(this,arguments),Yq),a,l=s.length,u=-1,c;for(const d of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(d,s[a].key,u,o)]).data=d;for(a=0,c=J_(t(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:St(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:St(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?gw:typeof o=="function"?o:St(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??Va,i):n},i}function Xq(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}Va(e,t)}}function Jq(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=e[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}Va(e,t)}}function Zq(e,t){if(!(!((s=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var c=e[t[a]],d=c[r][1]||0,f=c[r-1][1]||0,p=(d-f)/2,m=0;m<a;++m){var v=e[t[m]],y=v[r][1]||0,w=v[r-1][1]||0;p+=y-w}l+=d,u+=p*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Va(e,t)}}var Fv={},b4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(b4);var eS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(eS);var $v={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})($v);var Bv={},x4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(x4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x4,n=$v;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const o=[],s=i.length;if(s===0)return o;let a=0,l="",u="",c=!1;for(i.charCodeAt(0)===46&&(o.push(""),a++);a<s;){const d=i[a];u?d==="\\"&&a+1<s?(a++,l+=i[a]):d===u?u="":l+=d:c?d==='"'||d==="'"?u=d:d==="]"?(c=!1,o.push(l),l=""):l+=d:d==="["?(c=!0,l&&(o.push(l),l="")):d==="."?l&&(o.push(l),l=""):l+=d,a++}return l&&o.push(l),o}e.toPath=r})(Bv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b4,n=eS,r=$v,i=Bv;function o(a,l,u){if(a==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const c=a[l];return c===void 0?n.isDeepKey(l)?o(a,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const c=a[l];return c===void 0?u:c}default:{if(Array.isArray(l))return s(a,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const c=a[l];return c===void 0?u:c}}}function s(a,l,u){if(l.length===0)return u;let c=a;for(let d=0;d<l.length;d++){if(c==null||t.isUnsafeProperty(l[d]))return u;c=c[l[d]]}return c===void 0?u:c}e.get=o})(Fv);var eG=Fv.get;const Xd=ji(eG);var tG=4;function ss(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tG,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Wt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,o,s)=>{var a=n[s-1];return typeof a=="string"?i+a+o:a!==void 0?i+ss(a)+o:i+o},"")}var br=e=>e===0?0:e>0?1:-1,Io=e=>typeof e=="number"&&e!=+e,Co=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ue=e=>(typeof e=="number"||e instanceof Number)&&!Io(e),Po=e=>Ue(e)||typeof e=="string",nG=0,Jd=e=>{var t=++nG;return"".concat(e||"").concat(t)},$r=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ue(t)&&typeof t!="string")return r;var o;if(Co(t)){if(n==null)return r;var s=t.indexOf("%");o=n*parseFloat(t.slice(0,s))/100}else o=+t;return Io(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},w4=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function wi(e,t,n){return Ue(e)&&Ue(t)?ss(e+n*(t-e)):t}function rG(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Xd(r,t))===n)}var Hr=e=>e===null||typeof e>"u",Qf=e=>Hr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function iG(e){return e!=null}function Xf(){}var oG=["type","size","sizeType"];function mw(){return mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mw.apply(null,arguments)}function tA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(n),!0).forEach(function(r){sG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sG(e,t,n){return(t=aG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aG(e){var t=lG(e,"string");return typeof t=="symbol"?t:t+""}function lG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uG(e,t){if(e==null)return{};var n,r,i=cG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cG(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var _4={symbolCircle:Z_,symbolCross:Cq,symbolDiamond:Tq,symbolSquare:Aq,symbolStar:kq,symbolTriangle:Nq,symbolWye:Mq},dG=Math.PI/180,fG=e=>{var t="symbol".concat(Qf(e));return _4[t]||Z_},hG=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*dG;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},pG=(e,t)=>{_4["symbol".concat(Qf(e))]=t},S4=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=uG(e,oG),o=nA(nA({},i),{},{type:t,size:n,sizeType:r}),s="circle";typeof t=="string"&&(s=t);var a=()=>{var f=fG(s),p=Lq().type(f).size(hG(n,r,s)),m=p();if(m!==null)return m},{className:l,cx:u,cy:c}=o,d=di(o);return Ue(u)&&Ue(c)&&Ue(n)?b.createElement("path",mw({},d,{className:un("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:a()})):null};S4.registerSymbol=pG;var E4=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,gG=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(b.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Q_(i)&&(r[i]=o=>n[i](n,o))}),r},mG=(e,t,n)=>r=>(e(t,n,r),null),vG=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];Q_(i)&&typeof o=="function"&&(r||(r={}),r[i]=mG(o,t,n))}),r};function rA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(n),!0).forEach(function(r){bG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bG(e,t,n){return(t=xG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xG(e){var t=wG(e,"string");return typeof t=="symbol"?t:t+""}function wG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oo(e,t){var n=yG({},e),r=t,i=Object.keys(t),o=i.reduce((s,a)=>(s[a]===void 0&&r[a]!==void 0&&(s[a]=r[a]),s),n);return o}var I4={},C4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let o=0;o<n.length;o++){const s=n[o],a=r(s);i.has(a)||i.set(a,s)}return Array.from(i.values())}e.uniqBy=t})(C4);var tS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(tS);var P4={},Vv={},T4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(T4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T4;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Vv);var A4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(A4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vv,n=A4;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(P4);var O4={},R4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fv;function n(r){return function(i){return t.get(i,r)}}e.property=n})(R4);var D4={},nS={},k4={},rS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(rS);var iS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(iS);var oS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(oS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rS,n=iS,r=oS;function i(c,d,f){return typeof f!="function"?i(c,d,()=>{}):o(c,d,function p(m,v,y,w,_,S){const P=f(m,v,y,w,_,S);return P!==void 0?!!P:o(m,v,p,S)},new Map)}function o(c,d,f,p){if(d===c)return!0;switch(typeof d){case"object":return s(c,d,f,p);case"function":return Object.keys(d).length>0?o(c,{...d},f,p):r.eq(c,d);default:return t.isObject(c)?typeof d=="string"?d==="":!0:r.eq(c,d)}}function s(c,d,f,p){if(d==null)return!0;if(Array.isArray(d))return l(c,d,f,p);if(d instanceof Map)return a(c,d,f,p);if(d instanceof Set)return u(c,d,f,p);const m=Object.keys(d);if(c==null||n.isPrimitive(c))return m.length===0;if(m.length===0)return!0;if(p!=null&&p.has(d))return p.get(d)===c;p==null||p.set(d,c);try{for(let v=0;v<m.length;v++){const y=m[v];if(!n.isPrimitive(c)&&!(y in c)||d[y]===void 0&&c[y]!==void 0||d[y]===null&&c[y]!==null||!f(c[y],d[y],y,c,d,p))return!1}return!0}finally{p==null||p.delete(d)}}function a(c,d,f,p){if(d.size===0)return!0;if(!(c instanceof Map))return!1;for(const[m,v]of d.entries()){const y=c.get(m);if(f(y,v,m,c,d,p)===!1)return!1}return!0}function l(c,d,f,p){if(d.length===0)return!0;if(!Array.isArray(c))return!1;const m=new Set;for(let v=0;v<d.length;v++){const y=d[v];let w=!1;for(let _=0;_<c.length;_++){if(m.has(_))continue;const S=c[_];let P=!1;if(f(S,y,v,c,d,p)&&(P=!0),P){m.add(_),w=!0;break}}if(!w)return!1}return!0}function u(c,d,f,p){return d.size===0?!0:c instanceof Set?l([...c],[...d],f,p):!1}e.isMatchWith=i,e.isSetMatch=u})(k4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k4;function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(nS);var N4={},sS={},j4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(j4);var aS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(aS);var lS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",s="[object Symbol]",a="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",d="[object Function]",f="[object ArrayBuffer]",p="[object Object]",m="[object Error]",v="[object DataView]",y="[object Uint8Array]",w="[object Uint8ClampedArray]",_="[object Uint16Array]",S="[object Uint32Array]",P="[object BigUint64Array]",R="[object Int8Array]",M="[object Int16Array]",C="[object Int32Array]",I="[object BigInt64Array]",T="[object Float32Array]",k="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=f,e.arrayTag=c,e.bigInt64ArrayTag=I,e.bigUint64ArrayTag=P,e.booleanTag=i,e.dataViewTag=v,e.dateTag=a,e.errorTag=m,e.float32ArrayTag=T,e.float64ArrayTag=k,e.functionTag=d,e.int16ArrayTag=M,e.int32ArrayTag=C,e.int8ArrayTag=R,e.mapTag=l,e.numberTag=r,e.objectTag=p,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=_,e.uint32ArrayTag=S,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=w})(lS);var M4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(M4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j4,n=aS,r=lS,i=iS,o=M4;function s(c,d){return a(c,void 0,c,new Map,d)}function a(c,d,f,p=new Map,m=void 0){const v=m==null?void 0:m(c,d,f,p);if(v!==void 0)return v;if(i.isPrimitive(c))return c;if(p.has(c))return p.get(c);if(Array.isArray(c)){const y=new Array(c.length);p.set(c,y);for(let w=0;w<c.length;w++)y[w]=a(c[w],w,f,p,m);return Object.hasOwn(c,"index")&&(y.index=c.index),Object.hasOwn(c,"input")&&(y.input=c.input),y}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const y=new RegExp(c.source,c.flags);return y.lastIndex=c.lastIndex,y}if(c instanceof Map){const y=new Map;p.set(c,y);for(const[w,_]of c)y.set(w,a(_,w,f,p,m));return y}if(c instanceof Set){const y=new Set;p.set(c,y);for(const w of c)y.add(a(w,void 0,f,p,m));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(o.isTypedArray(c)){const y=new(Object.getPrototypeOf(c)).constructor(c.length);p.set(c,y);for(let w=0;w<c.length;w++)y[w]=a(c[w],w,f,p,m);return y}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const y=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return p.set(c,y),l(y,c,f,p,m),y}if(typeof File<"u"&&c instanceof File){const y=new File([c],c.name,{type:c.type});return p.set(c,y),l(y,c,f,p,m),y}if(typeof Blob<"u"&&c instanceof Blob){const y=new Blob([c],{type:c.type});return p.set(c,y),l(y,c,f,p,m),y}if(c instanceof Error){const y=new c.constructor;return p.set(c,y),y.message=c.message,y.name=c.name,y.stack=c.stack,y.cause=c.cause,l(y,c,f,p,m),y}if(c instanceof Boolean){const y=new Boolean(c.valueOf());return p.set(c,y),l(y,c,f,p,m),y}if(c instanceof Number){const y=new Number(c.valueOf());return p.set(c,y),l(y,c,f,p,m),y}if(c instanceof String){const y=new String(c.valueOf());return p.set(c,y),l(y,c,f,p,m),y}if(typeof c=="object"&&u(c)){const y=Object.create(Object.getPrototypeOf(c));return p.set(c,y),l(y,c,f,p,m),y}return c}function l(c,d,f=c,p,m){const v=[...Object.keys(d),...t.getSymbols(d)];for(let y=0;y<v.length;y++){const w=v[y],_=Object.getOwnPropertyDescriptor(c,w);(_==null||_.writable)&&(c[w]=a(d[w],w,f,p,m))}}function u(c){switch(n.getTag(c)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=a,e.copyProperties=l})(sS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sS;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(N4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nS,n=N4;function r(i){return i=n.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=r})(D4);var L4={},F4={},$4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sS,n=lS;function r(i,o){return t.cloneDeepWith(i,(s,a,l,u)=>{const c=o==null?void 0:o(s,a,l,u);if(c!==void 0)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(d,i),d}case n.argumentsTag:{const d={};return t.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}e.cloneDeepWith=r})($4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$4;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(F4);var B4={},uS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(uS);var V4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aS;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(V4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eS,n=uS,r=V4,i=Bv;function o(s,a){let l;if(Array.isArray(a)?l=a:typeof a=="string"&&t.isDeepKey(a)&&(s==null?void 0:s[a])==null?l=i.toPath(a):l=[a],l.length===0)return!1;let u=s;for(let c=0;c<l.length;c++){const d=l[c];if((u==null||!Object.hasOwn(u,d))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(d)&&d<u.length))return!1;u=u[d]}return!0}e.has=o})(B4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nS,n=$v,r=F4,i=Fv,o=B4;function s(a,l){switch(typeof a){case"object":{Object.is(a==null?void 0:a.valueOf(),-0)&&(a="-0");break}case"number":{a=n.toKey(a);break}}return l=r.cloneDeep(l),function(u){const c=i.get(u,a);return c===void 0?o.has(u,a):l===void 0?c===void 0:t.isMatch(c,l)}}e.matchesProperty=s})(L4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tS,n=R4,r=D4,i=L4;function o(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=o})(O4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C4,n=tS,r=P4,i=O4;function o(s,a=n.identity){return r.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(a)):[]}e.uniqBy=o})(I4);var _G=I4.uniqBy;const iA=ji(_G);function SG(e,t,n){return t===!0?iA(e,n):typeof t=="function"?iA(e,t):e}var U4={exports:{}},z4={},W4={exports:{}},H4={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yu=b;function EG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var IG=typeof Object.is=="function"?Object.is:EG,CG=yu.useState,PG=yu.useEffect,TG=yu.useLayoutEffect,AG=yu.useDebugValue;function OG(e,t){var n=t(),r=CG({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return TG(function(){i.value=n,i.getSnapshot=t,fb(i)&&o({inst:i})},[e,n,t]),PG(function(){return fb(i)&&o({inst:i}),e(function(){fb(i)&&o({inst:i})})},[e]),AG(n),n}function fb(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!IG(e,n)}catch{return!0}}function RG(e,t){return t()}var DG=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?RG:OG;H4.useSyncExternalStore=yu.useSyncExternalStore!==void 0?yu.useSyncExternalStore:DG;W4.exports=H4;var kG=W4.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv=b,NG=kG;function jG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var MG=typeof Object.is=="function"?Object.is:jG,LG=NG.useSyncExternalStore,FG=Uv.useRef,$G=Uv.useEffect,BG=Uv.useMemo,VG=Uv.useDebugValue;z4.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=FG(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=BG(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var m=s.value;if(i(m,p))return d=m}return d=p}if(m=d,MG(c,p))return m;var v=r(p);return i!==void 0&&i(m,v)?(c=p,m):(c=p,d=v)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,r,i]);var a=LG(e,o[0],o[1]);return $G(function(){s.hasValue=!0,s.value=a},[a]),VG(a),a};U4.exports=z4;var UG=U4.exports,cS=b.createContext(null),zG=e=>e,bn=()=>{var e=b.useContext(cS);return e?e.store.dispatch:zG},og=()=>{},WG=()=>og,HG=(e,t)=>e===t;function Ye(e){var t=b.useContext(cS);return UG.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:WG,t?t.store.getState:og,t?t.store.getState:og,t?e:og,HG)}function qG(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function GG(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function KG(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var oA=e=>Array.isArray(e)?e:[e];function YG(e){const t=Array.isArray(e[0])?e[0]:e;return KG(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function QG(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var XG=class{constructor(e){this.value=e}deref(){return this.value}},JG=typeof WeakRef<"u"?WeakRef:XG,ZG=0,sA=1;function vp(){return{s:ZG,v:void 0,o:null,p:null}}function q4(e,t={}){let n=vp();const{resultEqualityCheck:r}=t;let i,o=0;function s(){var d;let a=n;const{length:l}=arguments;for(let f=0,p=l;f<p;f++){const m=arguments[f];if(typeof m=="function"||typeof m=="object"&&m!==null){let v=a.o;v===null&&(a.o=v=new WeakMap);const y=v.get(m);y===void 0?(a=vp(),v.set(m,a)):a=y}else{let v=a.p;v===null&&(a.p=v=new Map);const y=v.get(m);y===void 0?(a=vp(),v.set(m,a)):a=y}}const u=a;let c;if(a.s===sA)c=a.v;else if(c=e.apply(null,arguments),o++,r){const f=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;f!=null&&r(f,c)&&(c=f,o!==0&&o--),i=typeof c=="object"&&c!==null||typeof c=="function"?new JG(c):c}return u.s=sA,u.v=c,c}return s.clearCache=()=>{n=vp(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function eK(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,s=0,a,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),qG(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:d,memoizeOptions:f=[],argsMemoize:p=q4,argsMemoizeOptions:m=[]}=c,v=oA(f),y=oA(m),w=YG(i),_=d(function(){return o++,u.apply(null,arguments)},...v),S=p(function(){s++;const R=QG(w,arguments);return a=_.apply(null,R),a},...y);return Object.assign(S,{resultFunc:u,memoizedResultFunc:_,dependencies:w,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>a,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:d,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var q=eK(q4),tK=Object.assign((e,t=q)=>{GG(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((s,a,l)=>(s[n[l]]=a,s),{}))},{withTypes:()=>tK}),G4={},K4={},Y4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const s=t(r),a=t(i);if(s===a&&s===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?a-s:s-a}return 0};e.compareValues=n})(Y4);var Q4={},dS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(dS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dS,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||s!=null&&Object.hasOwn(s,o)}e.isKey=i})(Q4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y4,n=Q4,r=Bv;function i(o,s,a,l){if(o==null)return[];a=l?void 0:a,Array.isArray(o)||(o=Object.values(o)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(a)||(a=a==null?[]:[a]),a=a.map(p=>String(p));const u=(p,m)=>{let v=p;for(let y=0;y<m.length&&v!=null;++y)v=v[m[y]];return v},c=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:u(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?u(m,p):typeof m=="object"?m[p]:m,d=s.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return o.map(p=>({original:p,criteria:d.map(m=>c(m,p))})).slice().sort((p,m)=>{for(let v=0;v<d.length;v++){const y=t.compareValues(p.criteria[v],m.criteria[v],a[v]);if(y!==0)return y}return 0}).map(p=>p.original)}e.orderBy=i})(K4);var X4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],o=Math.floor(r),s=(a,l)=>{for(let u=0;u<a.length;u++){const c=a[u];Array.isArray(c)&&l<o?s(c,l+1):i.push(c)}};return s(n,0),i}e.flatten=t})(X4);var fS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uS,n=Vv,r=rS,i=oS;function o(s,a,l){return r.isObject(l)&&(typeof a=="number"&&n.isArrayLike(l)&&t.isIndex(a)&&a<l.length||typeof a=="string"&&a in l)?i.eq(l[a],s):!1}e.isIterateeCall=o})(fS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K4,n=X4,r=fS;function i(o,...s){const a=s.length;return a>1&&r.isIterateeCall(o,s[0],s[1])?s=[]:a>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(o,n.flatten(s),["asc"])}e.sortBy=i})(G4);var nK=G4.sortBy;const zv=ji(nK);var J4=e=>e.legend.settings,rK=e=>e.legend.size,iK=e=>e.legend.payload;q([iK,J4],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?zv(r,n):r});var yp=1;function oK(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=b.useState({height:0,left:0,top:0,width:0}),r=b.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),s={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(s.height-t.height)>yp||Math.abs(s.left-t.left)>yp||Math.abs(s.top-t.top)>yp||Math.abs(s.width-t.width)>yp)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Ln(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var sK=typeof Symbol=="function"&&Symbol.observable||"@@observable",aA=sK,hb=()=>Math.random().toString(36).substring(7).split("").join("."),aK={INIT:`@@redux/INIT${hb()}`,REPLACE:`@@redux/REPLACE${hb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${hb()}`},Zg=aK;function hS(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Z4(e,t,n){if(typeof e!="function")throw new Error(Ln(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ln(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ln(1));return n(Z4)(e,t)}let r=e,i=t,o=new Map,s=o,a=0,l=!1;function u(){s===o&&(s=new Map,o.forEach((y,w)=>{s.set(w,y)}))}function c(){if(l)throw new Error(Ln(3));return i}function d(y){if(typeof y!="function")throw new Error(Ln(4));if(l)throw new Error(Ln(5));let w=!0;u();const _=a++;return s.set(_,y),function(){if(w){if(l)throw new Error(Ln(6));w=!1,u(),s.delete(_),o=null}}}function f(y){if(!hS(y))throw new Error(Ln(7));if(typeof y.type>"u")throw new Error(Ln(8));if(typeof y.type!="string")throw new Error(Ln(17));if(l)throw new Error(Ln(9));try{l=!0,i=r(i,y)}finally{l=!1}return(o=s).forEach(_=>{_()}),y}function p(y){if(typeof y!="function")throw new Error(Ln(10));r=y,f({type:Zg.REPLACE})}function m(){const y=d;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(Ln(11));function _(){const P=w;P.next&&P.next(c())}return _(),{unsubscribe:y(_)}},[aA](){return this}}}return f({type:Zg.INIT}),{dispatch:f,subscribe:d,getState:c,replaceReducer:p,[aA]:m}}function lK(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Zg.INIT})>"u")throw new Error(Ln(12));if(typeof n(void 0,{type:Zg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ln(13))})}function eL(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const s=t[o];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{lK(n)}catch(o){i=o}return function(s={},a){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const d=r[c],f=n[d],p=s[d],m=f(p,a);if(typeof m>"u")throw a&&a.type,new Error(Ln(14));u[d]=m,l=l||m!==p}return l=l||r.length!==Object.keys(s).length,l?u:s}}function em(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function uK(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(Ln(15))};const s={getState:i.getState,dispatch:(l,...u)=>o(l,...u)},a=e.map(l=>l(s));return o=em(...a)(i.dispatch),{...i,dispatch:o}}}function tL(e){return hS(e)&&"type"in e&&typeof e.type=="string"}var nL=Symbol.for("immer-nothing"),lA=Symbol.for("immer-draftable"),cr=Symbol.for("immer-state");function _i(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Mr=Object,bu=Mr.getPrototypeOf,tm="constructor",Wv="prototype",vw="configurable",nm="enumerable",sg="writable",Zd="value",To=e=>!!e&&!!e[cr];function Ni(e){var t;return e?rL(e)||Hv(e)||!!e[lA]||!!((t=e[tm])!=null&&t[lA])||qv(e)||Gv(e):!1}var cK=Mr[Wv][tm].toString(),uA=new WeakMap;function rL(e){if(!e||!pS(e))return!1;const t=bu(e);if(t===null||t===Mr[Wv])return!0;const n=Mr.hasOwnProperty.call(t,tm)&&t[tm];if(n===Object)return!0;if(!Pl(n))return!1;let r=uA.get(n);return r===void 0&&(r=Function.toString.call(n),uA.set(n,r)),r===cK}function Jf(e,t,n=!0){Zf(e)===0?(n?Reflect.ownKeys(e):Mr.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Zf(e){const t=e[cr];return t?t.type_:Hv(e)?1:qv(e)?2:Gv(e)?3:0}var cA=(e,t,n=Zf(e))=>n===2?e.has(t):Mr[Wv].hasOwnProperty.call(e,t),yw=(e,t,n=Zf(e))=>n===2?e.get(t):e[t],rm=(e,t,n,r=Zf(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function dK(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Hv=Array.isArray,qv=e=>e instanceof Map,Gv=e=>e instanceof Set,pS=e=>typeof e=="object",Pl=e=>typeof e=="function",pb=e=>typeof e=="boolean";function fK(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var uo=e=>e.copy_||e.base_,gS=e=>e.modified_?e.copy_:e.base_;function bw(e,t){if(qv(e))return new Map(e);if(Gv(e))return new Set(e);if(Hv(e))return Array[Wv].slice.call(e);const n=rL(e);if(t===!0||t==="class_only"&&!n){const r=Mr.getOwnPropertyDescriptors(e);delete r[cr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],a=r[s];a[sg]===!1&&(a[sg]=!0,a[vw]=!0),(a.get||a.set)&&(r[s]={[vw]:!0,[sg]:!0,[nm]:a[nm],[Zd]:e[s]})}return Mr.create(bu(e),r)}else{const r=bu(e);if(r!==null&&n)return{...e};const i=Mr.create(r);return Mr.assign(i,e)}}function mS(e,t=!1){return Kv(e)||To(e)||!Ni(e)||(Zf(e)>1&&Mr.defineProperties(e,{set:bp,add:bp,clear:bp,delete:bp}),Mr.freeze(e),t&&Jf(e,(n,r)=>{mS(r,!0)},!1)),e}function hK(){_i(2)}var bp={[Zd]:hK};function Kv(e){return e===null||!pS(e)?!0:Mr.isFrozen(e)}var im="MapSet",xw="Patches",dA="ArrayMethods",iL={};function Ua(e){const t=iL[e];return t||_i(0,e),t}var fA=e=>!!iL[e],ef,oL=()=>ef,pK=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:fA(im)?Ua(im):void 0,arrayMethodsPlugin_:fA(dA)?Ua(dA):void 0});function hA(e,t){t&&(e.patchPlugin_=Ua(xw),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ww(e){_w(e),e.drafts_.forEach(gK),e.drafts_=null}function _w(e){e===ef&&(ef=e.parent_)}var pA=e=>ef=pK(ef,e);function gK(e){const t=e[cr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function gA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[cr].modified_&&(ww(t),_i(4)),Ni(e)&&(e=mA(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[cr].base_,e,t)}else e=mA(t,n);return mK(t,e,!0),ww(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==nL?e:void 0}function mA(e,t){if(Kv(t))return t;const n=t[cr];if(!n)return vS(t,e.handledSet_,e);if(!Yv(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);lL(n,e)}return n.copy_}function mK(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&mS(t,n)}function sL(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Yv=(e,t)=>e.scope_===t,vK=[];function aL(e,t,n,r){const i=uo(e),o=e.type_;if(r!==void 0&&yw(i,r,o)===t){rm(i,r,n,o);return}if(!e.draftLocations_){const a=e.draftLocations_=new Map;Jf(i,(l,u)=>{if(To(u)){const c=a.get(u)||[];c.push(l),a.set(u,c)}})}const s=e.draftLocations_.get(t)??vK;for(const a of s)rm(i,a,n,o)}function yK(e,t,n){e.callbacks_.push(function(i){var a;const o=t;if(!o||!Yv(o,i))return;(a=i.mapSetPlugin_)==null||a.fixSetContents(o);const s=gS(o);aL(e,o.draft_??o,s,n),lL(o,i)})}function lL(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const o=i.getPath(e);o&&i.generatePatches_(e,o,t)}sL(e)}}function bK(e,t,n){const{scope_:r}=e;if(To(n)){const i=n[cr];Yv(i,r)&&i.callbacks_.push(function(){ag(e);const s=gS(i);aL(e,n,s,t)})}else Ni(n)&&e.callbacks_.push(function(){const o=uo(e);yw(o,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&vS(yw(e.copy_,t,e.type_),r.handledSet_,r)})}function vS(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||To(e)||t.has(e)||!Ni(e)||Kv(e)||(t.add(e),Jf(e,(r,i)=>{if(To(i)){const o=i[cr];if(Yv(o,n)){const s=gS(o);rm(e,r,s,e.type_),sL(o)}}else Ni(i)&&vS(i,t,n)})),e}function xK(e,t){const n=Hv(e),r={type_:n?1:0,scope_:t?t.scope_:oL(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=yS;n&&(i=[r],o=tf);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,[a,r]}var yS={get(e,t){if(t===cr)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=uo(e);if(!cA(i,t,e.type_))return wK(e,i,t);const o=i[t];if(e.finalized_||!Ni(o)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&fK(t))return o;if(o===gb(e.base_,t)){ag(e);const s=e.type_===1?+t:t,a=Ew(e.scope_,o,e,s);return e.copy_[s]=a}return o},has(e,t){return t in uo(e)},ownKeys(e){return Reflect.ownKeys(uo(e))},set(e,t,n){const r=uL(uo(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=gb(uo(e),t),o=i==null?void 0:i[cr];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(dK(n,i)&&(n!==void 0||cA(e.base_,t,e.type_)))return!0;ag(e),Sw(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),bK(e,t,n)),!0},deleteProperty(e,t){return ag(e),gb(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Sw(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=uo(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[sg]:!0,[vw]:e.type_!==1||t!=="length",[nm]:r[nm],[Zd]:n[t]}},defineProperty(){_i(11)},getPrototypeOf(e){return bu(e.base_)},setPrototypeOf(){_i(12)}},tf={};Jf(yS,(e,t)=>{tf[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});tf.deleteProperty=function(e,t){return tf.set.call(this,e,t,void 0)};tf.set=function(e,t,n){return yS.set.call(this,e[0],t,n,e[0])};function gb(e,t){const n=e[cr];return(n?uo(n):e)[t]}function wK(e,t,n){var i;const r=uL(t,n);return r?Zd in r?r[Zd]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function uL(e,t){if(!(t in e))return;let n=bu(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=bu(n)}}function Sw(e){e.modified_||(e.modified_=!0,e.parent_&&Sw(e.parent_))}function ag(e){e.copy_||(e.assigned_=new Map,e.copy_=bw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var _K=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Pl(n)&&!Pl(r)){const s=r;r=n;const a=this;return function(u=s,...c){return a.produce(u,d=>r.call(this,d,...c))}}Pl(r)||_i(6),i!==void 0&&!Pl(i)&&_i(7);let o;if(Ni(n)){const s=pA(this),a=Ew(s,n,void 0);let l=!0;try{o=r(a),l=!1}finally{l?ww(s):_w(s)}return hA(s,i),gA(o,s)}else if(!n||!pS(n)){if(o=r(n),o===void 0&&(o=n),o===nL&&(o=void 0),this.autoFreeze_&&mS(o,!0),i){const s=[],a=[];Ua(xw).generateReplacementPatches_(n,o,{patches_:s,inversePatches_:a}),i(s,a)}return o}else _i(1,n)},this.produceWithPatches=(n,r)=>{if(Pl(n))return(a,...l)=>this.produceWithPatches(a,u=>n(u,...l));let i,o;return[this.produce(n,r,(a,l)=>{i=a,o=l}),i,o]},pb(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),pb(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),pb(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ni(t)||_i(8),To(t)&&(t=Ri(t));const n=pA(this),r=Ew(n,t,void 0);return r[cr].isManual_=!0,_w(n),r}finishDraft(t,n){const r=t&&t[cr];(!r||!r.isManual_)&&_i(9);const{scope_:i}=r;return hA(i,n),gA(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}r>-1&&(n=n.slice(r+1));const i=Ua(xw).applyPatches_;return To(t)?i(t,n):this.produce(t,o=>i(o,n))}};function Ew(e,t,n,r){const[i,o]=qv(t)?Ua(im).proxyMap_(t,n):Gv(t)?Ua(im).proxySet_(t,n):xK(t,n);return((n==null?void 0:n.scope_)??oL()).drafts_.push(i),o.callbacks_=(n==null?void 0:n.callbacks_)??[],o.key_=r,n&&r!==void 0?yK(n,o,r):o.callbacks_.push(function(l){var c;(c=l.mapSetPlugin_)==null||c.fixSetContents(o);const{patchPlugin_:u}=l;o.modified_&&u&&u.generatePatches_(o,[],l)}),i}function Ri(e){return To(e)||_i(10,e),cL(e)}function cL(e){if(!Ni(e)||Kv(e))return e;const t=e[cr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=bw(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=bw(e,!0);return Jf(n,(i,o)=>{rm(n,i,cL(o))},r),t&&(t.finalized_=!1),n}var SK=new _K,dL=SK.produce;function fL(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var EK=fL(),IK=fL,CK=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?em:em.apply(null,arguments)};function fi(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Br(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>tL(r)&&r.type===e,n}var hL=class od extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,od.prototype)}static get[Symbol.species](){return od}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new od(...t[0].concat(this)):new od(...t.concat(this))}};function vA(e){return Ni(e)?dL(e,()=>{}):e}function xp(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function PK(e){return typeof e=="boolean"}var TK=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let s=new hL;return n&&(PK(n)?s.push(EK):s.push(IK(n.extraArgument))),s},pL="RTK_autoBatch",Dt=()=>e=>({payload:e,meta:{[pL]:!0}}),yA=e=>t=>{setTimeout(t,e)},gL=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,s=!1;const a=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:yA(10):e.type==="callback"?e.queueNotification:yA(e.timeout),u=()=>{s=!1,o&&(o=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const d=()=>i&&c(),f=r.subscribe(d);return a.add(c),()=>{f(),a.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[pL]),o=!i,o&&(s||(s=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},AK=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new hL(e);return r&&i.push(gL(typeof r=="object"?r:void 0)),i};function OK(e){const t=TK(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=e||{};let a;if(typeof n=="function")a=n;else if(hS(n))a=eL(n);else throw new Error(Br(1));let l;typeof r=="function"?l=r(t):l=t();let u=em;i&&(u=CK({trace:!1,...typeof i=="object"&&i}));const c=uK(...l),d=AK(c);let f=typeof s=="function"?s(d):d();const p=u(...f);return Z4(a,o,p)}function mL(e){const t={},n=[];let r;const i={addCase(o,s){const a=typeof o=="string"?o:o.type;if(!a)throw new Error(Br(28));if(a in t)throw new Error(Br(29));return t[a]=s,i},addAsyncThunk(o,s){return s.pending&&(t[o.pending.type]=s.pending),s.rejected&&(t[o.rejected.type]=s.rejected),s.fulfilled&&(t[o.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:o.settled,reducer:s.settled}),i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function RK(e){return typeof e=="function"}function DK(e,t){let[n,r,i]=mL(t),o;if(RK(e))o=()=>vA(e());else{const a=vA(e);o=()=>a}function s(a=o(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(To(c)){const p=d(c,l);return p===void 0?c:p}else{if(Ni(c))return dL(c,f=>d(f,l));{const f=d(c,l);if(f===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return c},a)}return s.getInitialState=o,s}var kK="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",NK=(e=21)=>{let t="",n=e;for(;n--;)t+=kK[Math.random()*64|0];return t},jK=Symbol.for("rtk-slice-createasyncthunk");function MK(e,t){return`${e}/${t}`}function LK({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[jK];return function(i){const{name:o,reducerPath:s=o}=i;if(!o)throw new Error(Br(11));const a=(typeof i.reducers=="function"?i.reducers($K()):i.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(P,R){const M=typeof P=="string"?P:P.type;if(!M)throw new Error(Br(12));if(M in u.sliceCaseReducersByType)throw new Error(Br(13));return u.sliceCaseReducersByType[M]=R,c},addMatcher(P,R){return u.sliceMatchers.push({matcher:P,reducer:R}),c},exposeAction(P,R){return u.actionCreators[P]=R,c},exposeCaseReducer(P,R){return u.sliceCaseReducersByName[P]=R,c}};l.forEach(P=>{const R=a[P],M={reducerName:P,type:MK(o,P),createNotation:typeof i.reducers=="function"};VK(R)?zK(M,R,c,t):BK(M,R,c)});function d(){const[P={},R=[],M=void 0]=typeof i.extraReducers=="function"?mL(i.extraReducers):[i.extraReducers],C={...P,...u.sliceCaseReducersByType};return DK(i.initialState,I=>{for(let T in C)I.addCase(T,C[T]);for(let T of u.sliceMatchers)I.addMatcher(T.matcher,T.reducer);for(let T of R)I.addMatcher(T.matcher,T.reducer);M&&I.addDefaultCase(M)})}const f=P=>P,p=new Map,m=new WeakMap;let v;function y(P,R){return v||(v=d()),v(P,R)}function w(){return v||(v=d()),v.getInitialState()}function _(P,R=!1){function M(I){let T=I[P];return typeof T>"u"&&R&&(T=xp(m,M,w)),T}function C(I=f){const T=xp(p,R,()=>new WeakMap);return xp(T,I,()=>{const k={};for(const[A,j]of Object.entries(i.selectors??{}))k[A]=FK(j,I,()=>xp(m,I,w),R);return k})}return{reducerPath:P,getSelectors:C,get selectors(){return C(M)},selectSlice:M}}const S={name:o,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:w,..._(s),injectInto(P,{reducerPath:R,...M}={}){const C=R??s;return P.inject({reducerPath:C,reducer:y},M),{...S,..._(C,!0)}}};return S}}function FK(e,t,n,r){function i(o,...s){let a=t(o);return typeof a>"u"&&r&&(a=n()),e(a,...s)}return i.unwrapped=e,i}var Cr=LK();function $K(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function BK({type:e,reducerName:t,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!UK(r))throw new Error(Br(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,s?fi(e,s):fi(e))}function VK(e){return e._reducerDefinitionType==="asyncThunk"}function UK(e){return e._reducerDefinitionType==="reducerWithPrepare"}function zK({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Br(18));const{payloadCreator:o,fulfilled:s,pending:a,rejected:l,settled:u,options:c}=n,d=i(e,o,c);r.exposeAction(t,d),s&&r.addCase(d.fulfilled,s),a&&r.addCase(d.pending,a),l&&r.addCase(d.rejected,l),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(t,{fulfilled:s||wp,pending:a||wp,rejected:l||wp,settled:u||wp})}function wp(){}var WK="task",vL="listener",yL="completed",bS="cancelled",HK=`task-${bS}`,qK=`task-${yL}`,Iw=`${vL}-${bS}`,GK=`${vL}-${yL}`,Qv=class{constructor(e){R0(this,"name","TaskAbortError");R0(this,"message");this.code=e,this.message=`${WK} ${bS} (reason: ${e})`}},xS=(e,t)=>{if(typeof e!="function")throw new TypeError(Br(32))},om=()=>{},bL=(e,t=om)=>(e.catch(t),e),xL=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Oa=e=>{if(e.aborted)throw new Qv(e.reason)};function wL(e,t){let n=om;return new Promise((r,i)=>{const o=()=>i(new Qv(e.reason));if(e.aborted){o();return}n=xL(e,o),t.finally(()=>n()).then(r,i)}).finally(()=>{n=om})}var KK=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Qv?"cancelled":"rejected",error:n}}finally{t==null||t()}},sm=e=>t=>bL(wL(e,t).then(n=>(Oa(e),n))),_L=e=>{const t=sm(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Zl}=Object,bA={},Xv="listenerMiddleware",YK=(e,t)=>{const n=r=>xL(e,()=>r.abort(e.reason));return(r,i)=>{xS(r);const o=new AbortController;n(o);const s=KK(async()=>{Oa(e),Oa(o.signal);const a=await r({pause:sm(o.signal),delay:_L(o.signal),signal:o.signal});return Oa(o.signal),a},()=>o.abort(qK));return i!=null&&i.autoJoin&&t.push(s.catch(om)),{result:sm(e)(s),cancel(){o.abort(HK)}}}},QK=(e,t)=>{const n=async(r,i)=>{Oa(t);let o=()=>{};const a=[new Promise((l,u)=>{let c=e({predicate:r,effect:(d,f)=>{f.unsubscribe(),l([d,f.getState(),f.getOriginalState()])}});o=()=>{c(),u()}})];i!=null&&a.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await wL(t,Promise.race(a));return Oa(t),l}finally{o()}};return(r,i)=>bL(n(r,i))},SL=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=fi(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Br(21));return xS(o),{predicate:i,type:t,effect:o}},EL=Zl(e=>{const{type:t,predicate:n,effect:r}=SL(e);return{id:NK(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Br(22))}}},{withTypes:()=>EL}),xA=(e,t)=>{const{type:n,effect:r,predicate:i}=SL(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},Cw=e=>{e.pending.forEach(t=>{t.abort(Iw)})},XK=(e,t)=>()=>{for(const n of t.keys())Cw(n);e.clear()},wA=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},IL=Zl(fi(`${Xv}/add`),{withTypes:()=>IL}),JK=fi(`${Xv}/removeAll`),CL=Zl(fi(`${Xv}/remove`),{withTypes:()=>CL}),ZK=(...e)=>{console.error(`${Xv}/error`,...e)},eh=(e={})=>{const t=new Map,n=new Map,r=p=>{const m=n.get(p)??0;n.set(p,m+1)},i=p=>{const m=n.get(p)??1;m===1?n.delete(p):n.set(p,m-1)},{extra:o,onError:s=ZK}=e;xS(s);const a=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),m=>{p.unsubscribe(),m!=null&&m.cancelActive&&Cw(p)}),l=p=>{const m=xA(t,p)??EL(p);return a(m)};Zl(l,{withTypes:()=>l});const u=p=>{const m=xA(t,p);return m&&(m.unsubscribe(),p.cancelActive&&Cw(m)),!!m};Zl(u,{withTypes:()=>u});const c=async(p,m,v,y)=>{const w=new AbortController,_=QK(l,w.signal),S=[];try{p.pending.add(w),r(p),await Promise.resolve(p.effect(m,Zl({},v,{getOriginalState:y,condition:(P,R)=>_(P,R).then(Boolean),take:_,delay:_L(w.signal),pause:sm(w.signal),extra:o,signal:w.signal,fork:YK(w.signal,S),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((P,R,M)=>{P!==w&&(P.abort(Iw),M.delete(P))})},cancel:()=>{w.abort(Iw),p.pending.delete(w)},throwIfCancelled:()=>{Oa(w.signal)}})))}catch(P){P instanceof Qv||wA(s,P,{raisedBy:"effect"})}finally{await Promise.all(S),w.abort(GK),i(p),p.pending.delete(w)}},d=XK(t,n);return{middleware:p=>m=>v=>{if(!tL(v))return m(v);if(IL.match(v))return l(v.payload);if(JK.match(v)){d();return}if(CL.match(v))return u(v.payload);let y=p.getState();const w=()=>{if(y===bA)throw new Error(Br(23));return y};let _;try{if(_=m(v),t.size>0){const S=p.getState(),P=Array.from(t.values());for(const R of P){let M=!1;try{M=R.predicate(v,S,y)}catch(C){M=!1,wA(s,C,{raisedBy:"predicate"})}M&&c(R,v,p,w)}}}finally{y=bA}return _},startListening:l,stopListening:u,clearListeners:d}};function Br(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var eY={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},PL=Cr({name:"chartLayout",initialState:eY,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:tY,setLayout:nY,setChartSize:rY,setScale:iY}=PL.actions,oY=PL.reducer;function TL(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function cn(e){return Number.isFinite(e)}function Ns(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function _A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_A(Object(n),!0).forEach(function(r){sY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_A(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sY(e,t,n){return(t=aY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aY(e){var t=lY(e,"string");return typeof t=="symbol"?t:t+""}function lY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kt(e,t,n){return Hr(e)||Hr(t)?n:Po(t)?Xd(e,t,n):typeof t=="function"?t(e):n}var uY=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:s,layout:a}=t;if((a==="vertical"||a==="horizontal"&&s==="middle")&&o!=="center"&&Ue(e[o]))return Wl(Wl({},e),{},{[o]:e[o]+(r||0)});if((a==="horizontal"||a==="vertical"&&o==="center")&&s!=="middle"&&Ue(e[s]))return Wl(Wl({},e),{},{[s]:e[s]+(i||0)})}return e},dl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",SA=1e-4,cY=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-SA,o=Math.max(r[0],r[1])+SA,s=e(t[0]),a=e(t[n-1]);(s<i||s>o||a<i||a>o)&&e.domain([t[0],t[n-1]])}},dY=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,s=0,a=0;a<n;++a){var l=e[a],u=l==null?void 0:l[i];if(u!=null){var c=u[1],d=u[0],f=Io(c)?d:c;f>=0?(u[0]=o,u[1]=o+f,o=c):(u[0]=s,u[1]=s+f,s=c)}}}},fY=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,s=0;s<n;++s){var a=e[s],l=a==null?void 0:a[i];if(l!=null){var u=Io(l[1])?l[0]:l[1];u>=0?(l[0]=o,l[1]=o+u,o=l[1]):(l[0]=0,l[1]=0)}}}},hY={sign:dY,expand:Xq,none:Va,silhouette:Jq,wiggle:Zq,positive:fY},pY=(e,t,n)=>{var r,i=(r=hY[n])!==null&&r!==void 0?r:Va,o=Qq().keys(t).value((a,l)=>Number(Kt(a,l,0))).order(gw).offset(i),s=o(e);return s.forEach((a,l)=>{a.forEach((u,c)=>{var d=Kt(e[c],t[l],0);Array.isArray(d)&&d.length===2&&Ue(d[0])&&Ue(d[1])&&(u[0]=d[0],u[1]=d[1])})}),s},gY=e=>{var t=e.flat(2).filter(Ue);return[Math.min(...t),Math.max(...t)]},mY=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],vY=(e,t,n)=>{if(e!=null)return mY(Object.keys(e).reduce((r,i)=>{var o=e[i];if(!o)return r;var{stackedData:s}=o,a=s.reduce((l,u)=>{var c=TL(u,t,n),d=gY(c);return!cn(d[0])||!cn(d[1])?l:[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(a[0],r[0]),Math.max(a[1],r[1])]},[1/0,-1/0]))},EA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,IA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,CA=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();return r}if(e&&t&&t.length>=2){for(var i=zv(t,c=>c.coordinate),o=1/0,s=1,a=i.length;s<a;s++){var l=i[s],u=i[s-1];o=Math.min(((l==null?void 0:l.coordinate)||0)-((u==null?void 0:u.coordinate)||0),o)}return o===1/0?0:o}return n?void 0:0};function PA(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return Wl(Wl({},t),{},{dataKey:n,payload:r,value:i,name:o})}function AL(e,t){if(e)return String(e);if(typeof t=="string")return t}var yY=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},bY=(e,t)=>t==="centric"?e.angle:e.radius,Lo=e=>e.layout.width,Fo=e=>e.layout.height,xY=e=>e.layout.scale,OL=e=>e.layout.margin,Jv=q(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Zv=q(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),RL="data-recharts-item-index",DL="data-recharts-item-id",th=60;function TA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _p(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TA(Object(n),!0).forEach(function(r){wY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wY(e,t,n){return(t=_Y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Y(e){var t=SY(e,"string");return typeof t=="symbol"?t:t+""}function SY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EY=e=>e.brush.height;function IY(e){var t=Zv(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:th;return n+i}return n},0)}function CY(e){var t=Zv(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:th;return n+i}return n},0)}function PY(e){var t=Jv(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function TY(e){var t=Jv(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var kn=q([Lo,Fo,OL,EY,IY,CY,PY,TY,J4,rK],(e,t,n,r,i,o,s,a,l,u)=>{var c={left:(n.left||0)+i,right:(n.right||0)+o},d={top:(n.top||0)+s,bottom:(n.bottom||0)+a},f=_p(_p({},d),c),p=f.bottom;f.bottom+=r,f=uY(f,l,u);var m=e-f.left-f.right,v=t-f.top-f.bottom;return _p(_p({brushBottom:p},f),{},{width:Math.max(m,0),height:Math.max(v,0)})}),AY=q(kn,e=>({x:e.left,y:e.top,width:e.width,height:e.height}));q(Lo,Fo,(e,t)=>({x:0,y:0,width:e,height:t}));var OY=b.createContext(null),Qs=()=>b.useContext(OY)!=null,ey=e=>e.brush,ty=q([ey,kn,OL],(e,t,n)=>({height:e.height,x:Ue(e.x)?e.x:t.left,y:Ue(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Ue(e.width)?e.width:t.width})),kL={},NL={},jL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:o}={}){let s,a=null;const l=o!=null&&o.includes("leading"),u=o==null||o.includes("trailing"),c=()=>{a!==null&&(n.apply(s,a),s=void 0,a=null)},d=()=>{u&&c(),v()};let f=null;const p=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,d()},r)},m=()=>{f!==null&&(clearTimeout(f),f=null)},v=()=>{m(),s=void 0,a=null},y=()=>{c()},w=function(..._){if(i!=null&&i.aborted)return;s=this,a=_;const S=f==null;p(),l&&S&&c()};return w.schedule=p,w.cancel=v,w.flush=y,i==null||i.addEventListener("abort",v,{once:!0}),w}e.debounce=t})(jL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jL;function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:s=!1,trailing:a=!0,maxWait:l}=o,u=Array(2);s&&(u[0]="leading"),a&&(u[1]="trailing");let c,d=null;const f=t.debounce(function(...v){c=r.apply(this,v),d=null},i,{edges:u}),p=function(...v){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(c=r.apply(this,v),d=Date.now(),f.cancel(),f.schedule(),c):(f.apply(this,v),c)},m=()=>(f.flush(),c);return p.cancel=f.cancel,p.flush=m,p}e.debounce=n})(NL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NL;function n(r,i=0,o={}){const{leading:s=!0,trailing:a=!0}=o;return t.debounce(r,i,{leading:s,maxWait:i,trailing:a})}e.throttle=n})(kL);var RY=kL.throttle;const DY=ji(RY);var AA=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},ML=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:o,maxHeight:s}=n,a=Co(r)?e:Number(r),l=Co(i)?t:Number(i);return o&&o>0&&(a?l=a/o:l&&(a=l*o),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:a,calculatedHeight:l}},kY={width:0,height:0,overflow:"visible"},NY={width:0,overflowX:"visible"},jY={height:0,overflowY:"visible"},MY={},LY=e=>{var{width:t,height:n}=e,r=Co(t),i=Co(n);return r&&i?kY:r?NY:i?jY:MY};function FY(e){var{width:t,height:n,aspect:r}=e,i=t,o=n;return i===void 0&&o===void 0?(i="100%",o="100%"):i===void 0?i=r&&r>0?void 0:"100%":o===void 0&&(o=r&&r>0?void 0:"100%"),{width:i,height:o}}function Pw(){return Pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pw.apply(null,arguments)}function OA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OA(Object(n),!0).forEach(function(r){$Y(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $Y(e,t,n){return(t=BY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BY(e){var t=VY(e,"string");return typeof t=="symbol"?t:t+""}function VY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LL=b.createContext({width:-1,height:-1});function UY(e){return Ns(e.width)&&Ns(e.height)}function FL(e){var{children:t,width:n,height:r}=e,i=b.useMemo(()=>({width:n,height:r}),[n,r]);return UY(i)?b.createElement(LL.Provider,{value:i},t):null}var wS=()=>b.useContext(LL),zY=b.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:o,minWidth:s=0,minHeight:a,maxHeight:l,children:u,debounce:c=0,id:d,className:f,onResize:p,style:m={}}=e,v=b.useRef(null),y=b.useRef();y.current=p,b.useImperativeHandle(t,()=>v.current);var[w,_]=b.useState({containerWidth:r.width,containerHeight:r.height}),S=b.useCallback((I,T)=>{_(k=>{var A=Math.round(I),j=Math.round(T);return k.containerWidth===A&&k.containerHeight===j?k:{containerWidth:A,containerHeight:j}})},[]);b.useEffect(()=>{if(v.current==null||typeof ResizeObserver>"u")return Xf;var I=j=>{var O,{width:ee,height:re}=j[0].contentRect;S(ee,re),(O=y.current)===null||O===void 0||O.call(y,ee,re)};c>0&&(I=DY(I,c,{trailing:!0,leading:!1}));var T=new ResizeObserver(I),{width:k,height:A}=v.current.getBoundingClientRect();return S(k,A),T.observe(v.current),()=>{T.disconnect()}},[S,c]);var{containerWidth:P,containerHeight:R}=w;AA(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:M,calculatedHeight:C}=ML(P,R,{width:i,height:o,aspect:n,maxHeight:l});return AA(M!=null&&M>0||C!=null&&C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,C,i,o,s,a,n),b.createElement("div",{id:d?"".concat(d):void 0,className:un("recharts-responsive-container",f),style:RA(RA({},m),{},{width:i,height:o,minWidth:s,minHeight:a,maxHeight:l}),ref:v},b.createElement("div",{style:LY({width:i,height:o})},b.createElement(FL,{width:M,height:C},u)))}),WY=b.forwardRef((e,t)=>{var n=wS();if(Ns(n.width)&&Ns(n.height))return e.children;var{width:r,height:i}=FY({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:s}=ML(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Ue(o)&&Ue(s)?b.createElement(FL,{width:o,height:s},e.children):b.createElement(zY,Pw({},e,{width:r,height:i,ref:t}))});function $L(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var ny=()=>{var e,t=Qs(),n=Ye(AY),r=Ye(ty),i=(e=Ye(ey))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},HY={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},qY=()=>{var e;return(e=Ye(kn))!==null&&e!==void 0?e:HY},GY=()=>Ye(Lo),KY=()=>Ye(Fo),Pt=e=>e.layout.layoutType,ry=()=>Ye(Pt),YY=()=>{var e=ry();return e!==void 0},iy=e=>{var t=bn(),n=Qs(),{width:r,height:i}=e,o=wS(),s=r,a=i;return o&&(s=o.width>0?o.width:r,a=o.height>0?o.height:i),b.useEffect(()=>{!n&&Ns(s)&&Ns(a)&&t(rY({width:s,height:a}))},[t,n,s,a]),null},BL=Symbol.for("immer-nothing"),DA=Symbol.for("immer-draftable"),qr=Symbol.for("immer-state");function Si(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var nf=Object.getPrototypeOf;function xu(e){return!!e&&!!e[qr]}function za(e){var t;return e?VL(e)||Array.isArray(e)||!!e[DA]||!!((t=e.constructor)!=null&&t[DA])||nh(e)||sy(e):!1}var QY=Object.prototype.constructor.toString(),kA=new WeakMap;function VL(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=kA.get(n);return r===void 0&&(r=Function.toString.call(n),kA.set(n,r)),r===QY}function am(e,t,n=!0){oy(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function oy(e){const t=e[qr];return t?t.type_:Array.isArray(e)?1:nh(e)?2:sy(e)?3:0}function Tw(e,t){return oy(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function UL(e,t,n){const r=oy(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function XY(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function nh(e){return e instanceof Map}function sy(e){return e instanceof Set}function ha(e){return e.copy_||e.base_}function Aw(e,t){if(nh(e))return new Map(e);if(sy(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=VL(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[qr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[s]})}return Object.create(nf(e),r)}else{const r=nf(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function _S(e,t=!1){return ay(e)||xu(e)||!za(e)||(oy(e)>1&&Object.defineProperties(e,{set:Sp,add:Sp,clear:Sp,delete:Sp}),Object.freeze(e),t&&Object.values(e).forEach(n=>_S(n,!0))),e}function JY(){Si(2)}var Sp={value:JY};function ay(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var ZY={};function Wa(e){const t=ZY[e];return t||Si(0,e),t}var rf;function zL(){return rf}function eQ(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function NA(e,t){t&&(Wa("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ow(e){Rw(e),e.drafts_.forEach(tQ),e.drafts_=null}function Rw(e){e===rf&&(rf=e.parent_)}function jA(e){return rf=eQ(rf,e)}function tQ(e){const t=e[qr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function MA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[qr].modified_&&(Ow(t),Si(4)),za(e)&&(e=lm(t,e),t.parent_||um(t,e)),t.patches_&&Wa("Patches").generateReplacementPatches_(n[qr].base_,e,t.patches_,t.inversePatches_)):e=lm(t,n,[]),Ow(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==BL?e:void 0}function lm(e,t,n){if(ay(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[qr];if(!i)return am(t,(o,s)=>LA(e,i,t,o,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return um(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let s=o,a=!1;i.type_===3&&(s=new Set(o),o.clear(),a=!0),am(s,(l,u)=>LA(e,i,o,l,u,n,a),r),um(e,o,!1),n&&e.patches_&&Wa("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function LA(e,t,n,r,i,o,s){if(i==null||typeof i!="object"&&!s)return;const a=ay(i);if(!(a&&!s)){if(xu(i)){const l=o&&t&&t.type_!==3&&!Tw(t.assigned_,r)?o.concat(r):void 0,u=lm(e,i,l);if(UL(n,r,u),xu(u))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(za(i)&&!a){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&a)return;lm(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(nh(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&um(e,i)}}}function um(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&_S(t,n)}function nQ(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:zL(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=SS;n&&(i=[r],o=of);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var SS={get(e,t){if(t===qr)return e;const n=ha(e);if(!Tw(n,t))return rQ(e,n,t);const r=n[t];return e.finalized_||!za(r)?r:r===mb(e.base_,t)?(vb(e),e.copy_[t]=kw(r,e)):r},has(e,t){return t in ha(e)},ownKeys(e){return Reflect.ownKeys(ha(e))},set(e,t,n){const r=WL(ha(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=mb(ha(e),t),o=i==null?void 0:i[qr];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(XY(n,i)&&(n!==void 0||Tw(e.base_,t)))return!0;vb(e),Dw(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return mb(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,vb(e),Dw(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ha(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Si(11)},getPrototypeOf(e){return nf(e.base_)},setPrototypeOf(){Si(12)}},of={};am(SS,(e,t)=>{of[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});of.deleteProperty=function(e,t){return of.set.call(this,e,t,void 0)};of.set=function(e,t,n){return SS.set.call(this,e[0],t,n,e[0])};function mb(e,t){const n=e[qr];return(n?ha(n):e)[t]}function rQ(e,t,n){var i;const r=WL(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function WL(e,t){if(!(t in e))return;let n=nf(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=nf(n)}}function Dw(e){e.modified_||(e.modified_=!0,e.parent_&&Dw(e.parent_))}function vb(e){e.copy_||(e.copy_=Aw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var iQ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const s=this;return function(l=o,...u){return s.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&Si(6),r!==void 0&&typeof r!="function"&&Si(7);let i;if(za(t)){const o=jA(this),s=kw(t,void 0);let a=!0;try{i=n(s),a=!1}finally{a?Ow(o):Rw(o)}return NA(o,r),MA(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===BL&&(i=void 0),this.autoFreeze_&&_S(i,!0),r){const o=[],s=[];Wa("Patches").generateReplacementPatches_(t,i,o,s),r(o,s)}return i}else Si(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...a)=>this.produceWithPatches(s,l=>t(l,...a));let r,i;return[this.produce(t,n,(s,a)=>{r=s,i=a}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){za(e)||Si(8),xu(e)&&(e=oQ(e));const t=jA(this),n=kw(e,void 0);return n[qr].isManual_=!0,Rw(t),n}finishDraft(e,t){const n=e&&e[qr];(!n||!n.isManual_)&&Si(9);const{scope_:r}=n;return NA(r,t),MA(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Wa("Patches").applyPatches_;return xu(e)?r(e,t):this.produce(e,i=>r(i,t))}};function kw(e,t){const n=nh(e)?Wa("MapSet").proxyMap_(e,t):sy(e)?Wa("MapSet").proxySet_(e,t):nQ(e,t);return(t?t.scope_:zL()).drafts_.push(n),n}function oQ(e){return xu(e)||Si(10,e),HL(e)}function HL(e){if(!za(e)||ay(e))return e;const t=e[qr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Aw(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Aw(e,!0);return am(n,(i,o)=>{UL(n,i,HL(o))},r),t&&(t.finalized_=!1),n}var sQ=new iQ;sQ.produce;var aQ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},qL=Cr({name:"legend",initialState:aQ,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Dt()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ri(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:Dt()},removeLegendPayload:{reducer(e,t){var n=Ri(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Dt()}}}),{setLegendSize:Hxe,setLegendSettings:qxe,addLegendPayload:lQ,replaceLegendPayload:uQ,removeLegendPayload:cQ}=qL.actions,dQ=qL.reducer;function Nw(){return Nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nw.apply(null,arguments)}function FA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(n),!0).forEach(function(r){fQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fQ(e,t,n){return(t=hQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hQ(e){var t=pQ(e,"string");return typeof t=="symbol"?t:t+""}function pQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gQ(e){return Array.isArray(e)&&Po(e[0])&&Po(e[1])?e.join(" ~ "):e}var mQ=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:s,itemSorter:a,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:d,accessibilityLayer:f=!1}=e,p=()=>{if(o&&o.length){var R={padding:0,margin:0},M=(a?zv(o,a):o).map((C,I)=>{if(C.type==="none")return null;var T=C.formatter||s||gQ,{value:k,name:A}=C,j=k,O=A;if(T){var ee=T(k,A,C,I,o);if(Array.isArray(ee))[j,O]=ee;else if(ee!=null)j=ee;else return null}var re=yb({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},r);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:re},Po(O)?b.createElement("span",{className:"recharts-tooltip-item-name"},O):null,Po(O)?b.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,b.createElement("span",{className:"recharts-tooltip-item-value"},j),b.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:R},M)}return null},m=yb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),v=yb({margin:0},i),y=!Hr(c),w=y?c:"",_=un("recharts-default-tooltip",l),S=un("recharts-tooltip-label",u);y&&d&&o!==void 0&&o!==null&&(w=d(c,o));var P=f?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",Nw({className:_,style:m},P),b.createElement("p",{className:S,style:v},b.isValidElement(w)?w:"".concat(w)),p())},Lc="recharts-tooltip-wrapper",vQ={visibility:"hidden"};function yQ(e){var{coordinate:t,translateX:n,translateY:r}=e;return un(Lc,{["".concat(Lc,"-right")]:Ue(n)&&t&&Ue(t.x)&&n>=t.x,["".concat(Lc,"-left")]:Ue(n)&&t&&Ue(t.x)&&n<t.x,["".concat(Lc,"-bottom")]:Ue(r)&&t&&Ue(t.y)&&r>=t.y,["".concat(Lc,"-top")]:Ue(r)&&t&&Ue(t.y)&&r<t.y})}function $A(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:a,viewBox:l,viewBoxDimension:u}=e;if(o&&Ue(o[r]))return o[r];var c=n[r]-a-(i>0?i:0),d=n[r]+i;if(t[r])return s[r]?c:d;var f=l[r];if(f==null)return 0;if(s[r]){var p=c,m=f;return p<m?Math.max(d,f):Math.max(c,f)}if(u==null)return 0;var v=d+a,y=f+u;return v>y?Math.max(c,f):Math.max(d,f)}function bQ(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function xQ(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:s,useTranslate3d:a,viewBox:l}=e,u,c,d;return s.height>0&&s.width>0&&n?(c=$A({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=$A({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=bQ({translateX:c,translateY:d,useTranslate3d:a})):u=vQ,{cssProperties:u,cssClasses:yQ({translateX:c,translateY:d,coordinate:n})}}function BA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ep(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BA(Object(n),!0).forEach(function(r){jw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jw(e,t,n){return(t=wQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wQ(e){var t=_Q(e,"string");return typeof t=="symbol"?t:t+""}function _Q(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class SQ extends b.PureComponent{constructor(){super(...arguments),jw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),jw(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:s,hasPayload:a,isAnimationActive:l,offset:u,position:c,reverseDirection:d,useTranslate3d:f,viewBox:p,wrapperStyle:m,lastBoundingBox:v,innerRef:y,hasPortalFromProps:w}=this.props,{cssClasses:_,cssProperties:S}=xQ({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:u,position:c,reverseDirection:d,tooltipBox:{height:v.height,width:v.width},useTranslate3d:f,viewBox:p}),P=w?{}:Ep(Ep({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&a?"visible":"hidden",position:"absolute",top:0,left:0}),R=Ep(Ep({},P),{},{visibility:!this.state.dismissed&&t&&a?"visible":"hidden"},m);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:R,ref:y},o)}}var GL=()=>{var e;return(e=Ye(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Mw(){return Mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mw.apply(null,arguments)}function VA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VA(Object(n),!0).forEach(function(r){EQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EQ(e,t,n){return(t=IQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IQ(e){var t=CQ(e,"string");return typeof t=="symbol"?t:t+""}function CQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zA={curveBasisClosed:$q,curveBasisOpen:Bq,curveBasis:Fq,curveBumpX:Eq,curveBumpY:Iq,curveLinearClosed:Vq,curveLinear:Mv,curveMonotoneX:Uq,curveMonotoneY:zq,curveNatural:Wq,curveStep:Hq,curveStepAfter:Gq,curveStepBefore:qq},cm=e=>cn(e.x)&&cn(e.y),WA=e=>e.base!=null&&cm(e.base)&&cm(e),Fc=e=>e.x,$c=e=>e.y,PQ=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Qf(e));return(n==="curveMonotone"||n==="curveBump")&&t?zA["".concat(n).concat(t==="vertical"?"Y":"X")]:zA[n]||Mv},TQ=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=e,s=PQ(t,i),a=o?n.filter(cm):n,l;if(Array.isArray(r)){var u=n.map((p,m)=>UA(UA({},p),{},{base:r[m]}));i==="vertical"?l=mp().y($c).x1(Fc).x0(p=>p.base.x):l=mp().x(Fc).y1($c).y0(p=>p.base.y);var c=l.defined(WA).curve(s),d=o?u.filter(WA):u;return c(d)}i==="vertical"&&Ue(r)?l=mp().y($c).x1(Fc).x0(r):Ue(r)?l=mp().x(Fc).y1($c).y0(r):l=l4().x(Fc).y($c);var f=l.defined(cm).curve(s);return f(a)},ES=e=>{var{className:t,points:n,path:r,pathRef:i}=e,o=ry();if((!n||!n.length)&&!r)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||o,connectNulls:e.connectNulls},a=n&&n.length?TQ(s):r;return b.createElement("path",Mw({},vu(e),gG(e),{className:un("recharts-curve",t),d:a===null?void 0:a,ref:i}))},AQ=["x","y","top","left","width","height","className"];function Lw(){return Lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lw.apply(null,arguments)}function HA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function OQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HA(Object(n),!0).forEach(function(r){RQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RQ(e,t,n){return(t=DQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DQ(e){var t=kQ(e,"string");return typeof t=="symbol"?t:t+""}function kQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NQ(e,t){if(e==null)return{};var n,r,i=jQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var MQ=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),LQ=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:s=0,className:a}=e,l=NQ(e,AQ),u=OQ({x:t,y:n,top:r,left:i,width:o,height:s},l);return!Ue(t)||!Ue(n)||!Ue(o)||!Ue(s)||!Ue(r)||!Ue(i)?null:b.createElement("path",Lw({},di(u),{className:un("recharts-cross",a),d:MQ(t,n,o,s,r,i)}))};function FQ(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function qA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function GA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qA(Object(n),!0).forEach(function(r){$Q(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $Q(e,t,n){return(t=BQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BQ(e){var t=VQ(e,"string");return typeof t=="symbol"?t:t+""}function VQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UQ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),KL=(e,t,n)=>e.map(r=>"".concat(UQ(r)," ").concat(t,"ms ").concat(n)).join(","),zQ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),sf=(e,t)=>Object.keys(t).reduce((n,r)=>GA(GA({},n),{},{[r]:e(r,t[r])}),{});function KA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(n),!0).forEach(function(r){WQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WQ(e,t,n){return(t=HQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HQ(e){var t=qQ(e,"string");return typeof t=="symbol"?t:t+""}function qQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dm=(e,t,n)=>e+(t-e)*n,Fw=e=>{var{from:t,to:n}=e;return t!==n},YL=(e,t,n)=>{var r=sf((i,o)=>{if(Fw(o)){var[s,a]=e(o.from,o.to,o.velocity);return hn(hn({},o),{},{from:s,velocity:a})}return o},t);return n<1?sf((i,o)=>Fw(o)&&r[i]!=null?hn(hn({},o),{},{velocity:dm(o.velocity,r[i].velocity,n),from:dm(o.from,r[i].from,n)}):o,t):YL(e,r,n-1)};function GQ(e,t,n,r,i,o){var s,a=r.reduce((f,p)=>hn(hn({},f),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),l=()=>sf((f,p)=>p.from,a),u=()=>!Object.values(a).filter(Fw).length,c=null,d=f=>{s||(s=f);var p=f-s,m=p/n.dt;a=YL(n,a,m),i(hn(hn(hn({},e),t),l())),s=f,u()||(c=o.setTimeout(d))};return()=>(c=o.setTimeout(d),()=>{var f;(f=c)===null||f===void 0||f()})}function KQ(e,t,n,r,i,o,s){var a=null,l=i.reduce((d,f)=>{var p=e[f],m=t[f];return p==null||m==null?d:hn(hn({},d),{},{[f]:[p,m]})},{}),u,c=d=>{u||(u=d);var f=(d-u)/r,p=sf((v,y)=>dm(...y,n(f)),l);if(o(hn(hn(hn({},e),t),p)),f<1)a=s.setTimeout(c);else{var m=sf((v,y)=>dm(...y,n(1)),l);o(hn(hn(hn({},e),t),m))}};return()=>(a=s.setTimeout(c),()=>{var d;(d=a)===null||d===void 0||d()})}const YQ=(e,t,n,r,i,o)=>{var s=zQ(e,t);return n==null?()=>(i(hn(hn({},e),t)),()=>{}):n.isStepper===!0?GQ(e,t,n,s,i,o):KQ(e,t,n,r,s,i,o)};var fm=1e-4,QL=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],XL=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),YA=(e,t)=>n=>{var r=QL(e,t);return XL(r,n)},QQ=(e,t)=>n=>{var r=QL(e,t),i=[...r.map((o,s)=>o*s).slice(1),0];return XL(i,n)},XQ=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(o=>parseFloat(o));return[i[0],i[1],i[2],i[3]]},JQ=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=XQ(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},ZQ=(e,t,n,r)=>{var i=YA(e,n),o=YA(t,r),s=QQ(e,n),a=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,d=c,f=0;f<8;++f){var p=i(d)-c,m=s(d);if(Math.abs(p-c)<fm||m<fm)return o(d);d=a(d-p/m)}return o(d)};return l.isStepper=!1,l},QA=function(){return ZQ(...JQ(...arguments))},eX=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,o=(s,a,l)=>{var u=-(s-a)*n,c=l*r,d=l+(u-c)*i/1e3,f=l*i/1e3+s;return Math.abs(f-a)<fm&&Math.abs(d)<fm?[a,0]:[f,d]};return o.isStepper=!0,o.dt=i,o},tX=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return QA(e);case"spring":return eX();default:if(e.split("(")[0]==="cubic-bezier")return QA(e)}return typeof e=="function"?e:null};function nX(e){var t,n=()=>null,r=!1,i=null,o=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var a=s,[l,...u]=a;if(typeof l=="number"){i=e.setTimeout(o.bind(null,u),l);return}o(l),i=e.setTimeout(o.bind(null,u));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),o(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class rX{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function iX(){return nX(new rX)}var oX=b.createContext(iX);function sX(e,t){var n=b.useContext(oX);return b.useMemo(()=>t??n(e),[e,t,n])}var aX=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),IS={isSsr:aX()},lX={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},XA={t:0},bb={t:1};function CS(e){var t=oo(e,lX),{isActive:n,canBegin:r,duration:i,easing:o,begin:s,onAnimationEnd:a,onAnimationStart:l,children:u}=t,c=n==="auto"?!IS.isSsr:n,d=sX(t.animationId,t.animationManager),[f,p]=b.useState(c?XA:bb),m=b.useRef(null);return b.useEffect(()=>{c||p(bb)},[c]),b.useEffect(()=>{if(!c||!r)return Xf;var v=YQ(XA,bb,tX(o),i,p,d.getTimeoutController()),y=()=>{m.current=v()};return d.start([l,s,y,i,a]),()=>{d.stop(),m.current&&m.current(),a()}},[c,r,i,o,s,l,a,d]),u(f.t)}function PS(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=b.useRef(Jd(t)),r=b.useRef(e);return r.current!==e&&(n.current=Jd(t),r.current=e),n.current}var uX=["radius"],cX=["radius"],JA,ZA,e2,t2,n2,r2,i2,o2,s2,a2;function l2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function u2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l2(Object(n),!0).forEach(function(r){dX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dX(e,t,n){return(t=fX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fX(e){var t=hX(e,"string");return typeof t=="symbol"?t:t+""}function hX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hm(){return hm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hm.apply(null,arguments)}function c2(e,t){if(e==null)return{};var n,r,i=pX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Wi(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var d2=(e,t,n,r,i)=>{var o=ss(n),s=ss(r),a=Math.min(Math.abs(o)/2,Math.abs(s)/2),l=s>=0?1:-1,u=o>=0?1:-1,c=s>=0&&o>=0||s<0&&o<0?1:0,d;if(a>0&&i instanceof Array){for(var f=[0,0,0,0],p=0,m=4;p<m;p++)f[p]=i[p]>a?a:i[p];d=Wt(JA||(JA=Wi(["M",",",""])),e,t+l*f[0]),f[0]>0&&(d+=Wt(ZA||(ZA=Wi(["A ",",",",0,0,",",",",",""])),f[0],f[0],c,e+u*f[0],t)),d+=Wt(e2||(e2=Wi(["L ",",",""])),e+n-u*f[1],t),f[1]>0&&(d+=Wt(t2||(t2=Wi(["A ",",",",0,0,",`,
        `,",",""])),f[1],f[1],c,e+n,t+l*f[1])),d+=Wt(n2||(n2=Wi(["L ",",",""])),e+n,t+r-l*f[2]),f[2]>0&&(d+=Wt(r2||(r2=Wi(["A ",",",",0,0,",`,
        `,",",""])),f[2],f[2],c,e+n-u*f[2],t+r)),d+=Wt(i2||(i2=Wi(["L ",",",""])),e+u*f[3],t+r),f[3]>0&&(d+=Wt(o2||(o2=Wi(["A ",",",",0,0,",`,
        `,",",""])),f[3],f[3],c,e,t+r-l*f[3])),d+="Z"}else if(a>0&&i===+i&&i>0){var v=Math.min(a,i);d=Wt(s2||(s2=Wi(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*v,v,v,c,e+u*v,t,e+n-u*v,t,v,v,c,e+n,t+l*v,e+n,t+r-l*v,v,v,c,e+n-u*v,t+r,e+u*v,t+r,v,v,c,e,t+r-l*v)}else d=Wt(a2||(a2=Wi(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return d},f2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},JL=e=>{var t=oo(e,f2),n=b.useRef(null),[r,i]=b.useState(-1);b.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Oe=n.current.getTotalLength();Oe&&i(Oe)}catch{}},[]);var{x:o,y:s,width:a,height:l,radius:u,className:c}=t,{animationEasing:d,animationDuration:f,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:v}=t,y=b.useRef(a),w=b.useRef(l),_=b.useRef(o),S=b.useRef(s),P=b.useMemo(()=>({x:o,y:s,width:a,height:l,radius:u}),[o,s,a,l,u]),R=PS(P,"rectangle-");if(o!==+o||s!==+s||a!==+a||l!==+l||a===0||l===0)return null;var M=un("recharts-rectangle",c);if(!v){var C=di(t),{radius:I}=C,T=c2(C,uX);return b.createElement("path",hm({},T,{x:ss(o),y:ss(s),width:ss(a),height:ss(l),radius:typeof u=="number"?u:void 0,className:M,d:d2(o,s,a,l,u)}))}var k=y.current,A=w.current,j=_.current,O=S.current,ee="0px ".concat(r===-1?1:r,"px"),re="".concat(r,"px 0px"),pe=KL(["strokeDasharray"],f,typeof d=="string"?d:f2.animationEasing);return b.createElement(CS,{animationId:R,key:R,canBegin:r>0,duration:f,easing:d,isActive:v,begin:p},Oe=>{var F=wi(k,a,Oe),Q=wi(A,l,Oe),le=wi(j,o,Oe),be=wi(O,s,Oe);n.current&&(y.current=F,w.current=Q,_.current=le,S.current=be);var we;m?Oe>0?we={transition:pe,strokeDasharray:re}:we={strokeDasharray:ee}:we={strokeDasharray:re};var X=di(t),{radius:ie}=X,Ie=c2(X,cX);return b.createElement("path",hm({},Ie,{radius:typeof u=="number"?u:void 0,className:M,d:d2(le,be,F,Q,u),ref:n,style:u2(u2({},we),t.style)}))})};function h2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function p2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h2(Object(n),!0).forEach(function(r){gX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gX(e,t,n){return(t=mX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mX(e){var t=vX(e,"string");return typeof t=="symbol"?t:t+""}function vX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pm=Math.PI/180,yX=e=>e*180/Math.PI,on=(e,t,n,r)=>({x:e+Math.cos(-pm*r)*n,y:t+Math.sin(-pm*r)*n}),ZL=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},bX=(e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)},xX=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,s=bX({x:n,y:r},{x:i,y:o});if(s<=0)return{radius:s,angle:0};var a=(n-i)/s,l=Math.acos(a);return r>o&&(l=2*Math.PI-l),{radius:s,angle:yX(l),angleInRadian:l}},wX=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-o*360,endAngle:n-o*360}},_X=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return e+s*360},SX=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:o}=xX({x:n,y:r},t),{innerRadius:s,outerRadius:a}=t;if(i<s||i>a||i===0)return null;var{startAngle:l,endAngle:u}=wX(t),c=o,d;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;d=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;d=c>=u&&c<=l}return d?p2(p2({},t),{},{radius:i,angle:_X(c,t)}):null};function e3(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e,s=on(t,n,r,i),a=on(t,n,r,o);return{points:[s,a],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}var g2,m2,v2,y2,b2,x2,w2;function $w(){return $w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$w.apply(null,arguments)}function _a(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var EX=(e,t)=>{var n=br(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Ip=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:s,cornerRadius:a,cornerIsExternal:l}=e,u=a*(s?1:-1)+r,c=Math.asin(a/u)/pm,d=l?i:i+o*c,f=on(t,n,u,d),p=on(t,n,r,d),m=l?i-o*c:i,v=on(t,n,u*Math.cos(c*pm),m);return{center:f,circleTangency:p,lineTangency:v,theta:c}},t3=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:s}=e,a=EX(o,s),l=o+a,u=on(t,n,i,o),c=on(t,n,i,l),d=Wt(g2||(g2=_a(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(a)>180),+(o>l),c.x,c.y);if(r>0){var f=on(t,n,r,o),p=on(t,n,r,l);d+=Wt(m2||(m2=_a(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),p.x,p.y,r,r,+(Math.abs(a)>180),+(o<=l),f.x,f.y)}else d+=Wt(v2||(v2=_a(["L ",","," Z"])),t,n);return d},IX=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:a,startAngle:l,endAngle:u}=e,c=br(u-l),{circleTangency:d,lineTangency:f,theta:p}=Ip({cx:t,cy:n,radius:i,angle:l,sign:c,cornerRadius:o,cornerIsExternal:a}),{circleTangency:m,lineTangency:v,theta:y}=Ip({cx:t,cy:n,radius:i,angle:u,sign:-c,cornerRadius:o,cornerIsExternal:a}),w=a?Math.abs(l-u):Math.abs(l-u)-p-y;if(w<0)return s?Wt(y2||(y2=_a(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),f.x,f.y,o,o,o*2,o,o,-o*2):t3({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var _=Wt(b2||(b2=_a(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),f.x,f.y,o,o,+(c<0),d.x,d.y,i,i,+(w>180),+(c<0),m.x,m.y,o,o,+(c<0),v.x,v.y);if(r>0){var{circleTangency:S,lineTangency:P,theta:R}=Ip({cx:t,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:o,cornerIsExternal:a}),{circleTangency:M,lineTangency:C,theta:I}=Ip({cx:t,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:o,cornerIsExternal:a}),T=a?Math.abs(l-u):Math.abs(l-u)-R-I;if(T<0&&o===0)return"".concat(_,"L").concat(t,",").concat(n,"Z");_+=Wt(x2||(x2=_a(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),C.x,C.y,o,o,+(c<0),M.x,M.y,r,r,+(T>180),+(c>0),S.x,S.y,o,o,+(c<0),P.x,P.y)}else _+=Wt(w2||(w2=_a(["L",",","Z"])),t,n);return _},CX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},n3=e=>{var t=oo(e,CX),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:l,startAngle:u,endAngle:c,className:d}=t;if(o<i||u===c)return null;var f=un("recharts-sector",d),p=o-i,m=$r(s,p,0,!0),v;return m>0&&Math.abs(u-c)<360?v=IX({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,p/2),forceCornerRadius:a,cornerIsExternal:l,startAngle:u,endAngle:c}):v=t3({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c}),b.createElement("path",$w({},di(t),{className:f,d:v}))};function PX(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(E4(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:s,angle:a}=t,l=on(r,i,o,a),u=on(r,i,s,a);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return e3(t)}}var r3={},i3={},o3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dS;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(o3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o3;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(i3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fS,n=i3;function r(i,o,s){s&&typeof s!="number"&&t.isIterateeCall(i,o,s)&&(o=s=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),s=s===void 0?i<o?1:-1:n.toFinite(s);const a=Math.max(Math.ceil((o-i)/(s||1)),0),l=new Array(a);for(let u=0;u<a;u++)l[u]=i,i+=s;return l}e.range=r})(r3);var TX=r3.range;const s3=ji(TX);function bs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function AX(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function TS(e){let t,n,r;e.length!==2?(t=bs,n=(a,l)=>bs(e(a),l),r=(a,l)=>e(a)-l):(t=e===bs||e===AX?e:OX,n=e,r=e);function i(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function s(a,l,u=0,c=a.length){const d=i(a,l,u,c-1);return d>u&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:s,right:o}}function OX(){return 0}function a3(e){return e===null?NaN:+e}function*RX(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const DX=TS(bs),rh=DX.right;TS(a3).center;class _2 extends Map{constructor(t,n=jX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(S2(this,t))}has(t){return super.has(S2(this,t))}set(t,n){return super.set(kX(this,t),n)}delete(t){return super.delete(NX(this,t))}}function S2({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function kX({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function NX({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function jX(e){return e!==null&&typeof e=="object"?e.valueOf():e}function MX(e=bs){if(e===bs)return l3;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function l3(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const LX=Math.sqrt(50),FX=Math.sqrt(10),$X=Math.sqrt(2);function gm(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=LX?10:o>=FX?5:o>=$X?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(e*u),l=Math.round(t*u),a/u<e&&++a,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(e/u),l=Math.round(t/u),a*u<e&&++a,l*u>t&&--l),l<a&&.5<=n&&n<2?gm(e,t,n*2):[a,l,u]}function Bw(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?gm(t,e,n):gm(e,t,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function Vw(e,t,n){return t=+t,e=+e,n=+n,gm(e,t,n)[2]}function Uw(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Vw(t,e,n):Vw(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function E2(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function I2(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function u3(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?l3:MX(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(t-u*d/l+f)),m=Math.min(r,Math.floor(t+(l-u)*d/l+f));u3(e,t,p,m,i)}const o=e[t];let s=n,a=r;for(Bc(e,n,t),i(e[r],o)>0&&Bc(e,n,r);s<a;){for(Bc(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}i(e[n],o)===0?Bc(e,n,a):(++a,Bc(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function Bc(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function BX(e,t,n){if(e=Float64Array.from(RX(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return I2(e);if(t>=1)return E2(e);var r,i=(r-1)*t,o=Math.floor(i),s=E2(u3(e,o).subarray(0,o+1)),a=I2(e.subarray(o+1));return s+(a-s)*(i-o)}}function VX(e,t,n=a3){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e),a=+n(e[o+1],o+1,e);return s+(a-s)*(i-o)}}function UX(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function mi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function $o(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const zw=Symbol("implicit");function AS(){var e=new _2,t=[],n=[],r=zw;function i(o){let s=e.get(o);if(s===void 0){if(r!==zw)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new _2;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return AS(t,n).unknown(r)},mi.apply(i,arguments),i}function OS(){var e=AS().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete e.unknown;function d(){var f=t().length,p=i<r,m=p?i:r,v=p?r:i;o=(v-m)/Math.max(1,f-l+u*2),a&&(o=Math.floor(o)),m+=(v-m-o*(f-l))*c,s=o*(1-l),a&&(m=Math.round(m),s=Math.round(s));var y=UX(f).map(function(w){return m+o*w});return n(p?y.reverse():y)}return e.domain=function(f){return arguments.length?(t(f),d()):t()},e.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,a=!0,d()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(f){return arguments.length?(a=!!f,d()):a},e.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),d()):l},e.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},e.paddingOuter=function(f){return arguments.length?(u=+f,d()):u},e.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),d()):c},e.copy=function(){return OS(t(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},mi.apply(d(),arguments)}function c3(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return c3(t())},e}function zX(){return c3(OS.apply(null,arguments).paddingInner(1))}function RS(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function d3(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ih(){}var af=.7,mm=1/af,eu="\\s*([+-]?\\d+)\\s*",lf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",eo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",WX=/^#([0-9a-f]{3,8})$/,HX=new RegExp(`^rgb\\(${eu},${eu},${eu}\\)$`),qX=new RegExp(`^rgb\\(${eo},${eo},${eo}\\)$`),GX=new RegExp(`^rgba\\(${eu},${eu},${eu},${lf}\\)$`),KX=new RegExp(`^rgba\\(${eo},${eo},${eo},${lf}\\)$`),YX=new RegExp(`^hsl\\(${lf},${eo},${eo}\\)$`),QX=new RegExp(`^hsla\\(${lf},${eo},${eo},${lf}\\)$`),C2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};RS(ih,uf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:P2,formatHex:P2,formatHex8:XX,formatHsl:JX,formatRgb:T2,toString:T2});function P2(){return this.rgb().formatHex()}function XX(){return this.rgb().formatHex8()}function JX(){return f3(this).formatHsl()}function T2(){return this.rgb().formatRgb()}function uf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=WX.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?A2(t):n===3?new xr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Cp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Cp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=HX.exec(e))?new xr(t[1],t[2],t[3],1):(t=qX.exec(e))?new xr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=GX.exec(e))?Cp(t[1],t[2],t[3],t[4]):(t=KX.exec(e))?Cp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=YX.exec(e))?D2(t[1],t[2]/100,t[3]/100,1):(t=QX.exec(e))?D2(t[1],t[2]/100,t[3]/100,t[4]):C2.hasOwnProperty(e)?A2(C2[e]):e==="transparent"?new xr(NaN,NaN,NaN,0):null}function A2(e){return new xr(e>>16&255,e>>8&255,e&255,1)}function Cp(e,t,n,r){return r<=0&&(e=t=n=NaN),new xr(e,t,n,r)}function ZX(e){return e instanceof ih||(e=uf(e)),e?(e=e.rgb(),new xr(e.r,e.g,e.b,e.opacity)):new xr}function Ww(e,t,n,r){return arguments.length===1?ZX(e):new xr(e,t,n,r??1)}function xr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}RS(xr,Ww,d3(ih,{brighter(e){return e=e==null?mm:Math.pow(mm,e),new xr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?af:Math.pow(af,e),new xr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xr(Ra(this.r),Ra(this.g),Ra(this.b),vm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:O2,formatHex:O2,formatHex8:eJ,formatRgb:R2,toString:R2}));function O2(){return`#${Sa(this.r)}${Sa(this.g)}${Sa(this.b)}`}function eJ(){return`#${Sa(this.r)}${Sa(this.g)}${Sa(this.b)}${Sa((isNaN(this.opacity)?1:this.opacity)*255)}`}function R2(){const e=vm(this.opacity);return`${e===1?"rgb(":"rgba("}${Ra(this.r)}, ${Ra(this.g)}, ${Ra(this.b)}${e===1?")":`, ${e})`}`}function vm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ra(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Sa(e){return e=Ra(e),(e<16?"0":"")+e.toString(16)}function D2(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ei(e,t,n,r)}function f3(e){if(e instanceof Ei)return new Ei(e.h,e.s,e.l,e.opacity);if(e instanceof ih||(e=uf(e)),!e)return new Ei;if(e instanceof Ei)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Ei(s,a,l,e.opacity)}function tJ(e,t,n,r){return arguments.length===1?f3(e):new Ei(e,t,n,r??1)}function Ei(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}RS(Ei,tJ,d3(ih,{brighter(e){return e=e==null?mm:Math.pow(mm,e),new Ei(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?af:Math.pow(af,e),new Ei(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new xr(xb(e>=240?e-240:e+120,i,r),xb(e,i,r),xb(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ei(k2(this.h),Pp(this.s),Pp(this.l),vm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=vm(this.opacity);return`${e===1?"hsl(":"hsla("}${k2(this.h)}, ${Pp(this.s)*100}%, ${Pp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function k2(e){return e=(e||0)%360,e<0?e+360:e}function Pp(e){return Math.max(0,Math.min(1,e||0))}function xb(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const DS=e=>()=>e;function nJ(e,t){return function(n){return e+n*t}}function rJ(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function iJ(e){return(e=+e)==1?h3:function(t,n){return n-t?rJ(t,n,e):DS(isNaN(t)?n:t)}}function h3(e,t){var n=t-e;return n?nJ(e,n):DS(isNaN(e)?t:e)}const N2=function e(t){var n=iJ(t);function r(i,o){var s=n((i=Ww(i)).r,(o=Ww(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=h3(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function oJ(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function sJ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function aJ(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Gu(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function lJ(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ym(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function uJ(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Gu(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Hw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wb=new RegExp(Hw.source,"g");function cJ(e){return function(){return e}}function dJ(e){return function(t){return e(t)+""}}function fJ(e,t){var n=Hw.lastIndex=wb.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=Hw.exec(e))&&(i=wb.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:ym(r,i)})),n=wb.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?dJ(l[0].x):cJ(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}function Gu(e,t){var n=typeof t,r;return t==null||n==="boolean"?DS(t):(n==="number"?ym:n==="string"?(r=uf(t))?(t=r,N2):fJ:t instanceof uf?N2:t instanceof Date?lJ:sJ(t)?oJ:Array.isArray(t)?aJ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?uJ:ym)(e,t)}function kS(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function hJ(e,t){t===void 0&&(t=e,e=Gu);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function pJ(e){return function(){return e}}function bm(e){return+e}var j2=[0,1];function sr(e){return e}function qw(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:pJ(isNaN(t)?NaN:.5)}function gJ(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function mJ(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=qw(i,r),o=n(s,o)):(r=qw(r,i),o=n(o,s)),function(a){return o(r(a))}}function vJ(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=qw(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var l=rh(e,a,1,r)-1;return o[l](i[l](a))}}function oh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ly(){var e=j2,t=j2,n=Gu,r,i,o,s=sr,a,l,u;function c(){var f=Math.min(e.length,t.length);return s!==sr&&(s=gJ(e[0],e[f-1])),a=f>2?vJ:mJ,l=u=null,d}function d(f){return f==null||isNaN(f=+f)?o:(l||(l=a(e.map(r),t,n)))(r(s(f)))}return d.invert=function(f){return s(i((u||(u=a(t,e.map(r),ym)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,bm),c()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),c()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),n=kS,c()},d.clamp=function(f){return arguments.length?(s=f?!0:sr,c()):s!==sr},d.interpolate=function(f){return arguments.length?(n=f,c()):n},d.unknown=function(f){return arguments.length?(o=f,d):o},function(f,p){return r=f,i=p,c()}}function NS(){return ly()(sr,sr)}function yJ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function xm(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function wu(e){return e=xm(Math.abs(e)),e?e[1]:NaN}function bJ(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function xJ(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var wJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function cf(e){if(!(t=wJ.exec(e)))throw new Error("invalid format: "+e);var t;return new jS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}cf.prototype=jS.prototype;function jS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}jS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _J(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var p3;function SJ(e,t){var n=xm(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(p3=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+xm(e,Math.max(0,t+o-1))[0]}function M2(e,t){var n=xm(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const L2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:yJ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>M2(e*100,t),r:M2,s:SJ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function F2(e){return e}var $2=Array.prototype.map,B2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function EJ(e){var t=e.grouping===void 0||e.thousands===void 0?F2:bJ($2.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?F2:xJ($2.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d){d=cf(d);var f=d.fill,p=d.align,m=d.sign,v=d.symbol,y=d.zero,w=d.width,_=d.comma,S=d.precision,P=d.trim,R=d.type;R==="n"?(_=!0,R="g"):L2[R]||(S===void 0&&(S=12),P=!0,R="g"),(y||f==="0"&&p==="=")&&(y=!0,f="0",p="=");var M=v==="$"?n:v==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",C=v==="$"?r:/[%p]/.test(R)?s:"",I=L2[R],T=/[defgprs%]/.test(R);S=S===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function k(A){var j=M,O=C,ee,re,pe;if(R==="c")O=I(A)+O,A="";else{A=+A;var Oe=A<0||1/A<0;if(A=isNaN(A)?l:I(Math.abs(A),S),P&&(A=_J(A)),Oe&&+A==0&&m!=="+"&&(Oe=!1),j=(Oe?m==="("?m:a:m==="-"||m==="("?"":m)+j,O=(R==="s"?B2[8+p3/3]:"")+O+(Oe&&m==="("?")":""),T){for(ee=-1,re=A.length;++ee<re;)if(pe=A.charCodeAt(ee),48>pe||pe>57){O=(pe===46?i+A.slice(ee+1):A.slice(ee))+O,A=A.slice(0,ee);break}}}_&&!y&&(A=t(A,1/0));var F=j.length+A.length+O.length,Q=F<w?new Array(w-F+1).join(f):"";switch(_&&y&&(A=t(Q+A,Q.length?w-O.length:1/0),Q=""),p){case"<":A=j+A+O+Q;break;case"=":A=j+Q+A+O;break;case"^":A=Q.slice(0,F=Q.length>>1)+j+A+O+Q.slice(F);break;default:A=Q+j+A+O;break}return o(A)}return k.toString=function(){return d+""},k}function c(d,f){var p=u((d=cf(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(wu(f)/3)))*3,v=Math.pow(10,-m),y=B2[8+m/3];return function(w){return p(v*w)+y}}return{format:u,formatPrefix:c}}var Tp,MS,g3;IJ({thousands:",",grouping:[3],currency:["$",""]});function IJ(e){return Tp=EJ(e),MS=Tp.format,g3=Tp.formatPrefix,Tp}function CJ(e){return Math.max(0,-wu(Math.abs(e)))}function PJ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wu(t)/3)))*3-wu(Math.abs(e)))}function TJ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,wu(t)-wu(e))+1}function m3(e,t,n,r){var i=Uw(e,t,n),o;switch(r=cf(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=PJ(i,s))&&(r.precision=o),g3(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=TJ(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=CJ(i))&&(r.precision=o-(r.type==="%")*2);break}}return MS(r)}function Xs(e){var t=e.domain;return e.ticks=function(n){var r=t();return Bw(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return m3(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=Vw(s,a,n),u===l)return r[i]=s,r[o]=a,t(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return e},e}function v3(){var e=NS();return e.copy=function(){return oh(e,v3())},mi.apply(e,arguments),Xs(e)}function y3(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,bm),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return y3(e).unknown(t)},e=arguments.length?Array.from(e,bm):[0,1],Xs(n)}function b3(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function V2(e){return Math.log(e)}function U2(e){return Math.exp(e)}function AJ(e){return-Math.log(-e)}function OJ(e){return-Math.exp(-e)}function RJ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function DJ(e){return e===10?RJ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function kJ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function z2(e){return(t,n)=>-e(-t,n)}function LS(e){const t=e(V2,U2),n=t.domain;let r=10,i,o;function s(){return i=kJ(r),o=DJ(r),n()[0]<0?(i=z2(i),o=z2(o),e(AJ,OJ)):e(V2,U2),t}return t.base=function(a){return arguments.length?(r=+a,s()):r},t.domain=function(a){return arguments.length?(n(a),s()):n()},t.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let f=i(u),p=i(c),m,v;const y=a==null?10:+a;let w=[];if(!(r%1)&&p-f<y){if(f=Math.floor(f),p=Math.ceil(p),u>0){for(;f<=p;++f)for(m=1;m<r;++m)if(v=f<0?m/o(-f):m*o(f),!(v<u)){if(v>c)break;w.push(v)}}else for(;f<=p;++f)for(m=r-1;m>=1;--m)if(v=f>0?m/o(-f):m*o(f),!(v<u)){if(v>c)break;w.push(v)}w.length*2<y&&(w=Bw(u,c,y))}else w=Bw(f,p,Math.min(p-f,y)).map(o);return d?w.reverse():w},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=cf(l)).precision==null&&(l.trim=!0),l=MS(l)),a===1/0)return l;const u=Math.max(1,r*a/t.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},t.nice=()=>n(b3(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),t}function x3(){const e=LS(ly()).domain([1,10]);return e.copy=()=>oh(e,x3()).base(e.base()),mi.apply(e,arguments),e}function W2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function H2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function FS(e){var t=1,n=e(W2(t),H2(t));return n.constant=function(r){return arguments.length?e(W2(t=+r),H2(t)):t},Xs(n)}function w3(){var e=FS(ly());return e.copy=function(){return oh(e,w3()).constant(e.constant())},mi.apply(e,arguments)}function q2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function NJ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function jJ(e){return e<0?-e*e:e*e}function $S(e){var t=e(sr,sr),n=1;function r(){return n===1?e(sr,sr):n===.5?e(NJ,jJ):e(q2(n),q2(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Xs(t)}function BS(){var e=$S(ly());return e.copy=function(){return oh(e,BS()).exponent(e.exponent())},mi.apply(e,arguments),e}function MJ(){return BS.apply(null,arguments).exponent(.5)}function G2(e){return Math.sign(e)*e*e}function LJ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function _3(){var e=NS(),t=[0,1],n=!1,r;function i(o){var s=LJ(e(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return e.invert(G2(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,bm)).map(G2)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return _3(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},mi.apply(i,arguments),Xs(i)}function S3(){var e=[],t=[],n=[],r;function i(){var s=0,a=Math.max(1,t.length);for(n=new Array(a-1);++s<a;)n[s-1]=VX(e,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:t[rh(n,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(bs),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return S3().domain(e).range(t).unknown(r)},mi.apply(o,arguments)}function E3(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[rh(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return E3().domain([e,t]).range(i).unknown(o)},mi.apply(Xs(s),arguments)}function I3(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[rh(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return I3().domain(e).range(t).unknown(n)},mi.apply(i,arguments)}const _b=new Date,Sb=new Date;function xn(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),t(o,a),e(o);while(u<o&&o<s);return l},i.filter=o=>xn(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(_b.setTime(+o),Sb.setTime(+s),e(_b),e(Sb),Math.floor(n(_b,Sb))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const wm=xn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);wm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?xn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):wm);wm.range;const po=1e3,ri=po*60,go=ri*60,Ao=go*24,VS=Ao*7,K2=Ao*30,Eb=Ao*365,Ea=xn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*po)},(e,t)=>(t-e)/po,e=>e.getUTCSeconds());Ea.range;const US=xn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*po)},(e,t)=>{e.setTime(+e+t*ri)},(e,t)=>(t-e)/ri,e=>e.getMinutes());US.range;const zS=xn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ri)},(e,t)=>(t-e)/ri,e=>e.getUTCMinutes());zS.range;const WS=xn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*po-e.getMinutes()*ri)},(e,t)=>{e.setTime(+e+t*go)},(e,t)=>(t-e)/go,e=>e.getHours());WS.range;const HS=xn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*go)},(e,t)=>(t-e)/go,e=>e.getUTCHours());HS.range;const sh=xn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ri)/Ao,e=>e.getDate()-1);sh.range;const uy=xn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ao,e=>e.getUTCDate()-1);uy.range;const C3=xn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ao,e=>Math.floor(e/Ao));C3.range;function fl(e){return xn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ri)/VS)}const cy=fl(0),_m=fl(1),FJ=fl(2),$J=fl(3),_u=fl(4),BJ=fl(5),VJ=fl(6);cy.range;_m.range;FJ.range;$J.range;_u.range;BJ.range;VJ.range;function hl(e){return xn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/VS)}const dy=hl(0),Sm=hl(1),UJ=hl(2),zJ=hl(3),Su=hl(4),WJ=hl(5),HJ=hl(6);dy.range;Sm.range;UJ.range;zJ.range;Su.range;WJ.range;HJ.range;const qS=xn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());qS.range;const GS=xn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());GS.range;const Oo=xn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Oo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Oo.range;const Ro=xn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ro.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ro.range;function P3(e,t,n,r,i,o){const s=[[Ea,1,po],[Ea,5,5*po],[Ea,15,15*po],[Ea,30,30*po],[o,1,ri],[o,5,5*ri],[o,15,15*ri],[o,30,30*ri],[i,1,go],[i,3,3*go],[i,6,6*go],[i,12,12*go],[r,1,Ao],[r,2,2*Ao],[n,1,VS],[t,1,K2],[t,3,3*K2],[e,1,Eb]];function a(u,c,d){const f=c<u;f&&([u,c]=[c,u]);const p=d&&typeof d.range=="function"?d:l(u,c,d),m=p?p.range(u,+c+1):[];return f?m.reverse():m}function l(u,c,d){const f=Math.abs(c-u)/d,p=TS(([,,y])=>y).right(s,f);if(p===s.length)return e.every(Uw(u/Eb,c/Eb,d));if(p===0)return wm.every(Math.max(Uw(u,c,d),1));const[m,v]=s[f/s[p-1][2]<s[p][2]/f?p-1:p];return m.every(v)}return[a,l]}const[qJ,GJ]=P3(Ro,GS,dy,C3,HS,zS),[KJ,YJ]=P3(Oo,qS,cy,sh,WS,US);function Ib(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Cb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Vc(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function QJ(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,u=Uc(i),c=zc(i),d=Uc(o),f=zc(o),p=Uc(s),m=zc(s),v=Uc(a),y=zc(a),w=Uc(l),_=zc(l),S={a:Oe,A:F,b:Q,B:le,c:null,d:eO,e:eO,f:bZ,g:AZ,G:RZ,H:mZ,I:vZ,j:yZ,L:T3,m:xZ,M:wZ,p:be,q:we,Q:rO,s:iO,S:_Z,u:SZ,U:EZ,V:IZ,w:CZ,W:PZ,x:null,X:null,y:TZ,Y:OZ,Z:DZ,"%":nO},P={a:X,A:ie,b:Ie,B:te,c:null,d:tO,e:tO,f:MZ,g:qZ,G:KZ,H:kZ,I:NZ,j:jZ,L:O3,m:LZ,M:FZ,p:D,q:V,Q:rO,s:iO,S:$Z,u:BZ,U:VZ,V:UZ,w:zZ,W:WZ,x:null,X:null,y:HZ,Y:GZ,Z:YZ,"%":nO},R={a:k,A,b:j,B:O,c:ee,d:J2,e:J2,f:fZ,g:X2,G:Q2,H:Z2,I:Z2,j:lZ,L:dZ,m:aZ,M:uZ,p:T,q:sZ,Q:pZ,s:gZ,S:cZ,u:tZ,U:nZ,V:rZ,w:eZ,W:iZ,x:re,X:pe,y:X2,Y:Q2,Z:oZ,"%":hZ};S.x=M(n,S),S.X=M(r,S),S.c=M(t,S),P.x=M(n,P),P.X=M(r,P),P.c=M(t,P);function M(L,J){return function(Z){var $=[],B=-1,W=0,ae=L.length,ne,ce,he;for(Z instanceof Date||(Z=new Date(+Z));++B<ae;)L.charCodeAt(B)===37&&($.push(L.slice(W,B)),(ce=Y2[ne=L.charAt(++B)])!=null?ne=L.charAt(++B):ce=ne==="e"?" ":"0",(he=J[ne])&&(ne=he(Z,ce)),$.push(ne),W=B+1);return $.push(L.slice(W,B)),$.join("")}}function C(L,J){return function(Z){var $=Vc(1900,void 0,1),B=I($,L,Z+="",0),W,ae;if(B!=Z.length)return null;if("Q"in $)return new Date($.Q);if("s"in $)return new Date($.s*1e3+("L"in $?$.L:0));if(J&&!("Z"in $)&&($.Z=0),"p"in $&&($.H=$.H%12+$.p*12),$.m===void 0&&($.m="q"in $?$.q:0),"V"in $){if($.V<1||$.V>53)return null;"w"in $||($.w=1),"Z"in $?(W=Cb(Vc($.y,0,1)),ae=W.getUTCDay(),W=ae>4||ae===0?Sm.ceil(W):Sm(W),W=uy.offset(W,($.V-1)*7),$.y=W.getUTCFullYear(),$.m=W.getUTCMonth(),$.d=W.getUTCDate()+($.w+6)%7):(W=Ib(Vc($.y,0,1)),ae=W.getDay(),W=ae>4||ae===0?_m.ceil(W):_m(W),W=sh.offset(W,($.V-1)*7),$.y=W.getFullYear(),$.m=W.getMonth(),$.d=W.getDate()+($.w+6)%7)}else("W"in $||"U"in $)&&("w"in $||($.w="u"in $?$.u%7:"W"in $?1:0),ae="Z"in $?Cb(Vc($.y,0,1)).getUTCDay():Ib(Vc($.y,0,1)).getDay(),$.m=0,$.d="W"in $?($.w+6)%7+$.W*7-(ae+5)%7:$.w+$.U*7-(ae+6)%7);return"Z"in $?($.H+=$.Z/100|0,$.M+=$.Z%100,Cb($)):Ib($)}}function I(L,J,Z,$){for(var B=0,W=J.length,ae=Z.length,ne,ce;B<W;){if($>=ae)return-1;if(ne=J.charCodeAt(B++),ne===37){if(ne=J.charAt(B++),ce=R[ne in Y2?J.charAt(B++):ne],!ce||($=ce(L,Z,$))<0)return-1}else if(ne!=Z.charCodeAt($++))return-1}return $}function T(L,J,Z){var $=u.exec(J.slice(Z));return $?(L.p=c.get($[0].toLowerCase()),Z+$[0].length):-1}function k(L,J,Z){var $=p.exec(J.slice(Z));return $?(L.w=m.get($[0].toLowerCase()),Z+$[0].length):-1}function A(L,J,Z){var $=d.exec(J.slice(Z));return $?(L.w=f.get($[0].toLowerCase()),Z+$[0].length):-1}function j(L,J,Z){var $=w.exec(J.slice(Z));return $?(L.m=_.get($[0].toLowerCase()),Z+$[0].length):-1}function O(L,J,Z){var $=v.exec(J.slice(Z));return $?(L.m=y.get($[0].toLowerCase()),Z+$[0].length):-1}function ee(L,J,Z){return I(L,t,J,Z)}function re(L,J,Z){return I(L,n,J,Z)}function pe(L,J,Z){return I(L,r,J,Z)}function Oe(L){return s[L.getDay()]}function F(L){return o[L.getDay()]}function Q(L){return l[L.getMonth()]}function le(L){return a[L.getMonth()]}function be(L){return i[+(L.getHours()>=12)]}function we(L){return 1+~~(L.getMonth()/3)}function X(L){return s[L.getUTCDay()]}function ie(L){return o[L.getUTCDay()]}function Ie(L){return l[L.getUTCMonth()]}function te(L){return a[L.getUTCMonth()]}function D(L){return i[+(L.getUTCHours()>=12)]}function V(L){return 1+~~(L.getUTCMonth()/3)}return{format:function(L){var J=M(L+="",S);return J.toString=function(){return L},J},parse:function(L){var J=C(L+="",!1);return J.toString=function(){return L},J},utcFormat:function(L){var J=M(L+="",P);return J.toString=function(){return L},J},utcParse:function(L){var J=C(L+="",!0);return J.toString=function(){return L},J}}}var Y2={"-":"",_:" ",0:"0"},Nn=/^\s*\d+/,XJ=/^%/,JJ=/[\\^$*+?|[\]().{}]/g;function ht(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function ZJ(e){return e.replace(JJ,"\\$&")}function Uc(e){return new RegExp("^(?:"+e.map(ZJ).join("|")+")","i")}function zc(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function eZ(e,t,n){var r=Nn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function tZ(e,t,n){var r=Nn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function nZ(e,t,n){var r=Nn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function rZ(e,t,n){var r=Nn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function iZ(e,t,n){var r=Nn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Q2(e,t,n){var r=Nn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function X2(e,t,n){var r=Nn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function oZ(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function sZ(e,t,n){var r=Nn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function aZ(e,t,n){var r=Nn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function J2(e,t,n){var r=Nn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function lZ(e,t,n){var r=Nn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Z2(e,t,n){var r=Nn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function uZ(e,t,n){var r=Nn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function cZ(e,t,n){var r=Nn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function dZ(e,t,n){var r=Nn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function fZ(e,t,n){var r=Nn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function hZ(e,t,n){var r=XJ.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function pZ(e,t,n){var r=Nn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function gZ(e,t,n){var r=Nn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function eO(e,t){return ht(e.getDate(),t,2)}function mZ(e,t){return ht(e.getHours(),t,2)}function vZ(e,t){return ht(e.getHours()%12||12,t,2)}function yZ(e,t){return ht(1+sh.count(Oo(e),e),t,3)}function T3(e,t){return ht(e.getMilliseconds(),t,3)}function bZ(e,t){return T3(e,t)+"000"}function xZ(e,t){return ht(e.getMonth()+1,t,2)}function wZ(e,t){return ht(e.getMinutes(),t,2)}function _Z(e,t){return ht(e.getSeconds(),t,2)}function SZ(e){var t=e.getDay();return t===0?7:t}function EZ(e,t){return ht(cy.count(Oo(e)-1,e),t,2)}function A3(e){var t=e.getDay();return t>=4||t===0?_u(e):_u.ceil(e)}function IZ(e,t){return e=A3(e),ht(_u.count(Oo(e),e)+(Oo(e).getDay()===4),t,2)}function CZ(e){return e.getDay()}function PZ(e,t){return ht(_m.count(Oo(e)-1,e),t,2)}function TZ(e,t){return ht(e.getFullYear()%100,t,2)}function AZ(e,t){return e=A3(e),ht(e.getFullYear()%100,t,2)}function OZ(e,t){return ht(e.getFullYear()%1e4,t,4)}function RZ(e,t){var n=e.getDay();return e=n>=4||n===0?_u(e):_u.ceil(e),ht(e.getFullYear()%1e4,t,4)}function DZ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ht(t/60|0,"0",2)+ht(t%60,"0",2)}function tO(e,t){return ht(e.getUTCDate(),t,2)}function kZ(e,t){return ht(e.getUTCHours(),t,2)}function NZ(e,t){return ht(e.getUTCHours()%12||12,t,2)}function jZ(e,t){return ht(1+uy.count(Ro(e),e),t,3)}function O3(e,t){return ht(e.getUTCMilliseconds(),t,3)}function MZ(e,t){return O3(e,t)+"000"}function LZ(e,t){return ht(e.getUTCMonth()+1,t,2)}function FZ(e,t){return ht(e.getUTCMinutes(),t,2)}function $Z(e,t){return ht(e.getUTCSeconds(),t,2)}function BZ(e){var t=e.getUTCDay();return t===0?7:t}function VZ(e,t){return ht(dy.count(Ro(e)-1,e),t,2)}function R3(e){var t=e.getUTCDay();return t>=4||t===0?Su(e):Su.ceil(e)}function UZ(e,t){return e=R3(e),ht(Su.count(Ro(e),e)+(Ro(e).getUTCDay()===4),t,2)}function zZ(e){return e.getUTCDay()}function WZ(e,t){return ht(Sm.count(Ro(e)-1,e),t,2)}function HZ(e,t){return ht(e.getUTCFullYear()%100,t,2)}function qZ(e,t){return e=R3(e),ht(e.getUTCFullYear()%100,t,2)}function GZ(e,t){return ht(e.getUTCFullYear()%1e4,t,4)}function KZ(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Su(e):Su.ceil(e),ht(e.getUTCFullYear()%1e4,t,4)}function YZ(){return"+0000"}function nO(){return"%"}function rO(e){return+e}function iO(e){return Math.floor(+e/1e3)}var _l,D3,k3;QZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function QZ(e){return _l=QJ(e),D3=_l.format,_l.parse,k3=_l.utcFormat,_l.utcParse,_l}function XZ(e){return new Date(e)}function JZ(e){return e instanceof Date?+e:+new Date(+e)}function KS(e,t,n,r,i,o,s,a,l,u){var c=NS(),d=c.invert,f=c.domain,p=u(".%L"),m=u(":%S"),v=u("%I:%M"),y=u("%I %p"),w=u("%a %d"),_=u("%b %d"),S=u("%B"),P=u("%Y");function R(M){return(l(M)<M?p:a(M)<M?m:s(M)<M?v:o(M)<M?y:r(M)<M?i(M)<M?w:_:n(M)<M?S:P)(M)}return c.invert=function(M){return new Date(d(M))},c.domain=function(M){return arguments.length?f(Array.from(M,JZ)):f().map(XZ)},c.ticks=function(M){var C=f();return e(C[0],C[C.length-1],M??10)},c.tickFormat=function(M,C){return C==null?R:u(C)},c.nice=function(M){var C=f();return(!M||typeof M.range!="function")&&(M=t(C[0],C[C.length-1],M??10)),M?f(b3(C,M)):c},c.copy=function(){return oh(c,KS(e,t,n,r,i,o,s,a,l,u))},c}function ZZ(){return mi.apply(KS(KJ,YJ,Oo,qS,cy,sh,WS,US,Ea,D3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function eee(){return mi.apply(KS(qJ,GJ,Ro,GS,dy,uy,HS,zS,Ea,k3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function fy(){var e=0,t=1,n,r,i,o,s=sr,a=!1,l;function u(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(o(d)-n)*i,a?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(d){return arguments.length?(a=!!d,u):a},u.interpolator=function(d){return arguments.length?(s=d,u):s};function c(d){return function(f){var p,m;return arguments.length?([p,m]=f,s=d(p,m),u):[s(0),s(1)]}}return u.range=c(Gu),u.rangeRound=c(kS),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,n=d(e),r=d(t),i=n===r?0:1/(r-n),u}}function Js(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function N3(){var e=Xs(fy()(sr));return e.copy=function(){return Js(e,N3())},$o.apply(e,arguments)}function j3(){var e=LS(fy()).domain([1,10]);return e.copy=function(){return Js(e,j3()).base(e.base())},$o.apply(e,arguments)}function M3(){var e=FS(fy());return e.copy=function(){return Js(e,M3()).constant(e.constant())},$o.apply(e,arguments)}function YS(){var e=$S(fy());return e.copy=function(){return Js(e,YS()).exponent(e.exponent())},$o.apply(e,arguments)}function tee(){return YS.apply(null,arguments).exponent(.5)}function L3(){var e=[],t=sr;function n(r){if(r!=null&&!isNaN(r=+r))return t((rh(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(bs),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>BX(e,o/r))},n.copy=function(){return L3(t).domain(e)},$o.apply(n,arguments)}function hy(){var e=0,t=.5,n=1,r=1,i,o,s,a,l,u=sr,c,d=!1,f;function p(v){return isNaN(v=+v)?f:(v=.5+((v=+c(v))-o)*(r*v<r*o?a:l),u(d?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,n]=v,i=c(e=+e),o=c(t=+t),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p):[e,t,n]},p.clamp=function(v){return arguments.length?(d=!!v,p):d},p.interpolator=function(v){return arguments.length?(u=v,p):u};function m(v){return function(y){var w,_,S;return arguments.length?([w,_,S]=y,u=hJ(v,[w,_,S]),p):[u(0),u(.5),u(1)]}}return p.range=m(Gu),p.rangeRound=m(kS),p.unknown=function(v){return arguments.length?(f=v,p):f},function(v){return c=v,i=v(e),o=v(t),s=v(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p}}function F3(){var e=Xs(hy()(sr));return e.copy=function(){return Js(e,F3())},$o.apply(e,arguments)}function $3(){var e=LS(hy()).domain([.1,1,10]);return e.copy=function(){return Js(e,$3()).base(e.base())},$o.apply(e,arguments)}function B3(){var e=FS(hy());return e.copy=function(){return Js(e,B3()).constant(e.constant())},$o.apply(e,arguments)}function QS(){var e=$S(hy());return e.copy=function(){return Js(e,QS()).exponent(e.exponent())},$o.apply(e,arguments)}function nee(){return QS.apply(null,arguments).exponent(.5)}const sd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:OS,scaleDiverging:F3,scaleDivergingLog:$3,scaleDivergingPow:QS,scaleDivergingSqrt:nee,scaleDivergingSymlog:B3,scaleIdentity:y3,scaleImplicit:zw,scaleLinear:v3,scaleLog:x3,scaleOrdinal:AS,scalePoint:zX,scalePow:BS,scaleQuantile:S3,scaleQuantize:E3,scaleRadial:_3,scaleSequential:N3,scaleSequentialLog:j3,scaleSequentialPow:YS,scaleSequentialQuantile:L3,scaleSequentialSqrt:tee,scaleSequentialSymlog:M3,scaleSqrt:MJ,scaleSymlog:w3,scaleThreshold:I3,scaleTime:ZZ,scaleUtc:eee,tickFormat:m3},Symbol.toStringTag,{value:"Module"}));var Zs=e=>e.chartData,XS=q([Zs],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),V3=(e,t,n,r)=>r?XS(e):Zs(e);function js(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(cn(t)&&cn(n))return!0}return!1}function oO(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function U3(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,o;if(cn(n))i=n;else if(typeof n=="function")return;if(cn(r))o=r;else if(typeof r=="function")return;var s=[i,o];if(js(s))return s}}function ree(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(js(r))return oO(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,s,a;if(i==="auto")t!=null&&(s=Math.min(...t));else if(Ue(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&EA.test(i)){var l=EA.exec(i);if(l==null||l[1]==null||t==null)s=void 0;else{var u=+l[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(o==="auto")t!=null&&(a=Math.max(...t));else if(Ue(o))a=o;else if(typeof o=="function")try{t!=null&&(a=o(t==null?void 0:t[1]))}catch{}else if(typeof o=="string"&&IA.test(o)){var c=IA.exec(o);if(c==null||c[1]==null||t==null)a=void 0;else{var d=+c[1];a=t[1]+d}}else a=t==null?void 0:t[1];var f=[s,a];if(js(f))return t==null?f:oO(f,t,n)}}}var Ku=1e9,iee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ZS,Nt=!0,hi="[DecimalError] ",Da=hi+"Invalid argument: ",JS=hi+"Exponent out of range: ",Yu=Math.floor,pa=Math.pow,oee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Nr,Pn=1e7,Ot=7,z3=9007199254740991,Em=Yu(z3/Ot),Te={};Te.absoluteValue=Te.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Te.comparedTo=Te.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Ot;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Te.dividedBy=Te.div=function(e){return yo(this,new this.constructor(e))};Te.dividedToIntegerBy=Te.idiv=function(e){var t=this,n=t.constructor;return wt(yo(t,new n(e),0,1),n.precision)};Te.equals=Te.eq=function(e){return!this.cmp(e)};Te.exponent=function(){return ln(this)};Te.greaterThan=Te.gt=function(e){return this.cmp(e)>0};Te.greaterThanOrEqualTo=Te.gte=function(e){return this.cmp(e)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(e){return this.cmp(e)<0};Te.lessThanOrEqualTo=Te.lte=function(e){return this.cmp(e)<1};Te.logarithm=Te.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Nr))throw Error(hi+"NaN");if(n.s<1)throw Error(hi+(n.s?"NaN":"-Infinity"));return n.eq(Nr)?new r(0):(Nt=!1,t=yo(df(n,o),df(e,o),o),Nt=!0,wt(t,i))};Te.minus=Te.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?q3(t,e):W3(t,(e.s=-e.s,e))};Te.modulo=Te.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(hi+"NaN");return n.s?(Nt=!1,t=yo(n,e,0,1).times(e),Nt=!0,n.minus(t)):wt(new r(n),i)};Te.naturalExponential=Te.exp=function(){return H3(this)};Te.naturalLogarithm=Te.ln=function(){return df(this)};Te.negated=Te.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Te.plus=Te.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?W3(t,e):q3(t,(e.s=-e.s,e))};Te.precision=Te.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Da+e);if(t=ln(i)+1,r=i.d.length-1,n=r*Ot+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Te.squareRoot=Te.sqrt=function(){var e,t,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(hi+"NaN")}for(e=ln(a),Nt=!1,i=Math.sqrt(+a),i==0||i==1/0?(t=Qi(a.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Yu((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(yo(a,o,s+2)).times(.5),Qi(o.d).slice(0,s)===(t=Qi(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(wt(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(t!="9999")break;s+=4}return Nt=!0,wt(r,n)};Te.times=Te.mul=function(e){var t,n,r,i,o,s,a,l,u,c=this,d=c.constructor,f=c.d,p=(e=new d(e)).d;if(!c.s||!e.s)return new d(0);for(e.s*=c.s,n=c.e+e.e,l=f.length,u=p.length,l<u&&(o=f,f=p,p=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)a=o[i]+p[r]*f[i-r-1]+t,o[i--]=a%Pn|0,t=a/Pn|0;o[i]=(o[i]+t)%Pn|0}for(;!o[--s];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,Nt?wt(e,d.precision):e};Te.toDecimalPlaces=Te.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(no(e,0,Ku),t===void 0?t=r.rounding:no(t,0,8),wt(n,e+ln(n)+1,t))};Te.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Ha(r,!0):(no(e,0,Ku),t===void 0?t=i.rounding:no(t,0,8),r=wt(new i(r),e+1,t),n=Ha(r,!0,e+1)),n};Te.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?Ha(i):(no(e,0,Ku),t===void 0?t=o.rounding:no(t,0,8),r=wt(new o(i),e+ln(i)+1,t),n=Ha(r.abs(),!1,e+ln(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Te.toInteger=Te.toint=function(){var e=this,t=e.constructor;return wt(new t(e),ln(e)+1,t.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(e){var t,n,r,i,o,s,a=this,l=a.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(Nr);if(a=new l(a),!a.s){if(e.s<1)throw Error(hi+"Infinity");return a}if(a.eq(Nr))return a;if(r=l.precision,e.eq(Nr))return wt(a,r);if(t=e.e,n=e.d.length-1,s=t>=n,o=a.s,s){if((n=c<0?-c:c)<=z3){for(i=new l(Nr),t=Math.ceil(r/Ot+4),Nt=!1;n%2&&(i=i.times(a),aO(i.d,t)),n=Yu(n/2),n!==0;)a=a.times(a),aO(a.d,t);return Nt=!0,e.s<0?new l(Nr).div(i):wt(i,r)}}else if(o<0)throw Error(hi+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,a.s=1,Nt=!1,i=e.times(df(a,r+u)),Nt=!0,i=H3(i),i.s=o,i};Te.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=ln(i),r=Ha(i,n<=o.toExpNeg||n>=o.toExpPos)):(no(e,1,Ku),t===void 0?t=o.rounding:no(t,0,8),i=wt(new o(i),e,t),n=ln(i),r=Ha(i,e<=n||n<=o.toExpNeg,e)),r};Te.toSignificantDigits=Te.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(no(e,1,Ku),t===void 0?t=r.rounding:no(t,0,8)),wt(new r(n),e,t)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ln(e),n=e.constructor;return Ha(e,t<=n.toExpNeg||t>=n.toExpPos)};function W3(e,t){var n,r,i,o,s,a,l,u,c=e.constructor,d=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),Nt?wt(t,d):t;if(l=e.d,u=t.d,s=e.e,i=t.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(d/Ot),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Pn|0,l[o]%=Pn;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return t.d=l,t.e=i,Nt?wt(t,d):t}function no(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Da+e)}function Qi(e){var t,n,r,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)r=e[t]+"",n=Ot-r.length,n&&(o+=Zo(n)),o+=r;s=e[t],r=s+"",n=Ot-r.length,n&&(o+=Zo(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var yo=function(){function e(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%Pn|0,s=o/Pn|0;return s&&r.unshift(s),r}function t(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*Pn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,c,d,f,p,m,v,y,w,_,S,P,R,M,C,I,T=r.constructor,k=r.s==i.s?1:-1,A=r.d,j=i.d;if(!r.s)return new T(r);if(!i.s)throw Error(hi+"Division by zero");for(l=r.e-i.e,C=j.length,R=A.length,p=new T(k),m=p.d=[],u=0;j[u]==(A[u]||0);)++u;if(j[u]>(A[u]||0)&&--l,o==null?_=o=T.precision:s?_=o+(ln(r)-ln(i))+1:_=o,_<0)return new T(0);if(_=_/Ot+2|0,u=0,C==1)for(c=0,j=j[0],_++;(u<R||c)&&_--;u++)S=c*Pn+(A[u]||0),m[u]=S/j|0,c=S%j|0;else{for(c=Pn/(j[0]+1)|0,c>1&&(j=e(j,c),A=e(A,c),C=j.length,R=A.length),P=C,v=A.slice(0,C),y=v.length;y<C;)v[y++]=0;I=j.slice(),I.unshift(0),M=j[0],j[1]>=Pn/2&&++M;do c=0,a=t(j,v,C,y),a<0?(w=v[0],C!=y&&(w=w*Pn+(v[1]||0)),c=w/M|0,c>1?(c>=Pn&&(c=Pn-1),d=e(j,c),f=d.length,y=v.length,a=t(d,v,f,y),a==1&&(c--,n(d,C<f?I:j,f))):(c==0&&(a=c=1),d=j.slice()),f=d.length,f<y&&d.unshift(0),n(v,d,y),a==-1&&(y=v.length,a=t(j,v,C,y),a<1&&(c++,n(v,C<y?I:j,y))),y=v.length):a===0&&(c++,v=[0]),m[u++]=c,a&&v[0]?v[y++]=A[P]||0:(v=[A[P]],y=1);while((P++<R||v[0]!==void 0)&&_--)}return m[0]||m.shift(),p.e=l,wt(p,s?o+ln(p)+1:o)}}();function H3(e,t){var n,r,i,o,s,a,l=0,u=0,c=e.constructor,d=c.precision;if(ln(e)>16)throw Error(JS+ln(e));if(!e.s)return new c(Nr);for(Nt=!1,a=d,s=new c(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(r=Math.log(pa(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new c(Nr),c.precision=a;;){if(i=wt(i.times(e),a),n=n.times(++l),s=o.plus(yo(i,n,a)),Qi(s.d).slice(0,a)===Qi(o.d).slice(0,a)){for(;u--;)o=wt(o.times(o),a);return c.precision=d,t==null?(Nt=!0,wt(o,d)):o}o=s}}function ln(e){for(var t=e.e*Ot,n=e.d[0];n>=10;n/=10)t++;return t}function Pb(e,t,n){if(t>e.LN10.sd())throw Nt=!0,n&&(e.precision=n),Error(hi+"LN10 precision limit exceeded");return wt(new e(e.LN10),t)}function Zo(e){for(var t="";e--;)t+="0";return t}function df(e,t){var n,r,i,o,s,a,l,u,c,d=1,f=10,p=e,m=p.d,v=p.constructor,y=v.precision;if(p.s<1)throw Error(hi+(p.s?"NaN":"-Infinity"));if(p.eq(Nr))return new v(0);if(t==null?(Nt=!1,u=y):u=t,p.eq(10))return t==null&&(Nt=!0),Pb(v,u);if(u+=f,v.precision=u,n=Qi(m),r=n.charAt(0),o=ln(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=Qi(p.d),r=n.charAt(0),d++;o=ln(p),r>1?(p=new v("0."+n),o++):p=new v(r+"."+n.slice(1))}else return l=Pb(v,u+2,y).times(o+""),p=df(new v(r+"."+n.slice(1)),u-f).plus(l),v.precision=y,t==null?(Nt=!0,wt(p,y)):p;for(a=s=p=yo(p.minus(Nr),p.plus(Nr),u),c=wt(p.times(p),u),i=3;;){if(s=wt(s.times(c),u),l=a.plus(yo(s,new v(i),u)),Qi(l.d).slice(0,u)===Qi(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(Pb(v,u+2,y).times(o+""))),a=yo(a,new v(d),u),v.precision=y,t==null?(Nt=!0,wt(a,y)):a;a=l,i+=2}}function sO(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Yu(n/Ot),e.d=[],r=(n+1)%Ot,n<0&&(r+=Ot),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Ot;r<i;)e.d.push(+t.slice(r,r+=Ot));t=t.slice(r),r=Ot-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Nt&&(e.e>Em||e.e<-Em))throw Error(JS+n)}else e.s=0,e.e=0,e.d=[0];return e}function wt(e,t,n){var r,i,o,s,a,l,u,c,d=e.d;for(s=1,o=d[0];o>=10;o/=10)s++;if(r=t-s,r<0)r+=Ot,i=t,u=d[c=0];else{if(c=Math.ceil((r+1)/Ot),o=d.length,c>=o)return e;for(u=o=d[c],s=1;o>=10;o/=10)s++;r%=Ot,i=r-Ot+s}if(n!==void 0&&(o=pa(10,s-i-1),a=u/o%10|0,l=t<0||d[c+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(e.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/pa(10,s-i):0:d[c-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return l?(o=ln(e),d.length=1,t=t-o-1,d[0]=pa(10,(Ot-t%Ot)%Ot),e.e=Yu(-t/Ot)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(r==0?(d.length=c,o=1,c--):(d.length=c+1,o=pa(10,Ot-r),d[c]=i>0?(u/pa(10,s-i)%pa(10,i)|0)*o:0),l)for(;;)if(c==0){(d[0]+=o)==Pn&&(d[0]=1,++e.e);break}else{if(d[c]+=o,d[c]!=Pn)break;d[c--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(Nt&&(e.e>Em||e.e<-Em))throw Error(JS+ln(e));return e}function q3(e,t){var n,r,i,o,s,a,l,u,c,d,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),Nt?wt(t,p):t;if(l=e.d,d=t.d,r=t.e,u=e.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,a=d.length):(n=d,r=u,a=l.length),i=Math.max(Math.ceil(p/Ot),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=d.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}s=0}for(c&&(n=l,l=d,d=n,t.s=-t.s),a=l.length,i=d.length-a;i>0;--i)l[a++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=Pn-1;--l[o],l[i]+=Pn}l[i]-=d[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,Nt?wt(t,p):t):new f(0)}function Ha(e,t,n){var r,i=ln(e),o=Qi(e.d),s=o.length;return t?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+Zo(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Zo(-i-1)+o,n&&(r=n-s)>0&&(o+=Zo(r))):i>=s?(o+=Zo(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+Zo(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=Zo(r))),e.s<0?"-"+o:o}function aO(e,t){if(e.length>t)return e.length=t,!0}function G3(e){var t,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Da+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return sO(s,o.toString())}else if(typeof o!="string")throw Error(Da+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,oee.test(o))sO(s,o);else throw Error(Da+o)}if(i.prototype=Te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=G3,i.config=i.set=see,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function see(e){if(!e||typeof e!="object")throw Error(hi+"Object expected");var t,n,r,i=["precision",1,Ku,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Yu(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Da+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Da+n+": "+r);return this}var ZS=G3(iee);Nr=new ZS(1);const gt=ZS;var aee=e=>e,K3={},Y3=e=>e===K3,lO=e=>function t(){return arguments.length===0||arguments.length===1&&Y3(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Q3=(e,t)=>e===1?t:lO(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(s=>s!==K3).length;return o>=e?t(...r):Q3(e-o,lO(function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];var u=r.map(c=>Y3(c)?a.shift():c);return t(...u,...a)}))}),lee=e=>Q3(e.length,e),Gw=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},uee=lee((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),cee=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return aee;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce((a,l)=>l(a),o(...arguments))}};function X3(e){var t;return e===0?t=1:t=Math.floor(new gt(e).abs().log(10).toNumber())+1,t}function J3(e,t,n){for(var r=new gt(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Z3=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},e6=(e,t,n)=>{if(e.lte(0))return new gt(0);var r=X3(e.toNumber()),i=new gt(10).pow(r),o=e.div(i),s=r!==1?.05:.1,a=new gt(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return t?new gt(l.toNumber()):new gt(Math.ceil(l.toNumber()))},dee=(e,t,n)=>{var r=new gt(1),i=new gt(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new gt(10).pow(X3(e)-1),i=new gt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new gt(Math.floor(e)))}else e===0?i=new gt(Math.floor((t-1)/2)):n||(i=new gt(Math.floor(e)));var s=Math.floor((t-1)/2),a=cee(uee(l=>i.add(new gt(l-s).mul(r)).toNumber()),Gw);return a(0,t)},t6=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new gt(0),tickMin:new gt(0),tickMax:new gt(0)};var s=e6(new gt(n).sub(t).div(r-1),i,o),a;t<=0&&n>=0?a=new gt(0):(a=new gt(t).add(n).div(2),a=a.sub(new gt(a).mod(s)));var l=Math.ceil(a.sub(t).div(s).toNumber()),u=Math.ceil(new gt(n).sub(a).div(s).toNumber()),c=l+u+1;return c>r?t6(t,n,r,i,o+1):(c<r&&(u=n>0?u+(r-c):u,l=n>0?l:l+(r-c)),{step:s,tickMin:a.sub(new gt(l).mul(s)),tickMax:a.add(new gt(u).mul(s))})},fee=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[a,l]=Z3([n,r]);if(a===-1/0||l===1/0){var u=l===1/0?[a,...Gw(0,i-1).map(()=>1/0)]:[...Gw(0,i-1).map(()=>-1/0),l];return n>r?u.reverse():u}if(a===l)return dee(a,i,o);var{step:c,tickMin:d,tickMax:f}=t6(a,l,s,o,0),p=J3(d,f.add(new gt(.1).mul(c)),c);return n>r?p.reverse():p},hee=function(t,n){var[r,i]=t,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=Z3([r,i]);if(s===-1/0||a===1/0)return[r,i];if(s===a)return[s];var l=Math.max(n,2),u=e6(new gt(a).sub(s).div(l-1),o,0),c=[...J3(new gt(s),new gt(a),u),a];return o===!1&&(c=c.map(d=>Math.round(d))),r>i?c.reverse():c},pee=e=>e.rootProps.barCategoryGap,ah=e=>e.rootProps.stackOffset,n6=e=>e.rootProps.reverseStackOrder,eE=e=>e.options.chartName,tE=e=>e.rootProps.syncId,r6=e=>e.rootProps.syncMethod,nE=e=>e.options.eventEmitter,Ci={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},co={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},kr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},py=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},gee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:co.angleAxisId,includeHidden:!1,name:void 0,reversed:co.reversed,scale:co.scale,tick:co.tick,tickCount:void 0,ticks:void 0,type:co.type,unit:void 0},mee={allowDataOverflow:kr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:kr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:kr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:kr.scale,tick:kr.tick,tickCount:kr.tickCount,ticks:void 0,type:kr.type,unit:void 0},vee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:co.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:co.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:co.scale,tick:co.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},yee={allowDataOverflow:kr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:kr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:kr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:kr.scale,tick:kr.tick,tickCount:kr.tickCount,ticks:void 0,type:"category",unit:void 0},rE=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?vee:gee,iE=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?yee:mee,gy=e=>e.polarOptions,oE=q([Lo,Fo,kn],ZL),i6=q([gy,oE],(e,t)=>{if(e!=null)return $r(e.innerRadius,t,0)}),o6=q([gy,oE],(e,t)=>{if(e!=null)return $r(e.outerRadius,t,t*.8)}),bee=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},s6=q([gy],bee);q([rE,s6],py);var a6=q([oE,i6,o6],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});q([iE,a6],py);var l6=q([Pt,gy,i6,o6,Lo,Fo],(e,t,n,r,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:a,startAngle:l,endAngle:u}=t;return{cx:$r(s,i,i/2),cy:$r(a,o,o/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),jt=(e,t)=>t,lh=(e,t,n)=>n;function u6(e){return e==null?void 0:e.id}function c6(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,s=new Map;return e.forEach(a=>{var l,u=(l=a.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var c=u6(a);u.forEach((d,f)=>{var p=o==null||i?f:String(Kt(d,o,null)),m=Kt(d,a.dataKey,0),v;s.has(p)?v=s.get(p):v={},Object.assign(v,{[c]:m}),s.set(p,v)})}}),Array.from(s.values())}function sE(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var my=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function vy(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function xee(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var wn=e=>{var t=Pt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Qu=e=>e.tooltip.settings.axisId;function uO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Im(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(n),!0).forEach(function(r){wee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wee(e,t,n){return(t=_ee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _ee(e){var t=See(e,"string");return typeof t=="symbol"?t:t+""}function See(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kw=[0,"auto"],Eee={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Iee=(e,t)=>e.cartesianAxis.xAxis[t],ea=(e,t)=>{var n=Iee(e,t);return n??Eee},Cee={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Kw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:th},Pee=(e,t)=>e.cartesianAxis.yAxis[t],ta=(e,t)=>{var n=Pee(e,t);return n??Cee},Tee={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},aE=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Tee},Vt=(e,t,n)=>{switch(t){case"xAxis":return ea(e,n);case"yAxis":return ta(e,n);case"zAxis":return aE(e,n);case"angleAxis":return rE(e,n);case"radiusAxis":return iE(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Aee=(e,t,n)=>{switch(t){case"xAxis":return ea(e,n);case"yAxis":return ta(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},uh=(e,t,n)=>{switch(t){case"xAxis":return ea(e,n);case"yAxis":return ta(e,n);case"angleAxis":return rE(e,n);case"radiusAxis":return iE(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},d6=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function lE(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Oee=e=>e.graphicalItems.cartesianItems,Ree=q([jt,lh],lE),uE=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),ch=q([Oee,Vt,Ree],uE,{memoizeOptions:{resultEqualityCheck:vy}}),f6=q([ch],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(sE)),h6=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Dee=q([ch],h6),cE=e=>e.map(t=>t.data).filter(Boolean).flat(1),kee=q([ch],cE,{memoizeOptions:{resultEqualityCheck:vy}}),dE=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},fE=q([kee,V3],dE),hE=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Kt(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Kt(i,r)}))):e.map(r=>({value:r})),yy=q([fE,Vt,ch],hE);function p6(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function lg(e){if(Po(e)||e instanceof Date){var t=Number(e);if(cn(t))return t}}function cO(e){if(Array.isArray(e)){var t=[lg(e[0]),lg(e[1])];return js(t)?t:void 0}var n=lg(e);if(n!=null)return[n,n]}function Do(e){return e.map(lg).filter(iG)}function Nee(e,t,n){return!n||typeof t!="number"||Io(t)?[]:n.length?Do(n.flatMap(r=>{var i=Kt(e,r.dataKey),o,s;if(Array.isArray(i)?[o,s]=i:o=s=i,!(!cn(o)||!cn(s)))return[t-o,t+s]})):[]}var _n=e=>{var t=wn(e),n=Qu(e);return uh(e,t,n)},dh=q([_n],e=>e==null?void 0:e.dataKey),jee=q([f6,V3,_n],c6),g6=(e,t,n,r)=>{var i={},o=t.reduce((s,a)=>{if(a.stackId==null)return s;var l=s[a.stackId];return l==null&&(l=[]),l.push(a),s[a.stackId]=l,s},i);return Object.fromEntries(Object.entries(o).map(s=>{var[a,l]=s,u=r?[...l].reverse():l,c=u.map(u6);return[a,{stackedData:pY(e,c,n),graphicalItems:u}]}))},Mee=q([jee,f6,ah,n6],g6),m6=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=t;if(r==null&&n!=="zAxis"){var s=vY(e,i,o);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Lee=q([Vt],e=>e.allowDataOverflow),pE=e=>{var t;if(e==null||!("domain"in e))return Kw;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=Do(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Kw},gE=q([Vt],pE),mE=q([gE,Lee],U3),Fee=q([Mee,Zs,jt,mE],m6,{memoizeOptions:{resultEqualityCheck:my}}),by=e=>e.errorBars,$ee=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>p6(n,r)),Cm=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),s=Math.min(...o),a=Math.max(...o);return[s,a]}},vE=(e,t,n,r,i)=>{var o,s;if(n.length>0&&e.forEach(a=>{n.forEach(l=>{var u,c,d=(u=r[l.id])===null||u===void 0?void 0:u.filter(w=>p6(i,w)),f=Kt(a,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey),p=Nee(a,f,d);if(p.length>=2){var m=Math.min(...p),v=Math.max(...p);(o==null||m<o)&&(o=m),(s==null||v>s)&&(s=v)}var y=cO(f);y!=null&&(o=o==null?y[0]:Math.min(o,y[0]),s=s==null?y[1]:Math.max(s,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(a=>{var l=cO(Kt(a,t.dataKey));l!=null&&(o=o==null?l[0]:Math.min(o,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),cn(o)&&cn(s))return[o,s]},Bee=q([fE,Vt,Dee,by,jt],vE,{memoizeOptions:{resultEqualityCheck:my}});function Vee(e){var{value:t}=e;if(Po(t)||t instanceof Date)return t}var Uee=(e,t,n)=>{var r=e.map(Vee).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&w4(r))?s3(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},v6=e=>e.referenceElements.dots,Xu=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),zee=q([v6,jt,lh],Xu),y6=e=>e.referenceElements.areas,Wee=q([y6,jt,lh],Xu),b6=e=>e.referenceElements.lines,Hee=q([b6,jt,lh],Xu),x6=(e,t)=>{if(e!=null){var n=Do(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},qee=q(zee,jt,x6),w6=(e,t)=>{if(e!=null){var n=Do(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Gee=q([Wee,jt],w6);function Kee(e){var t;if(e.x!=null)return Do([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Do(n)}function Yee(e){var t;if(e.y!=null)return Do([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Do(n)}var _6=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?Kee(r):Yee(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Qee=q([Hee,jt],_6),Xee=q(qee,Qee,Gee,(e,t,n)=>Cm(e,n,t)),yE=(e,t,n,r,i,o,s,a)=>{if(n!=null)return n;var l=s==="vertical"&&a==="xAxis"||s==="horizontal"&&a==="yAxis",u=l?Cm(r,o,i):Cm(o,i);return ree(t,u,e.allowDataOverflow)},Jee=q([Vt,gE,mE,Fee,Bee,Xee,Pt,jt],yE,{memoizeOptions:{resultEqualityCheck:my}}),Zee=[0,1],bE=(e,t,n,r,i,o,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:a,type:l}=e,u=dl(t,o);if(u&&a==null){var c;return s3(0,(c=n==null?void 0:n.length)!==null&&c!==void 0?c:0)}return l==="category"?Uee(r,e,u):i==="expand"?Zee:s}},xE=q([Vt,Pt,fE,yy,ah,jt,Jee],bE),S6=(e,t,n,r,i)=>{if(e!=null){var{scale:o,type:s}=e;if(o==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof o=="string"){var a="scale".concat(Qf(o));return a in sd?a:"point"}}},Ju=q([Vt,Pt,d6,eE,jt],S6);function ete(e){if(e!=null){if(e in sd)return sd[e]();var t="scale".concat(Qf(e));if(t in sd)return sd[t]()}}function wE(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=ete(t);if(i!=null){var o=i.domain(n).range(r);return cY(o),o}}}var _E=(e,t,n)=>{var r=pE(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&js(e))return fee(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&js(e))return hee(e,t.tickCount,t.allowDecimals)}},SE=q([xE,uh,Ju],_E),EE=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&js(t)&&Array.isArray(n)&&n.length>0){var i=t[0],o=n[0],s=t[1],a=n[n.length-1];return[Math.min(i,o),Math.max(s,a)]}return t},tte=q([Vt,xE,SE,jt],EE),nte=q(yy,Vt,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Do(e.map(d=>d.value))).sort((d,f)=>d-f),i=r[0],o=r[r.length-1];if(i==null||o==null)return 1/0;var s=o-i;if(s===0)return 1/0;for(var a=0;a<r.length-1;a++){var l=r[a],u=r[a+1];if(!(l==null||u==null)){var c=u-l;n=Math.min(n,c)}}return n/s}}),E6=q(nte,Pt,pee,kn,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!cn(e))return 0;var o=t==="vertical"?r.height:r.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var s=$r(n,e*o),a=e*o/2;return a-s-(a-s)/o*s}return 0}),rte=(e,t,n)=>{var r=ea(e,t);return r==null||typeof r.padding!="string"?0:E6(e,"xAxis",t,n,r.padding)},ite=(e,t,n)=>{var r=ta(e,t);return r==null||typeof r.padding!="string"?0:E6(e,"yAxis",t,n,r.padding)},ote=q(ea,rte,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),ste=q(ta,ite,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),ate=q([kn,ote,ty,ey,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),lte=q([kn,Pt,ste,ty,ey,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:s}=i;return o?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),fh=(e,t,n,r)=>{var i;switch(t){case"xAxis":return ate(e,n,r);case"yAxis":return lte(e,n,r);case"zAxis":return(i=aE(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return s6(e);case"radiusAxis":return a6(e,n);default:return}},I6=q([Vt,fh],py),xy=q([Vt,Ju,tte,I6],wE);q([ch,by,jt],$ee);function C6(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var wy=(e,t)=>t,_y=(e,t,n)=>n,ute=q(Jv,wy,_y,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(C6)),cte=q(Zv,wy,_y,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(C6)),P6=(e,t)=>({width:e.width,height:t.height}),dte=(e,t)=>{var n=typeof t.width=="number"?t.width:th;return{width:n,height:e.height}};q(kn,ea,P6);var fte=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},hte=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},pte=q(Fo,kn,ute,wy,_y,(e,t,n,r,i)=>{var o={},s;return n.forEach(a=>{var l=P6(t,a);s==null&&(s=fte(t,r,e));var u=r==="top"&&!i||r==="bottom"&&i;o[a.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),o}),gte=q(Lo,kn,cte,wy,_y,(e,t,n,r,i)=>{var o={},s;return n.forEach(a=>{var l=dte(t,a);s==null&&(s=hte(t,r,e));var u=r==="left"&&!i||r==="right"&&i;o[a.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),o}),mte=(e,t)=>{var n=ea(e,t);if(n!=null)return pte(e,n.orientation,n.mirror)};q([kn,ea,mte,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}});var vte=(e,t)=>{var n=ta(e,t);if(n!=null)return gte(e,n.orientation,n.mirror)};q([kn,ta,vte,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}});q(kn,ta,(e,t)=>{var n=typeof t.width=="number"?t.width:th;return{width:n,height:e.height}});var T6=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:s}=n,a=dl(e,r),l=t.map(u=>u.value);if(s&&a&&o==="category"&&i&&w4(l))return l}},IE=q([Pt,yy,Vt,jt],T6),A6=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,s=dl(e,r);if(s&&(i==="number"||o!=="auto"))return t.map(a=>a.value)}},CE=q([Pt,yy,uh,jt],A6);q([Pt,Aee,Ju,xy,IE,CE,fh,SE,jt],(e,t,n,r,i,o,s,a,l)=>{if(t!=null){var u=dl(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:o,duplicateDomain:i,isCategorical:u,niceTicks:a,range:s,realScaleType:n,scale:r}}});var yte=(e,t,n,r,i,o,s,a,l)=>{if(!(t==null||r==null)){var u=dl(e,l),{type:c,ticks:d,tickCount:f}=t,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,m=c==="category"&&r.bandwidth?r.bandwidth()/p:0;m=l==="angleAxis"&&o!=null&&o.length>=2?br(o[0]-o[1])*2*m:m;var v=d||i;if(v){var y=v.map((w,_)=>{var S=s?s.indexOf(w):w;return{index:_,coordinate:r(S)+m,value:w,offset:m}});return y.filter(w=>cn(w.coordinate))}return u&&a?a.map((w,_)=>({coordinate:r(w)+m,value:w,index:_,offset:m})).filter(w=>cn(w.coordinate)):r.ticks?r.ticks(f).map(w=>({coordinate:r(w)+m,value:w,offset:m})):r.domain().map((w,_)=>({coordinate:r(w)+m,value:s?s[w]:w,index:_,offset:m}))}};q([Pt,uh,Ju,xy,SE,fh,IE,CE,jt],yte);var bte=(e,t,n,r,i,o,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var a=dl(e,s),{tickCount:l}=t,u=0;return u=s==="angleAxis"&&(r==null?void 0:r.length)>=2?br(r[0]-r[1])*2*u:u,a&&o?o.map((c,d)=>({coordinate:n(c)+u,value:c,index:d,offset:u})):n.ticks?n.ticks(l).map(c=>({coordinate:n(c)+u,value:c,offset:u})):n.domain().map((c,d)=>({coordinate:n(c)+u,value:i?i[c]:c,index:d,offset:u}))}};q([Pt,uh,xy,fh,IE,CE,jt],bte);q(Vt,xy,(e,t)=>{if(!(e==null||t==null))return Im(Im({},e),{},{scale:t})});var xte=q([Vt,Ju,xE,I6],wE);q((e,t,n)=>aE(e,n),xte,(e,t)=>{if(!(e==null||t==null))return Im(Im({},e),{},{scale:t})});var wte=q([Pt,Jv,Zv],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),O6=e=>e.options.defaultTooltipEventType,R6=e=>e.options.validateTooltipEventTypes;function D6(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function PE(e,t){var n=O6(e),r=R6(e);return D6(t,n,r)}function _te(e){return Ye(t=>PE(t,e))}var k6=(e,t)=>{var n,r=Number(t);if(!(Io(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Ste=e=>e.tooltip.settings,ns={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Ete={itemInteraction:{click:ns,hover:ns},axisInteraction:{click:ns,hover:ns},keyboardInteraction:ns,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},N6=Cr({name:"tooltip",initialState:Ete,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Dt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ri(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:Dt()},removeTooltipEntrySettings:{reducer(e,t){var n=Ri(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Dt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:Ite,replaceTooltipEntrySettings:Cte,removeTooltipEntrySettings:Pte,setTooltipSettingsState:Tte,setActiveMouseOverItemIndex:j6,mouseLeaveItem:Ate,mouseLeaveChart:M6,setActiveClickItemIndex:Ote,setMouseOverAxisIndex:L6,setMouseClickAxisIndex:Rte,setSyncInteraction:Yw,setKeyboardInteraction:Qw}=N6.actions,Dte=N6.reducer;function dO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ap(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dO(Object(n),!0).forEach(function(r){kte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kte(e,t,n){return(t=Nte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nte(e){var t=jte(e,"string");return typeof t=="symbol"?t:t+""}function jte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mte(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Lte(e){return e.index!=null}var F6=(e,t,n,r)=>{if(t==null)return ns;var i=Mte(e,t,n);if(i==null)return ns;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(Lte(i)){if(o)return Ap(Ap({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Ap(Ap({},ns),{},{coordinate:i.coordinate})};function Fte(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function $te(e,t){var n=Fte(e),r=t[0],i=t[1];if(n===void 0)return!1;var o=Math.min(r,i),s=Math.max(r,i);return n>=o&&n<=s}function Bte(e,t,n){if(n==null||t==null)return!0;var r=Kt(e,t);return r==null||!js(n)?!0:$te(r,n)}var TE=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var o=Number(i);if(!cn(o))return i;var s=0,a=1/0;t.length>0&&(a=t.length-1);var l=Math.max(s,Math.min(o,a)),u=t[l];return u==null||Bte(u,n,r)?String(l):null},$6=(e,t,n,r,i,o,s,a)=>{if(!(o==null||a==null)){var l=s[0],u=l==null?void 0:a(l.positions,o);if(u!=null)return u;var c=i==null?void 0:i[Number(o)];if(c)switch(n){case"horizontal":return{x:c.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:c.coordinate}}}},B6=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var o=e.tooltipItemPayloads[0];return o!=null?[o]:[]}return e.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.graphicalItemId)===i})},hh=e=>e.options.tooltipPayloadSearcher,Zu=e=>e.tooltip;function fO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fO(Object(n),!0).forEach(function(r){Vte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vte(e,t,n){return(t=Ute(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ute(e){var t=zte(e,"string");return typeof t=="symbol"?t:t+""}function zte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wte(e,t){return e??t}var V6=(e,t,n,r,i,o,s)=>{if(!(t==null||o==null)){var{chartData:a,computedData:l,dataStartIndex:u,dataEndIndex:c}=n,d=[];return e.reduce((f,p)=>{var m,{dataDefinedOnItem:v,settings:y}=p,w=Wte(v,a),_=Array.isArray(w)?TL(w,u,c):w,S=(m=y==null?void 0:y.dataKey)!==null&&m!==void 0?m:r,P=y==null?void 0:y.nameKey,R;if(r&&Array.isArray(_)&&!Array.isArray(_[0])&&s==="axis"?R=rG(_,r,i):R=o(_,t,l,P),Array.isArray(R))R.forEach(C=>{var I=hO(hO({},y),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});f.push(PA({tooltipEntrySettings:I,dataKey:C.dataKey,payload:C.payload,value:Kt(C.payload,C.dataKey),name:C.name}))});else{var M;f.push(PA({tooltipEntrySettings:y,dataKey:S,payload:R,value:Kt(R,S),name:(M=Kt(R,P))!==null&&M!==void 0?M:y==null?void 0:y.name}))}return f},d)}},AE=q([_n,Pt,d6,eE,wn],S6),Hte=q([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),qte=q([wn,Qu],lE),ec=q([Hte,_n,qte],uE,{memoizeOptions:{resultEqualityCheck:vy}}),Gte=q([ec],e=>e.filter(sE)),Kte=q([ec],cE,{memoizeOptions:{resultEqualityCheck:vy}}),tc=q([Kte,Zs],dE),Yte=q([Gte,Zs,_n],c6),OE=q([tc,_n,ec],hE),U6=q([_n],pE),Qte=q([_n],e=>e.allowDataOverflow),z6=q([U6,Qte],U3),Xte=q([ec],e=>e.filter(sE)),Jte=q([Yte,Xte,ah,n6],g6),Zte=q([Jte,Zs,wn,z6],m6),ene=q([ec],h6),tne=q([tc,_n,ene,by,wn],vE,{memoizeOptions:{resultEqualityCheck:my}}),nne=q([v6,wn,Qu],Xu),rne=q([nne,wn],x6),ine=q([y6,wn,Qu],Xu),one=q([ine,wn],w6),sne=q([b6,wn,Qu],Xu),ane=q([sne,wn],_6),lne=q([rne,ane,one],Cm),une=q([_n,U6,z6,Zte,tne,lne,Pt,wn],yE),ph=q([_n,Pt,tc,OE,ah,wn,une],bE),cne=q([ph,_n,AE],_E),dne=q([_n,ph,cne,wn],EE),W6=e=>{var t=wn(e),n=Qu(e),r=!1;return fh(e,t,n,r)},H6=q([_n,W6],py),q6=q([_n,AE,dne,H6],wE),fne=q([Pt,OE,_n,wn],T6),hne=q([Pt,OE,_n,wn],A6),pne=(e,t,n,r,i,o,s,a)=>{if(t){var{type:l}=t,u=dl(e,a);if(r){var c=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,d=l==="category"&&r.bandwidth?r.bandwidth()/c:0;return d=a==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?br(i[0]-i[1])*2*d:d,u&&s?s.map((f,p)=>({coordinate:r(f)+d,value:f,index:p,offset:d})):r.domain().map((f,p)=>({coordinate:r(f)+d,value:o?o[f]:f,index:p,offset:d}))}}},Bo=q([Pt,_n,AE,q6,W6,fne,hne,wn],pne),RE=q([O6,R6,Ste],(e,t,n)=>D6(n.shared,e,t)),G6=e=>e.tooltip.settings.trigger,DE=e=>e.tooltip.settings.defaultIndex,gh=q([Zu,RE,G6,DE],F6),ff=q([gh,tc,dh,ph],TE),K6=q([Bo,ff],k6),Y6=q([gh],e=>{if(e)return e.dataKey}),gne=q([gh],e=>{if(e)return e.graphicalItemId}),Q6=q([Zu,RE,G6,DE],B6),mne=q([Lo,Fo,Pt,kn,Bo,DE,Q6,hh],$6),vne=q([gh,mne],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),yne=q([gh],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),bne=q([Q6,ff,Zs,dh,K6,hh,RE],V6);q([bne],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function pO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pO(Object(n),!0).forEach(function(r){xne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xne(e,t,n){return(t=wne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wne(e){var t=_ne(e,"string");return typeof t=="symbol"?t:t+""}function _ne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sne=()=>Ye(_n),Ene=()=>{var e=Sne(),t=Ye(Bo),n=Ye(q6);return CA(!e||!n?void 0:gO(gO({},e),{},{scale:n}),t)};function mO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mO(Object(n),!0).forEach(function(r){Ine(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ine(e,t,n){return(t=Cne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cne(e){var t=Pne(e,"string");return typeof t=="symbol"?t:t+""}function Pne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tne=(e,t,n,r)=>{var i=t.find(o=>o&&o.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Ane=(e,t,n,r)=>{var i=t.find(u=>u&&u.index===n);if(i){if(e==="centric"){var o=i.coordinate,{radius:s}=r;return Sl(Sl(Sl({},r),on(r.cx,r.cy,s,o)),{},{angle:o,radius:s})}var a=i.coordinate,{angle:l}=r;return Sl(Sl(Sl({},r),on(r.cx,r.cy,a,l)),{},{angle:l,radius:a})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function One(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var X6=(e,t,n,r,i)=>{var o,s=(o=t==null?void 0:t.length)!==null&&o!==void 0?o:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var a=0;a<s;a++){var l,u,c,d,f,p=a>0?(l=n[a-1])===null||l===void 0?void 0:l.coordinate:(u=n[s-1])===null||u===void 0?void 0:u.coordinate,m=(c=n[a])===null||c===void 0?void 0:c.coordinate,v=a>=s-1?(d=n[0])===null||d===void 0?void 0:d.coordinate:(f=n[a+1])===null||f===void 0?void 0:f.coordinate,y=void 0;if(!(p==null||m==null||v==null))if(br(m-p)!==br(v-m)){var w=[];if(br(v-m)===br(i[1]-i[0])){y=v;var _=m+i[1]-i[0];w[0]=Math.min(_,(_+p)/2),w[1]=Math.max(_,(_+p)/2)}else{y=p;var S=v+i[1]-i[0];w[0]=Math.min(m,(S+m)/2),w[1]=Math.max(m,(S+m)/2)}var P=[Math.min(m,(y+m)/2),Math.max(m,(y+m)/2)];if(e>P[0]&&e<=P[1]||e>=w[0]&&e<=w[1]){var R;return(R=n[a])===null||R===void 0?void 0:R.index}}else{var M=Math.min(p,v),C=Math.max(p,v);if(e>(M+m)/2&&e<=(C+m)/2){var I;return(I=n[a])===null||I===void 0?void 0:I.index}}}else if(t)for(var T=0;T<s;T++){var k=t[T];if(k!=null){var A=t[T+1],j=t[T-1];if(T===0&&A!=null&&e<=(k.coordinate+A.coordinate)/2||T===s-1&&j!=null&&e>(k.coordinate+j.coordinate)/2||T>0&&T<s-1&&j!=null&&A!=null&&e>(k.coordinate+j.coordinate)/2&&e<=(k.coordinate+A.coordinate)/2)return k.index}}return-1},Rne=()=>Ye(eE),kE=(e,t)=>t,J6=(e,t,n)=>n,NE=(e,t,n,r)=>r,Dne=q(Bo,e=>zv(e,t=>t.coordinate)),jE=q([Zu,kE,J6,NE],F6),ME=q([jE,tc,dh,ph],TE),kne=(e,t,n)=>{if(t!=null){var r=Zu(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Z6=q([Zu,kE,J6,NE],B6),Pm=q([Lo,Fo,Pt,kn,Bo,NE,Z6,hh],$6),Nne=q([jE,Pm],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),e5=q([Bo,ME],k6),jne=q([Z6,ME,Zs,dh,e5,hh,kE],V6),Mne=q([jE,ME],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Lne=(e,t,n,r,i,o,s)=>{if(!(!e||!n||!r||!i)&&One(e,s)){var a=yY(e,t),l=X6(a,o,i,n,r),u=Tne(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}},Fne=(e,t,n,r,i,o,s)=>{if(!(!e||!r||!i||!o||!n)){var a=SX(e,n);if(a){var l=bY(a,t),u=X6(l,s,o,r,i),c=Ane(t,o,u,a);return{activeIndex:String(u),activeCoordinate:c}}}},$ne=(e,t,n,r,i,o,s,a)=>{if(!(!e||!t||!r||!i||!o))return t==="horizontal"||t==="vertical"?Lne(e,t,r,i,o,s,a):Fne(e,t,n,r,i,o,s)},Bne=q(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),Vne=q(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Ci)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:xee}});function vO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vO(Object(n),!0).forEach(function(r){Une(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Une(e,t,n){return(t=zne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zne(e){var t=Wne(e,"string");return typeof t=="symbol"?t:t+""}function Wne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hne={},qne={zIndexMap:Object.values(Ci).reduce((e,t)=>yO(yO({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),Hne)},Gne=new Set(Object.values(Ci));function Kne(e){return Gne.has(e)}var t5=Cr({name:"zIndex",initialState:qne,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Dt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!Kne(n)&&delete e.zIndexMap[n])},prepare:Dt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Dt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:Dt()}}}),{registerZIndexPortal:Yne,unregisterZIndexPortal:Qne,registerZIndexPortalElement:Xne,unregisterZIndexPortalElement:Jne}=t5.actions,Zne=t5.reducer;function mh(e){var{zIndex:t,children:n}=e,r=YY(),i=r&&t!==void 0&&t!==0,o=Qs(),s=bn();b.useLayoutEffect(()=>i?(s(Yne({zIndex:t})),()=>{s(Qne({zIndex:t}))}):Xf,[s,t,i]);var a=Ye(l=>Bne(l,t,o));return i?a?Wf.createPortal(n,a):null:n}function Xw(){return Xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xw.apply(null,arguments)}function bO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Op(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bO(Object(n),!0).forEach(function(r){ere(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ere(e,t,n){return(t=tre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tre(e){var t=nre(e,"string");return typeof t=="symbol"?t:t+""}function nre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rre(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return b.isValidElement(t)?b.cloneElement(t,r):b.createElement(n,r)}function ire(e){var t,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:s,layout:a,cursor:l,tooltipEventType:u,chartName:c}=e,d=n,f=r,p=i;if(!l||!d||c!=="ScatterChart"&&u!=="axis")return null;var m,v,y;if(c==="ScatterChart")m=d,v=LQ,y=Ci.cursorLine;else if(c==="BarChart")m=FQ(a,d,o,s),v=JL,y=Ci.cursorRectangle;else if(a==="radial"&&E4(d)){var{cx:w,cy:_,radius:S,startAngle:P,endAngle:R}=e3(d);m={cx:w,cy:_,startAngle:P,endAngle:R,innerRadius:S,outerRadius:S},v=n3,y=Ci.cursorLine}else m={points:PX(a,d,o)},v=ES,y=Ci.cursorLine;var M=typeof l=="object"&&"className"in l?l.className:void 0,C=Op(Op(Op(Op({stroke:"#ccc",pointerEvents:"none"},o),m),uw(l)),{},{payload:f,payloadIndex:p,className:un("recharts-tooltip-cursor",M)});return b.createElement(mh,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},b.createElement(rre,{cursor:l,cursorComp:v,cursorProps:C}))}function ore(e){var t=Ene(),n=qY(),r=ry(),i=Rne();return t==null||n==null||r==null||i==null?null:b.createElement(ire,Xw({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var n5=b.createContext(null),sre=()=>b.useContext(n5),r5={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,d,f){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,d||l,f),m=n?n+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)t.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,p=d.length,m=new Array(p);f<p;f++)m[f]=d[f].fn;return m},a.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,c,d,f,p,m){var v=n?n+u:u;if(!this._events[v])return!1;var y=this._events[v],w=arguments.length,_,S;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,d),!0;case 4:return y.fn.call(y.context,c,d,f),!0;case 5:return y.fn.call(y.context,c,d,f,p),!0;case 6:return y.fn.call(y.context,c,d,f,p,m),!0}for(S=1,_=new Array(w-1);S<w;S++)_[S-1]=arguments[S];y.fn.apply(y.context,_)}else{var P=y.length,R;for(S=0;S<P;S++)switch(y[S].once&&this.removeListener(u,y[S].fn,void 0,!0),w){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,c);break;case 3:y[S].fn.call(y[S].context,c,d);break;case 4:y[S].fn.call(y[S].context,c,d,f);break;default:if(!_)for(R=1,_=new Array(w-1);R<w;R++)_[R-1]=arguments[R];y[S].fn.apply(y[S].context,_)}}return!0},a.prototype.on=function(u,c,d){return o(this,u,c,d,!1)},a.prototype.once=function(u,c,d){return o(this,u,c,d,!0)},a.prototype.removeListener=function(u,c,d,f){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return s(this,p),this;var m=this._events[p];if(m.fn)m.fn===c&&(!f||m.once)&&(!d||m.context===d)&&s(this,p);else{for(var v=0,y=[],w=m.length;v<w;v++)(m[v].fn!==c||f&&!m[v].once||d&&m[v].context!==d)&&y.push(m[v]);y.length?this._events[p]=y.length===1?y[0]:y:s(this,p)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(r5);var are=r5.exports;const lre=ji(are);var hf=new lre,Jw="recharts.syncEvent.tooltip",xO="recharts.syncEvent.brush";function ure(e,t){if(t){var n=Number.parseInt(t,10);if(!Io(n))return e==null?void 0:e[n]}}var cre={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},i5=Cr({name:"options",initialState:cre,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),dre=i5.reducer,{createEventEmitter:fre}=i5.actions;function hre(e){return e.tooltip.syncInteraction}var pre={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},o5=Cr({name:"chartData",initialState:pre,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:wO,setDataStartEndIndexes:gre,setComputedData:Gxe}=o5.actions,mre=o5.reducer,vre=["x","y"];function _O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function El(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_O(Object(n),!0).forEach(function(r){yre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yre(e,t,n){return(t=bre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bre(e){var t=xre(e,"string");return typeof t=="symbol"?t:t+""}function xre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wre(e,t){if(e==null)return{};var n,r,i=_re(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _re(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Sre(){var e=Ye(tE),t=Ye(nE),n=bn(),r=Ye(r6),i=Ye(Bo),o=ry(),s=ny(),a=Ye(l=>l.rootProps.className);b.useEffect(()=>{if(e==null)return Xf;var l=(u,c,d)=>{if(t!==d&&e===u){if(r==="index"){var f;if(s&&c!==null&&c!==void 0&&(f=c.payload)!==null&&f!==void 0&&f.coordinate&&c.payload.sourceViewBox){var p=c.payload.coordinate,{x:m,y:v}=p,y=wre(p,vre),{x:w,y:_,width:S,height:P}=c.payload.sourceViewBox,R=El(El({},y),{},{x:s.x+(S?(m-w)/S:0)*s.width,y:s.y+(P?(v-_)/P:0)*s.height});n(El(El({},c),{},{payload:El(El({},c.payload),{},{coordinate:R})}))}else n(c);return}if(i!=null){var M;if(typeof r=="function"){var C={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},I=r(i,C);M=i[I]}else r==="value"&&(M=i.find(pe=>String(pe.value)===c.payload.label));var{coordinate:T}=c.payload;if(M==null||c.payload.active===!1||T==null||s==null){n(Yw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:k,y:A}=T,j=Math.min(k,s.x+s.width),O=Math.min(A,s.y+s.height),ee={x:o==="horizontal"?M.coordinate:j,y:o==="horizontal"?O:M.coordinate},re=Yw({active:c.payload.active,coordinate:ee,dataKey:c.payload.dataKey,index:String(M.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});n(re)}}};return hf.on(Jw,l),()=>{hf.off(Jw,l)}},[a,n,t,e,r,i,o,s])}function Ere(){var e=Ye(tE),t=Ye(nE),n=bn();b.useEffect(()=>{if(e==null)return Xf;var r=(i,o,s)=>{t!==s&&e===i&&n(gre(o))};return hf.on(xO,r),()=>{hf.off(xO,r)}},[n,t,e])}function Ire(){var e=bn();b.useEffect(()=>{e(fre())},[e]),Sre(),Ere()}function Cre(e,t,n,r,i,o){var s=Ye(p=>kne(p,e,t)),a=Ye(nE),l=Ye(tE),u=Ye(r6),c=Ye(hre),d=c==null?void 0:c.active,f=ny();b.useEffect(()=>{if(!d&&l!=null&&a!=null){var p=Yw({active:o,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:f,graphicalItemId:void 0});hf.emit(Jw,l,p,a)}},[d,n,s,i,r,a,l,u,o,f])}function SO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SO(Object(n),!0).forEach(function(r){Pre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pre(e,t,n){return(t=Tre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tre(e){var t=Are(e,"string");return typeof t=="symbol"?t:t+""}function Are(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ore(e){return e.dataKey}function Rre(e,t){return b.isValidElement(e)?b.cloneElement(e,t):typeof e=="function"?b.createElement(e,t):b.createElement(mQ,t)}var IO=[],Dre={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function kre(e){var t,n,r=oo(e,Dre),{active:i,allowEscapeViewBox:o,animationDuration:s,animationEasing:a,content:l,filterNull:u,isAnimationActive:c,offset:d,payloadUniqBy:f,position:p,reverseDirection:m,useTranslate3d:v,wrapperStyle:y,cursor:w,shared:_,trigger:S,defaultIndex:P,portal:R,axisId:M}=r,C=bn(),I=typeof P=="number"?String(P):P;b.useEffect(()=>{C(Tte({shared:_,trigger:S,axisId:M,active:i,defaultIndex:I}))},[C,_,S,M,i,I]);var T=ny(),k=GL(),A=_te(_),{activeIndex:j,isActive:O}=(t=Ye(D=>Mne(D,A,S,I)))!==null&&t!==void 0?t:{},ee=Ye(D=>jne(D,A,S,I)),re=Ye(D=>e5(D,A,S,I)),pe=Ye(D=>Nne(D,A,S,I)),Oe=ee,F=sre(),Q=(n=i??O)!==null&&n!==void 0?n:!1,[le,be]=oK([Oe,Q]),we=A==="axis"?re:void 0;Cre(A,S,pe,we,j,Q);var X=R??F;if(X==null||T==null||A==null)return null;var ie=Oe??IO;Q||(ie=IO),u&&ie.length&&(ie=SG(ie.filter(D=>D.value!=null&&(D.hide!==!0||r.includeHidden)),f,Ore));var Ie=ie.length>0,te=b.createElement(SQ,{allowEscapeViewBox:o,animationDuration:s,animationEasing:a,isAnimationActive:c,active:Q,coordinate:pe,hasPayload:Ie,offset:d,position:p,reverseDirection:m,useTranslate3d:v,viewBox:T,wrapperStyle:y,lastBoundingBox:le,innerRef:be,hasPortalFromProps:!!R},Rre(l,EO(EO({},r),{},{payload:ie,label:we,active:Q,activeIndex:j,coordinate:pe,accessibilityLayer:k})));return b.createElement(b.Fragment,null,Wf.createPortal(te,X),Q&&b.createElement(ore,{cursor:w,tooltipEventType:A,coordinate:pe,payload:ie,index:j}))}var pf=e=>null;pf.displayName="Cell";function Nre(e,t,n){return(t=jre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jre(e){var t=Mre(e,"string");return typeof t=="symbol"?t:t+""}function Mre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Lre{constructor(t){Nre(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function CO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fre(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(n),!0).forEach(function(r){$re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $re(e,t,n){return(t=Bre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bre(e){var t=Vre(e,"string");return typeof t=="symbol"?t:t+""}function Vre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ure={cacheSize:2e3,enableCache:!0},s5=Fre({},Ure),PO=new Lre(s5.cacheSize),zre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},TO="recharts_measurement_span";function Wre(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",s=t.letterSpacing||"",a=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(s,"|").concat(a)}var AO=(e,t)=>{try{var n=document.getElementById(TO);n||(n=document.createElement("span"),n.setAttribute("id",TO),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,zre,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},OO=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||IS.isSsr)return{width:0,height:0};if(!s5.enableCache)return AO(t,n);var r=Wre(t,n),i=PO.get(r);if(i)return i;var o=AO(t,n);return PO.set(r,o),o},a5;function Hre(e,t,n){return(t=qre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qre(e){var t=Gre(e,"string");return typeof t=="symbol"?t:t+""}function Gre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,DO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Kre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Yre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Qre={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Xre=["cm","mm","pt","pc","in","Q","px"];function Jre(e){return Xre.includes(e)}var Hl="NaN";function Zre(e,t){return e*Qre[t]}class $n{static parse(t){var n,[,r,i]=(n=Yre.exec(t))!==null&&n!==void 0?n:[];return r==null?$n.NaN:new $n(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Io(t)&&(this.unit=""),n!==""&&!Kre.test(n)&&(this.num=NaN,this.unit=""),Jre(n)&&(this.num=Zre(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new $n(NaN,""):new $n(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new $n(NaN,""):new $n(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new $n(NaN,""):new $n(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new $n(NaN,""):new $n(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Io(this.num)}}a5=$n;Hre($n,"NaN",new a5(NaN,""));function l5(e){if(e==null||e.includes(Hl))return Hl;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=(n=RO.exec(t))!==null&&n!==void 0?n:[],s=$n.parse(r??""),a=$n.parse(o??""),l=i==="*"?s.multiply(a):s.divide(a);if(l.isNaN())return Hl;t=t.replace(RO,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,d,f]=(u=DO.exec(t))!==null&&u!==void 0?u:[],p=$n.parse(c??""),m=$n.parse(f??""),v=d==="+"?p.add(m):p.subtract(m);if(v.isNaN())return Hl;t=t.replace(DO,v.toString())}return t}var kO=/\(([^()]*)\)/;function eie(e){for(var t=e,n;(n=kO.exec(t))!=null;){var[,r]=n;t=t.replace(kO,l5(r))}return t}function tie(e){var t=e.replace(/\s+/g,"");return t=eie(t),t=l5(t),t}function nie(e){try{return tie(e)}catch{return Hl}}function Tb(e){var t=nie(e.slice(5,-1));return t===Hl?"":t}var rie=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],iie=["dx","dy","angle","className","breakAll"];function Zw(){return Zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zw.apply(null,arguments)}function NO(e,t){if(e==null)return{};var n,r,i=oie(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var u5=/[ \f\n\r\t\v\u2028\u2029]+/,c5=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Hr(t)||(n?i=t.toString().split(""):i=t.toString().split(u5));var o=i.map(a=>({word:a,width:OO(a,r).width})),s=n?0:OO("",r).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}};function sie(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var d5=(e,t,n,r)=>e.reduce((i,o)=>{var{word:s,width:a}=o,l=i[i.length-1];if(l&&a!=null&&(t==null||r||l.width+a+n<Number(t)))l.words.push(s),l.width+=a+n;else{var u={words:[s],width:a};i.push(u)}return i},[]),f5=e=>e.reduce((t,n)=>t.width>n.width?t:n),aie="",jO=(e,t,n,r,i,o,s,a)=>{var l=e.slice(0,t),u=c5({breakAll:n,style:r,children:l+aie});if(!u)return[!1,[]];var c=d5(u.wordsWithComputedWidth,o,s,a),d=c.length>i||f5(c).width>Number(o);return[d,c]},lie=(e,t,n,r,i)=>{var{maxLines:o,children:s,style:a,breakAll:l}=e,u=Ue(o),c=String(s),d=d5(t,r,n,i);if(!u||i)return d;var f=d.length>o||f5(d).width>Number(r);if(!f)return d;for(var p=0,m=c.length-1,v=0,y;p<=m&&v<=c.length-1;){var w=Math.floor((p+m)/2),_=w-1,[S,P]=jO(c,_,l,a,o,r,n,i),[R]=jO(c,w,l,a,o,r,n,i);if(!S&&!R&&(p=w+1),S&&R&&(m=w-1),!S&&R){y=P;break}v++}return y||d},MO=e=>{var t=Hr(e)?[]:e.toString().split(u5);return[{words:t,width:void 0}]},uie=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:s}=e;if((t||n)&&!IS.isSsr){var a,l,u=c5({breakAll:o,children:r,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:d}=u;a=c,l=d}else return MO(r);return lie({breakAll:o,children:r,maxLines:s,style:i},a,l,t,!!n)}return MO(r)},h5="#808080",cie={angle:0,breakAll:!1,capHeight:"0.71em",fill:h5,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},LE=b.forwardRef((e,t)=>{var n=oo(e,cie),{x:r,y:i,lineHeight:o,capHeight:s,fill:a,scaleToFit:l,textAnchor:u,verticalAnchor:c}=n,d=NO(n,rie),f=b.useMemo(()=>uie({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:p,dy:m,angle:v,className:y,breakAll:w}=d,_=NO(d,iie);if(!Po(r)||!Po(i)||f.length===0)return null;var S=Number(r)+(Ue(p)?p:0),P=Number(i)+(Ue(m)?m:0);if(!cn(S)||!cn(P))return null;var R;switch(c){case"start":R=Tb("calc(".concat(s,")"));break;case"middle":R=Tb("calc(".concat((f.length-1)/2," * -").concat(o," + (").concat(s," / 2))"));break;default:R=Tb("calc(".concat(f.length-1," * -").concat(o,")"));break}var M=[];if(l){var C=f[0].width,{width:I}=d;M.push("scale(".concat(Ue(I)&&Ue(C)?I/C:1,")"))}return v&&M.push("rotate(".concat(v,", ").concat(S,", ").concat(P,")")),M.length&&(_.transform=M.join(" ")),b.createElement("text",Zw({},di(_),{ref:t,x:S,y:P,className:un("recharts-text",y),textAnchor:u,fill:a.includes("url")?h5:a}),f.map((T,k)=>{var A=T.words.join(w?"":" ");return b.createElement("tspan",{x:S,dy:k===0?R:o,key:"".concat(A,"-").concat(k)},A)}))});LE.displayName="Text";var die=["labelRef"],fie=["content"];function LO(e,t){if(e==null)return{};var n,r,i=hie(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function FO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FO(Object(n),!0).forEach(function(r){pie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pie(e,t,n){return(t=gie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gie(e){var t=mie(e,"string");return typeof t=="symbol"?t:t+""}function mie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tm(){return Tm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tm.apply(null,arguments)}var vie=b.createContext(null),yie=()=>{var e=b.useContext(vie),t=ny();return e||$L(t)},bie=b.createContext(null),xie=()=>{var e=b.useContext(bie),t=Ye(l6);return e||t},wie=e=>{var{value:t,formatter:n}=e,r=Hr(e.children)?t:e.children;return typeof n=="function"?n(r):r},_ie=e=>e!=null&&typeof e=="function",Sie=(e,t)=>{var n=br(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Eie=(e,t,n,r,i)=>{var{offset:o,className:s}=e,{cx:a,cy:l,innerRadius:u,outerRadius:c,startAngle:d,endAngle:f,clockWise:p}=i,m=(u+c)/2,v=Sie(d,f),y=v>=0?1:-1,w,_;switch(t){case"insideStart":w=d+y*o,_=p;break;case"insideEnd":w=f-y*o,_=!p;break;case"end":w=f+y*o,_=p;break;default:throw new Error("Unsupported position ".concat(t))}_=v<=0?_:!_;var S=on(a,l,m,w),P=on(a,l,m,w+(_?1:-1)*359),R="M".concat(S.x,",").concat(S.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(_?0:1,`,
    `).concat(P.x,",").concat(P.y),M=Hr(e.id)?Jd("recharts-radial-line-"):e.id;return b.createElement("text",Tm({},r,{dominantBaseline:"central",className:un("recharts-radial-bar-label",s)}),b.createElement("defs",null,b.createElement("path",{id:M,d:R})),b.createElement("textPath",{xlinkHref:"#".concat(M)},n))},Iie=(e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:a,endAngle:l}=e,u=(a+l)/2;if(n==="outside"){var{x:c,y:d}=on(r,i,s+t,u);return{x:c,y:d,textAnchor:c>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=(o+s)/2,{x:p,y:m}=on(r,i,f,u);return{x:p,y:m,textAnchor:"middle",verticalAnchor:"middle"}},e1=e=>"cx"in e&&Ue(e.cx),Cie=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,o;n!=null&&!e1(n)&&(o=n);var{x:s,y:a,upperWidth:l,lowerWidth:u,height:c}=t,d=s,f=s+(l-u)/2,p=(d+f)/2,m=(l+u)/2,v=d+l/2,y=c>=0?1:-1,w=y*r,_=y>0?"end":"start",S=y>0?"start":"end",P=l>=0?1:-1,R=P*r,M=P>0?"end":"start",C=P>0?"start":"end";if(i==="top"){var I={x:d+l/2,y:a-w,textAnchor:"middle",verticalAnchor:_};return en(en({},I),o?{height:Math.max(a-o.y,0),width:l}:{})}if(i==="bottom"){var T={x:f+u/2,y:a+c+w,textAnchor:"middle",verticalAnchor:S};return en(en({},T),o?{height:Math.max(o.y+o.height-(a+c),0),width:u}:{})}if(i==="left"){var k={x:p-R,y:a+c/2,textAnchor:M,verticalAnchor:"middle"};return en(en({},k),o?{width:Math.max(k.x-o.x,0),height:c}:{})}if(i==="right"){var A={x:p+m+R,y:a+c/2,textAnchor:C,verticalAnchor:"middle"};return en(en({},A),o?{width:Math.max(o.x+o.width-A.x,0),height:c}:{})}var j=o?{width:m,height:c}:{};return i==="insideLeft"?en({x:p+R,y:a+c/2,textAnchor:C,verticalAnchor:"middle"},j):i==="insideRight"?en({x:p+m-R,y:a+c/2,textAnchor:M,verticalAnchor:"middle"},j):i==="insideTop"?en({x:d+l/2,y:a+w,textAnchor:"middle",verticalAnchor:S},j):i==="insideBottom"?en({x:f+u/2,y:a+c-w,textAnchor:"middle",verticalAnchor:_},j):i==="insideTopLeft"?en({x:d+R,y:a+w,textAnchor:C,verticalAnchor:S},j):i==="insideTopRight"?en({x:d+l-R,y:a+w,textAnchor:M,verticalAnchor:S},j):i==="insideBottomLeft"?en({x:f+R,y:a+c-w,textAnchor:C,verticalAnchor:_},j):i==="insideBottomRight"?en({x:f+u-R,y:a+c-w,textAnchor:M,verticalAnchor:_},j):i&&typeof i=="object"&&(Ue(i.x)||Co(i.x))&&(Ue(i.y)||Co(i.y))?en({x:s+$r(i.x,m),y:a+$r(i.y,c),textAnchor:"end",verticalAnchor:"end"},j):en({x:v,y:a+c/2,textAnchor:"middle",verticalAnchor:"middle"},j)},Pie={angle:0,offset:5,zIndex:Ci.label,position:"middle",textBreakAll:!1};function p5(e){var t=oo(e,Pie),{viewBox:n,position:r,value:i,children:o,content:s,className:a="",textBreakAll:l,labelRef:u}=t,c=xie(),d=yie(),f=r==="center"?d:c??d,p,m,v;if(n==null?p=f:e1(n)?p=n:p=$L(n),!p||Hr(i)&&Hr(o)&&!b.isValidElement(s)&&typeof s!="function")return null;var y=en(en({},t),{},{viewBox:p});if(b.isValidElement(s)){var{labelRef:w}=y,_=LO(y,die);return b.cloneElement(s,_)}if(typeof s=="function"){var{content:S}=y,P=LO(y,fie);if(m=b.createElement(s,P),b.isValidElement(m))return m}else m=wie(t);var R=di(t);if(e1(p)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Eie(t,r,m,R,p);v=Iie(p,t.offset,t.position)}else v=Cie(t,p);return b.createElement(mh,{zIndex:t.zIndex},b.createElement(LE,Tm({ref:u,className:un("recharts-label",a)},R,v,{textAnchor:sie(R.textAnchor)?R.textAnchor:v.textAnchor,breakAll:l}),m))}p5.displayName="Label";var g5={},m5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(m5);var v5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(v5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m5,n=v5,r=Vv;function i(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=i})(g5);var Tie=g5.last;const Aie=ji(Tie);var Oie=["valueAccessor"],Rie=["dataKey","clockWise","id","textBreakAll","zIndex"];function Am(){return Am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Am.apply(null,arguments)}function $O(e,t){if(e==null)return{};var n,r,i=Die(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Die(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var kie=e=>Array.isArray(e.value)?Aie(e.value):e.value,y5=b.createContext(void 0);y5.Provider;var b5=b.createContext(void 0),Nie=b5.Provider;function jie(){return b.useContext(y5)}function Mie(){return b.useContext(b5)}function ug(e){var{valueAccessor:t=kie}=e,n=$O(e,Oie),{dataKey:r,clockWise:i,id:o,textBreakAll:s,zIndex:a}=n,l=$O(n,Rie),u=jie(),c=Mie(),d=u||c;return!d||!d.length?null:b.createElement(mh,{zIndex:a??Ci.label},b.createElement(ks,{className:"recharts-label-list"},d.map((f,p)=>{var m,v=Hr(r)?t(f,p):Kt(f&&f.payload,r),y=Hr(o)?{}:{id:"".concat(o,"-").concat(p)};return b.createElement(p5,Am({key:"label-".concat(p)},di(f),l,y,{fill:(m=n.fill)!==null&&m!==void 0?m:f.fill,parentViewBox:f.parentViewBox,value:v,textBreakAll:s,viewBox:f.viewBox,index:p,zIndex:0}))})))}ug.displayName="LabelList";function Lie(e){var{label:t}=e;return t?t===!0?b.createElement(ug,{key:"labelList-implicit"}):b.isValidElement(t)||_ie(t)?b.createElement(ug,{key:"labelList-implicit",content:t}):typeof t=="object"?b.createElement(ug,Am({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var x5=e=>e.graphicalItems.polarItems,Fie=q([jt,lh],lE),Sy=q([x5,Vt,Fie],uE),$ie=q([Sy],cE),Ey=q([$ie,XS],dE),Bie=q([Ey,Vt,Sy],hE);q([Ey,Vt,Sy],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var o,s=Kt(r,(o=t.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Kt(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var BO=()=>{},Vie=q([Ey,Vt,Sy,by,jt],vE),Uie=q([Vt,gE,mE,BO,Vie,BO,Pt,jt],yE),w5=q([Vt,Pt,Ey,Bie,ah,jt,Uie],bE),zie=q([w5,Vt,Ju],_E);q([Vt,w5,zie,jt],EE);var Wie={radiusAxis:{},angleAxis:{}},_5=Cr({name:"polarAxis",initialState:Wie,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Kxe,removeRadiusAxis:Yxe,addAngleAxis:Qxe,removeAngleAxis:Xxe}=_5.actions,Hie=_5.reducer;function VO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(n),!0).forEach(function(r){qie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qie(e,t,n){return(t=Gie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gie(e){var t=Kie(e,"string");return typeof t=="symbol"?t:t+""}function Kie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yie=(e,t)=>t,FE=q([x5,Yie],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),Qie=[],$E=(e,t,n)=>(n==null?void 0:n.length)===0?Qie:n,S5=q([XS,FE,$E],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(o=>UO(UO({},t.presentationProps),o.props))),i!=null)return i}}),Xie=q([S5,FE,$E],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var o,s=Kt(r,t.nameKey,t.name),a;return n!=null&&(o=n[i])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?a=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?a=r.fill:a=t.fill,{value:AL(s,t.dataKey),color:a,payload:r,type:t.legendType}})}),Jie=q([S5,FE,$E,kn],(e,t,n,r)=>{if(!(t==null||e==null))return ase({offset:r,pieSettings:t,displayedData:e,cells:n})}),E5={exports:{}},_t={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy=60103,Cy=60106,vh=60107,yh=60108,bh=60114,xh=60109,wh=60110,_h=60112,Sh=60113,BE=60120,Eh=60115,Ih=60116,I5=60121,C5=60122,P5=60117,T5=60129,A5=60131;if(typeof Symbol=="function"&&Symbol.for){var Mn=Symbol.for;Iy=Mn("react.element"),Cy=Mn("react.portal"),vh=Mn("react.fragment"),yh=Mn("react.strict_mode"),bh=Mn("react.profiler"),xh=Mn("react.provider"),wh=Mn("react.context"),_h=Mn("react.forward_ref"),Sh=Mn("react.suspense"),BE=Mn("react.suspense_list"),Eh=Mn("react.memo"),Ih=Mn("react.lazy"),I5=Mn("react.block"),C5=Mn("react.server.block"),P5=Mn("react.fundamental"),T5=Mn("react.debug_trace_mode"),A5=Mn("react.legacy_hidden")}function Fi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Iy:switch(e=e.type,e){case vh:case bh:case yh:case Sh:case BE:return e;default:switch(e=e&&e.$$typeof,e){case wh:case _h:case Ih:case Eh:case xh:return e;default:return t}}case Cy:return t}}}var Zie=xh,eoe=Iy,toe=_h,noe=vh,roe=Ih,ioe=Eh,ooe=Cy,soe=bh,aoe=yh,loe=Sh;_t.ContextConsumer=wh;_t.ContextProvider=Zie;_t.Element=eoe;_t.ForwardRef=toe;_t.Fragment=noe;_t.Lazy=roe;_t.Memo=ioe;_t.Portal=ooe;_t.Profiler=soe;_t.StrictMode=aoe;_t.Suspense=loe;_t.isAsyncMode=function(){return!1};_t.isConcurrentMode=function(){return!1};_t.isContextConsumer=function(e){return Fi(e)===wh};_t.isContextProvider=function(e){return Fi(e)===xh};_t.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Iy};_t.isForwardRef=function(e){return Fi(e)===_h};_t.isFragment=function(e){return Fi(e)===vh};_t.isLazy=function(e){return Fi(e)===Ih};_t.isMemo=function(e){return Fi(e)===Eh};_t.isPortal=function(e){return Fi(e)===Cy};_t.isProfiler=function(e){return Fi(e)===bh};_t.isStrictMode=function(e){return Fi(e)===yh};_t.isSuspense=function(e){return Fi(e)===Sh};_t.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===vh||e===bh||e===T5||e===yh||e===Sh||e===BE||e===A5||typeof e=="object"&&e!==null&&(e.$$typeof===Ih||e.$$typeof===Eh||e.$$typeof===xh||e.$$typeof===wh||e.$$typeof===_h||e.$$typeof===P5||e.$$typeof===I5||e[0]===C5)};_t.typeOf=Fi;E5.exports=_t;var O5=E5.exports,zO=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",WO=null,Ab=null,R5=e=>{if(e===WO&&Array.isArray(Ab))return Ab;var t=[];return b.Children.forEach(e,n=>{Hr(n)||(O5.isFragment(n)?t=t.concat(R5(n.props.children)):t.push(n))}),Ab=t,WO=e,t};function D5(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>zO(i)):r=[zO(t)],R5(e).forEach(i=>{var o=Xd(i,"type.displayName")||Xd(i,"type.name");o&&r.indexOf(o)!==-1&&n.push(i)}),n}var k5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(k5);var uoe=k5.isPlainObject;const coe=ji(uoe);var HO,qO,GO,KO,YO;function QO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QO(Object(n),!0).forEach(function(r){doe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function doe(e,t,n){return(t=foe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function foe(e){var t=hoe(e,"string");return typeof t=="symbol"?t:t+""}function hoe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Om(){return Om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Om.apply(null,arguments)}function Wc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var JO=(e,t,n,r,i)=>{var o=n-r,s;return s=Wt(HO||(HO=Wc(["M ",",",""])),e,t),s+=Wt(qO||(qO=Wc(["L ",",",""])),e+n,t),s+=Wt(GO||(GO=Wc(["L ",",",""])),e+n-o/2,t+i),s+=Wt(KO||(KO=Wc(["L ",",",""])),e+n-o/2-r,t+i),s+=Wt(YO||(YO=Wc(["L ",","," Z"])),e,t),s},poe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},goe=e=>{var t=oo(e,poe),{x:n,y:r,upperWidth:i,lowerWidth:o,height:s,className:a}=t,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:d}=t,f=b.useRef(null),[p,m]=b.useState(-1),v=b.useRef(i),y=b.useRef(o),w=b.useRef(s),_=b.useRef(n),S=b.useRef(r),P=PS(e,"trapezoid-");if(b.useEffect(()=>{if(f.current&&f.current.getTotalLength)try{var ee=f.current.getTotalLength();ee&&m(ee)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||s!==+s||i===0&&o===0||s===0)return null;var R=un("recharts-trapezoid",a);if(!d)return b.createElement("g",null,b.createElement("path",Om({},di(t),{className:R,d:JO(n,r,i,o,s)})));var M=v.current,C=y.current,I=w.current,T=_.current,k=S.current,A="0px ".concat(p===-1?1:p,"px"),j="".concat(p,"px 0px"),O=KL(["strokeDasharray"],u,l);return b.createElement(CS,{animationId:P,key:P,canBegin:p>0,duration:u,easing:l,isActive:d,begin:c},ee=>{var re=wi(M,i,ee),pe=wi(C,o,ee),Oe=wi(I,s,ee),F=wi(T,n,ee),Q=wi(k,r,ee);f.current&&(v.current=re,y.current=pe,w.current=Oe,_.current=F,S.current=Q);var le=ee>0?{transition:O,strokeDasharray:j}:{strokeDasharray:A};return b.createElement("path",Om({},di(t),{className:R,d:JO(F,Q,re,pe,Oe),ref:f,style:XO(XO({},le),t.style)}))})},moe=["option","shapeType","activeClassName"];function voe(e,t){if(e==null)return{};var n,r,i=yoe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yoe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ZO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZO(Object(n),!0).forEach(function(r){boe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function boe(e,t,n){return(t=xoe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xoe(e){var t=woe(e,"string");return typeof t=="symbol"?t:t+""}function woe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _oe(e,t){return Rm(Rm({},t),e)}function Soe(e,t){return e==="symbols"}function eR(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return b.createElement(JL,n);case"trapezoid":return b.createElement(goe,n);case"sector":return b.createElement(n3,n);case"symbols":if(Soe(t))return b.createElement(S4,n);break;case"curve":return b.createElement(ES,n);default:return null}}function Eoe(e){return b.isValidElement(e)?e.props:e}function Ioe(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=voe(e,moe),o;if(b.isValidElement(t))o=b.cloneElement(t,Rm(Rm({},i),Eoe(t)));else if(typeof t=="function")o=t(i,i.index);else if(coe(t)&&typeof t!="boolean"){var s=_oe(t,i);o=b.createElement(eR,{shapeType:n,elementProps:s})}else{var a=i;o=b.createElement(eR,{shapeType:n,elementProps:a})}return i.isActive?b.createElement(ks,{className:r},o):o}var Coe=(e,t,n)=>{var r=bn();return(i,o)=>s=>{e==null||e(i,o,s),r(j6({activeIndex:String(o),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},Poe=e=>{var t=bn();return(n,r)=>i=>{e==null||e(n,r,i),t(Ate())}},Toe=(e,t,n)=>{var r=bn();return(i,o)=>s=>{e==null||e(i,o,s),r(Ote({activeIndex:String(o),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function Aoe(e){var{tooltipEntrySettings:t}=e,n=bn(),r=Qs(),i=b.useRef(null);return b.useLayoutEffect(()=>{r||(i.current===null?n(Ite(t)):i.current!==t&&n(Cte({prev:i.current,next:t})),i.current=t)},[t,n,r]),b.useLayoutEffect(()=>()=>{i.current&&(n(Pte(i.current)),i.current=null)},[n]),null}function Ooe(e){var{legendPayload:t}=e,n=bn(),r=Ye(Pt),i=b.useRef(null);return b.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(lQ(t)):i.current!==t&&n(uQ({prev:i.current,next:t})),i.current=t)},[n,r,t]),b.useLayoutEffect(()=>()=>{i.current&&(n(cQ(i.current)),i.current=null)},[n]),null}var Ob,Roe=()=>{var[e]=b.useState(()=>Jd("uid-"));return e},Doe=(Ob=oN.useId)!==null&&Ob!==void 0?Ob:Roe;function koe(e,t){var n=Doe();return t||(e?"".concat(e,"-").concat(n):n)}var Noe=b.createContext(void 0),joe=e=>{var{id:t,type:n,children:r}=e,i=koe("recharts-".concat(n),t);return b.createElement(Noe.Provider,{value:i},r(i))},Moe={cartesianItems:[],polarItems:[]},N5=Cr({name:"graphicalItems",initialState:Moe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Dt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ri(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:Dt()},removeCartesianGraphicalItem:{reducer(e,t){var n=Ri(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Dt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Dt()},removePolarGraphicalItem:{reducer(e,t){var n=Ri(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Dt()}}}),{addCartesianGraphicalItem:Jxe,replaceCartesianGraphicalItem:Zxe,removeCartesianGraphicalItem:ewe,addPolarGraphicalItem:Loe,removePolarGraphicalItem:Foe}=N5.actions,$oe=N5.reducer;function Boe(e){var t=bn();return b.useLayoutEffect(()=>(t(Loe(e)),()=>{t(Foe(e))}),[t,e]),null}var Voe=["key"],Uoe=["onMouseEnter","onClick","onMouseLeave"],zoe=["id"],Woe=["id"];function tR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tR(Object(n),!0).forEach(function(r){Hoe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hoe(e,t,n){return(t=qoe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qoe(e){var t=Goe(e,"string");return typeof t=="symbol"?t:t+""}function Goe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ms(){return Ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ms.apply(null,arguments)}function Py(e,t){if(e==null)return{};var n,r,i=Koe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Koe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Yoe(e){var t=b.useMemo(()=>D5(e.children,pf),[e.children]),n=Ye(r=>Xie(r,e.id,t));return n==null?null:b.createElement(Ooe,{legendPayload:n})}var Qoe=b.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:o,fill:s,name:a,hide:l,tooltipType:u,id:c}=e,d={dataDefinedOnItem:r.map(f=>f.tooltipPayload),positions:r.map(f=>f.tooltipPosition),settings:{stroke:i,strokeWidth:o,fill:s,dataKey:t,nameKey:n,name:AL(a,t),hide:l,type:u,color:s,unit:"",graphicalItemId:c}};return b.createElement(Aoe,{tooltipEntrySettings:d})}),Xoe=(e,t)=>e>t?"start":e<t?"end":"middle",Joe=(e,t,n)=>$r(typeof t=="function"?t(e):t,n,n*.8),Zoe=(e,t,n)=>{var{top:r,left:i,width:o,height:s}=t,a=ZL(o,s),l=i+$r(e.cx,o,o/2),u=r+$r(e.cy,s,s/2),c=$r(e.innerRadius,a,0),d=Joe(n,e.outerRadius,a),f=e.maxRadius||Math.sqrt(o*o+s*s)/2;return{cx:l,cy:u,innerRadius:c,outerRadius:d,maxRadius:f}},ese=(e,t)=>{var n=br(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function tse(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var nse=(e,t)=>{if(b.isValidElement(e))return b.cloneElement(e,t);if(typeof e=="function")return e(t);var n=un("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,i=Py(t,Voe);return b.createElement(ES,Ms({},i,{type:"linear",className:n}))},rse=(e,t,n)=>{if(b.isValidElement(e))return b.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),b.isValidElement(r)))return r;var i=un("recharts-pie-label-text",tse(e));return b.createElement(LE,Ms({},t,{alignmentBaseline:"middle",className:i}),r)};function ise(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:o,dataKey:s}=n;if(!r||!i||!t)return null;var a=vu(n),l=uw(i),u=uw(o),c=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,d=t.map((f,p)=>{var m=(f.startAngle+f.endAngle)/2,v=on(f.cx,f.cy,f.outerRadius+c,m),y=qt(qt(qt(qt({},a),f),{},{stroke:"none"},l),{},{index:p,textAnchor:Xoe(v.x,f.cx)},v),w=qt(qt(qt(qt({},a),f),{},{fill:"none",stroke:f.fill},u),{},{index:p,points:[on(f.cx,f.cy,f.outerRadius,m),v],key:"line"});return b.createElement(mh,{zIndex:Ci.label,key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(p)},b.createElement(ks,null,o&&nse(o,w),rse(i,y,Kt(f,s))))});return b.createElement(ks,{className:"recharts-pie-labels"},d)}function ose(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?b.createElement(Lie,{label:i}):b.createElement(ise,{sectors:t,props:n,showLabels:r})}function sse(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:o,id:s}=e,a=Ye(ff),l=Ye(Y6),u=Ye(gne),{onMouseEnter:c,onClick:d,onMouseLeave:f}=i,p=Py(i,Uoe),m=Coe(c,i.dataKey,s),v=Poe(f),y=Toe(d,i.dataKey,s);return t==null||t.length===0?null:b.createElement(b.Fragment,null,t.map((w,_)=>{if((w==null?void 0:w.startAngle)===0&&(w==null?void 0:w.endAngle)===0&&t.length!==1)return null;var S=u==null||u===s,P=String(_)===a&&(l==null||i.dataKey===l)&&S,R=a?r:null,M=n&&P?n:R,C=qt(qt({},w),{},{stroke:w.stroke,tabIndex:-1,[RL]:_,[DL]:s});return b.createElement(ks,Ms({key:"sector-".concat(w==null?void 0:w.startAngle,"-").concat(w==null?void 0:w.endAngle,"-").concat(w.midAngle,"-").concat(_),tabIndex:-1,className:"recharts-pie-sector"},vG(p,w,_),{onMouseEnter:m(w,_),onMouseLeave:v(w,_),onClick:y(w,_)}),b.createElement(Ioe,Ms({option:o??M,index:_,shapeType:"sector",isActive:P},C)))}))}function ase(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:o}=e,{cornerRadius:s,startAngle:a,endAngle:l,dataKey:u,nameKey:c,tooltipType:d}=n,f=Math.abs(n.minAngle),p=ese(a,l),m=Math.abs(p),v=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,y=r.filter(M=>Kt(M,u,0)!==0).length,w=(m>=360?y:y-1)*v,_=m-y*f-w,S=r.reduce((M,C)=>{var I=Kt(C,u,0);return M+(Ue(I)?I:0)},0),P;if(S>0){var R;P=r.map((M,C)=>{var I=Kt(M,u,0),T=Kt(M,c,C),k=Zoe(n,o,M),A=(Ue(I)?I:0)/S,j,O=qt(qt({},M),i&&i[C]&&i[C].props);C?j=R.endAngle+br(p)*v*(I!==0?1:0):j=a;var ee=j+br(p)*((I!==0?f:0)+A*_),re=(j+ee)/2,pe=(k.innerRadius+k.outerRadius)/2,Oe=[{name:T,value:I,payload:O,dataKey:u,type:d,graphicalItemId:n.id}],F=on(k.cx,k.cy,pe,re);return R=qt(qt(qt(qt({},n.presentationProps),{},{percent:A,cornerRadius:typeof s=="string"?parseFloat(s):s,name:T,tooltipPayload:Oe,midAngle:re,middleRadius:pe,tooltipPosition:F},O),k),{},{value:I,dataKey:u,startAngle:j,endAngle:ee,payload:O,paddingAngle:br(p)*v}),R})}return P}function lse(e){var{showLabels:t,sectors:n,children:r}=e,i=b.useMemo(()=>!t||!n?[]:n.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[n,t]);return b.createElement(Nie,{value:t?i:void 0},r)}function use(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:i,isAnimationActive:o,animationBegin:s,animationDuration:a,animationEasing:l,activeShape:u,inactiveShape:c,onAnimationStart:d,onAnimationEnd:f}=t,p=PS(t,"recharts-pie-"),m=n.current,[v,y]=b.useState(!1),w=b.useCallback(()=>{typeof f=="function"&&f(),y(!1)},[f]),_=b.useCallback(()=>{typeof d=="function"&&d(),y(!0)},[d]);return b.createElement(lse,{showLabels:!v,sectors:i},b.createElement(CS,{animationId:p,begin:s,duration:a,isActive:o,easing:l,onAnimationStart:_,onAnimationEnd:w,key:p},S=>{var P=[],R=i&&i[0],M=R==null?void 0:R.startAngle;return i==null||i.forEach((C,I)=>{var T=m&&m[I],k=I>0?Xd(C,"paddingAngle",0):0;if(T){var A=wi(T.endAngle-T.startAngle,C.endAngle-C.startAngle,S),j=qt(qt({},C),{},{startAngle:M+k,endAngle:M+A+k});P.push(j),M=j.endAngle}else{var{endAngle:O,startAngle:ee}=C,re=wi(0,O-ee,S),pe=qt(qt({},C),{},{startAngle:M+k,endAngle:M+re+k});P.push(pe),M=pe.endAngle}}),n.current=P,b.createElement(ks,null,b.createElement(sse,{sectors:P,activeShape:u,inactiveShape:c,allOtherPieProps:t,shape:t.shape,id:r}))}),b.createElement(ose,{showLabels:!v,sectors:i,props:t}),t.children)}var cse={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Ci.area};function dse(e){var{id:t}=e,n=Py(e,zoe),{hide:r,className:i,rootTabIndex:o}=e,s=b.useMemo(()=>D5(e.children,pf),[e.children]),a=Ye(c=>Jie(c,t,s)),l=b.useRef(null),u=un("recharts-pie",i);return r||a==null?(l.current=null,b.createElement(ks,{tabIndex:o,className:u})):b.createElement(mh,{zIndex:e.zIndex},b.createElement(Qoe,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:a,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),b.createElement(ks,{tabIndex:o,className:u},b.createElement(use,{props:qt(qt({},n),{},{sectors:a}),previousSectorsRef:l,id:t})))}function j5(e){var t=oo(e,cse),{id:n}=t,r=Py(t,Woe),i=vu(r);return b.createElement(joe,{id:n,type:"pie"},o=>b.createElement(b.Fragment,null,b.createElement(Boe,{type:"pie",id:o,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),b.createElement(Yoe,Ms({},r,{id:o})),b.createElement(dse,Ms({},r,{id:o}))))}j5.displayName="Pie";function nR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nR(Object(n),!0).forEach(function(r){fse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fse(e,t,n){return(t=hse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hse(e){var t=pse(e,"string");return typeof t=="symbol"?t:t+""}function pse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gse={xAxis:{},yAxis:{},zAxis:{}},M5=Cr({name:"cartesianAxis",initialState:gse,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Dt()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:Dt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Dt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Dt()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:Dt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Dt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Dt()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:Dt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Dt()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-o[0])<=1)return;var s=[...o,r].slice(-3);e.yAxis[n]=rR(rR({},e.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:twe,replaceXAxis:nwe,removeXAxis:rwe,addYAxis:iwe,replaceYAxis:owe,removeYAxis:swe,addZAxis:awe,replaceZAxis:lwe,removeZAxis:uwe,updateYAxisWidth:cwe}=M5.actions,mse=M5.reducer,vse=q([kn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),yse=q([vse,Lo,Fo],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),bse=()=>Ye(yse),xse=e=>{var{chartData:t}=e,n=bn(),r=Qs();return b.useEffect(()=>r?()=>{}:(n(wO(t)),()=>{n(wO(void 0))}),[t,n,r]),null},iR={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},L5=Cr({name:"brush",initialState:iR,reducers:{setBrushSettings(e,t){return t.payload==null?iR:t.payload}}}),{setBrushSettings:dwe}=L5.actions,wse=L5.reducer,_se={dots:[],areas:[],lines:[]},F5=Cr({name:"referenceElements",initialState:_se,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Ri(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Ri(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Ri(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:fwe,removeDot:hwe,addArea:pwe,removeArea:gwe,addLine:mwe,removeLine:vwe}=F5.actions,Sse=F5.reducer,Ese=b.createContext(void 0),Ise=e=>{var{children:t}=e,[n]=b.useState("".concat(Jd("recharts"),"-clip")),r=bse();if(r==null)return null;var{x:i,y:o,width:s,height:a}=r;return b.createElement(Ese.Provider,{value:n},b.createElement("defs",null,b.createElement("clipPath",{id:n},b.createElement("rect",{x:i,y:o,height:a,width:s}))),t)},Cse={},$5=Cr({name:"errorBars",initialState:Cse,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:ywe,replaceErrorBar:bwe,removeErrorBar:xwe}=$5.actions,Pse=$5.reducer,Tse={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ch=b;function Ase(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ose=typeof Object.is=="function"?Object.is:Ase,Rse=Ch.useSyncExternalStore,Dse=Ch.useRef,kse=Ch.useEffect,Nse=Ch.useMemo,jse=Ch.useDebugValue;Tse.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=Dse(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=Nse(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var m=s.value;if(i(m,p))return d=m}return d=p}if(m=d,Ose(c,p))return m;var v=r(p);return i!==void 0&&i(m,v)?(c=p,m):(c=p,d=v)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,r,i]);var a=Rse(e,o[0],o[1]);return kse(function(){s.hasValue=!0,s.value=a},[a]),jse(a),a};function Mse(e){e()}function Lse(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Mse(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var oR={notify(){},get:()=>[]};function Fse(e,t){let n,r=oR,i=0,o=!1;function s(v){c();const y=r.subscribe(v);let w=!1;return()=>{w||(w=!0,y(),d())}}function a(){r.notify()}function l(){m.onStateChange&&m.onStateChange()}function u(){return o}function c(){i++,n||(n=e.subscribe(l),r=Lse())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=oR)}function f(){o||(o=!0,c())}function p(){o&&(o=!1,d())}const m={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>r};return m}var $se=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bse=$se(),Vse=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Use=Vse(),zse=()=>Bse||Use?b.useLayoutEffect:b.useEffect,Wse=zse();function sR(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Hse(e,t){if(sR(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!sR(e[n[i]],t[n[i]]))return!1;return!0}var Rb=Symbol.for("react-redux-context"),Db=typeof globalThis<"u"?globalThis:{};function qse(){if(!b.createContext)return{};const e=Db[Rb]??(Db[Rb]=new Map);let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var Gse=qse();function Kse(e){const{children:t,context:n,serverState:r,store:i}=e,o=b.useMemo(()=>{const l=Fse(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=b.useMemo(()=>i.getState(),[i]);Wse(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,s]);const a=n||Gse;return b.createElement(a.Provider,{value:o},t)}var Yse=Kse,Qse=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Xse(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Jse(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Qse.has(r)){if(e[r]==null&&t[r]==null)continue;if(!Hse(e[r],t[r]))return!1}else if(!Xse(e[r],t[r]))return!1;return!0}var Zse="Invariant failed";function eae(e,t){throw new Error(Zse)}var tae=(e,t)=>t,VE=q([tae,Pt,l6,wn,H6,Bo,Dne,kn],$ne),UE=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},B5=fi("mouseClick"),V5=eh();V5.startListening({actionCreator:B5,effect:(e,t)=>{var n=e.payload,r=VE(t.getState(),UE(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(Rte({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var t1=fi("mouseMove"),U5=eh(),Rp=null;U5.startListening({actionCreator:t1,effect:(e,t)=>{var n=e.payload;Rp!==null&&cancelAnimationFrame(Rp);var r=UE(n);Rp=requestAnimationFrame(()=>{var i=t.getState(),o=PE(i,i.tooltip.settings.shared);if(o==="axis"){var s=VE(i,r);(s==null?void 0:s.activeIndex)!=null?t.dispatch(L6({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(M6())}Rp=null})}});function nae(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var aR={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},z5=Cr({name:"rootProps",initialState:aR,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:aR.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),rae=z5.reducer,{updateOptions:iae}=z5.actions,W5=Cr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:oae}=W5.actions,sae=W5.reducer,H5=fi("keyDown"),q5=fi("focus"),zE=eh();zE.startListening({actionCreator:H5,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var s=TE(i,tc(n),dh(n),ph(n)),a=s==null?-1:Number(s);if(!(!Number.isFinite(a)||a<0)){var l=Bo(n);if(o==="Enter"){var u=Pm(n,"axis","hover",String(i.index));t.dispatch(Qw({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var c=wte(n),d=c==="left-to-right"?1:-1,f=o==="ArrowRight"?1:-1,p=a+f*d;if(!(l==null||p>=l.length||p<0)){var m=Pm(n,"axis","hover",String(p));t.dispatch(Qw({active:!0,activeIndex:p.toString(),activeCoordinate:m}))}}}}}});zE.startListening({actionCreator:q5,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",s=Pm(n,"axis","hover",String(o));t.dispatch(Qw({active:!0,activeIndex:o,activeCoordinate:s}))}}}});var Zr=fi("externalEvent"),G5=eh(),kb=new Map;G5.startListening({actionCreator:Zr,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,o=kb.get(i);o!==void 0&&cancelAnimationFrame(o);var s=requestAnimationFrame(()=>{try{var a=t.getState(),l={activeCoordinate:vne(a),activeDataKey:Y6(a),activeIndex:ff(a),activeLabel:K6(a),activeTooltipIndex:ff(a),isTooltipActive:yne(a)};n(l,r)}finally{kb.delete(i)}});kb.set(i,s)}}});var aae=q([Zu],e=>e.tooltipItemPayloads),lae=q([aae,hh,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(a=>a.settings.graphicalItemId===r);if(i!=null){var{positions:o}=i;if(o!=null){var s=t(o,n);return s}}}),K5=fi("touchMove"),Y5=eh();Y5.startListening({actionCreator:K5,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=PE(r,r.tooltip.settings.shared);if(i==="axis"){var o=n.touches[0];if(o==null)return;var s=VE(r,UE({clientX:o.clientX,clientY:o.clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(L6({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var c=u.getAttribute(RL),d=(a=u.getAttribute(DL))!==null&&a!==void 0?a:void 0,f=ec(r).find(v=>v.id===d);if(c==null||f==null||d==null)return;var{dataKey:p}=f,m=lae(r,c,d);t.dispatch(j6({activeDataKey:p,activeIndex:c,activeCoordinate:m,activeGraphicalItemId:d}))}}}});var uae=eL({brush:wse,cartesianAxis:mse,chartData:mre,errorBars:Pse,graphicalItems:$oe,layout:oY,legend:dQ,options:dre,polarAxis:Hie,polarOptions:sae,referenceElements:Sse,rootProps:rae,tooltip:Dte,zIndex:Zne}),cae=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return OK({reducer:uae,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([V5.middleware,U5.middleware,zE.middleware,G5.middleware,Y5.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(gL({type:"raf"}))},devTools:{serialize:{replacer:nae},name:"recharts-".concat(n)}})};function dae(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Qs(),o=b.useRef(null);if(i)return n;o.current==null&&(o.current=cae(t,r));var s=cS;return b.createElement(Yse,{context:s,store:o.current},n)}function fae(e){var{layout:t,margin:n}=e,r=bn(),i=Qs();return b.useEffect(()=>{i||(r(nY(t)),r(tY(n)))},[r,i,t,n]),null}var hae=b.memo(fae,Jse);function pae(e){var t=bn();return b.useEffect(()=>{t(iae(e))},[t,e]),null}function lR(e){var{zIndex:t,isPanorama:n}=e,r=b.useRef(null),i=bn();return b.useLayoutEffect(()=>(r.current&&i(Xne({zIndex:t,element:r.current,isPanorama:n})),()=>{i(Jne({zIndex:t,isPanorama:n}))}),[i,t,n]),b.createElement("g",{tabIndex:-1,ref:r})}function uR(e){var{children:t,isPanorama:n}=e,r=Ye(Vne);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),o=r.filter(s=>s>0);return b.createElement(b.Fragment,null,i.map(s=>b.createElement(lR,{key:s,zIndex:s,isPanorama:n})),t,o.map(s=>b.createElement(lR,{key:s,zIndex:s,isPanorama:n})))}var gae=["children"];function mae(e,t){if(e==null)return{};var n,r,i=vae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Dm(){return Dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dm.apply(null,arguments)}var yae={width:"100%",height:"100%",display:"block"},bae=b.forwardRef((e,t)=>{var n=GY(),r=KY(),i=GL();if(!Ns(n)||!Ns(r))return null;var{children:o,otherAttributes:s,title:a,desc:l}=e,u,c;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?c=s.role:c=i?"application":void 0),b.createElement(n4,Dm({},s,{title:a,desc:l,role:c,tabIndex:u,width:n,height:r,style:yae,ref:t}),o)}),xae=e=>{var{children:t}=e,n=Ye(ty);if(!n)return null;var{width:r,height:i,y:o,x:s}=n;return b.createElement(n4,{width:r,height:i,x:s,y:o},t)},cR=b.forwardRef((e,t)=>{var{children:n}=e,r=mae(e,gae),i=Qs();return i?b.createElement(xae,null,b.createElement(uR,{isPanorama:!0},n)):b.createElement(bae,Dm({ref:t},r),b.createElement(uR,{isPanorama:!1},n))});function wae(){var e=bn(),[t,n]=b.useState(null),r=Ye(xY);return b.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;cn(o)&&o!==r&&e(iY(o))}},[t,e,r]),n}function dR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _ae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dR(Object(n),!0).forEach(function(r){Sae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sae(e,t,n){return(t=Eae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eae(e){var t=Iae(e,"string");return typeof t=="symbol"?t:t+""}function Iae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qa(){return qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qa.apply(null,arguments)}var Cae=()=>(Ire(),null);function km(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Pae=b.forwardRef((e,t)=>{var n,r,i=b.useRef(null),[o,s]=b.useState({containerWidth:km((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:km((r=e.style)===null||r===void 0?void 0:r.height)}),a=b.useCallback((u,c)=>{s(d=>{var f=Math.round(u),p=Math.round(c);return d.containerWidth===f&&d.containerHeight===p?d:{containerWidth:f,containerHeight:p}})},[]),l=b.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:d}=u.getBoundingClientRect();a(c,d);var f=m=>{var{width:v,height:y}=m[0].contentRect;a(v,y)},p=new ResizeObserver(f);p.observe(u),i.current=p}},[t,a]);return b.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[a]),b.createElement(b.Fragment,null,b.createElement(iy,{width:o.containerWidth,height:o.containerHeight}),b.createElement("div",qa({ref:l},e)))}),Tae=b.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,o]=b.useState({containerWidth:km(n),containerHeight:km(r)}),s=b.useCallback((l,u)=>{o(c=>{var d=Math.round(l),f=Math.round(u);return c.containerWidth===d&&c.containerHeight===f?c:{containerWidth:d,containerHeight:f}})},[]),a=b.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();s(u,c)}},[t,s]);return b.createElement(b.Fragment,null,b.createElement(iy,{width:i.containerWidth,height:i.containerHeight}),b.createElement("div",qa({ref:a},e)))}),Aae=b.forwardRef((e,t)=>{var{width:n,height:r}=e;return b.createElement(b.Fragment,null,b.createElement(iy,{width:n,height:r}),b.createElement("div",qa({ref:t},e)))}),Oae=b.forwardRef((e,t)=>{var{width:n,height:r}=e;return Co(n)||Co(r)?b.createElement(Tae,qa({},e,{ref:t})):b.createElement(Aae,qa({},e,{ref:t}))});function Rae(e){return e===!0?Pae:Oae}var Dae=b.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:s,onDoubleClick:a,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:d,onMouseUp:f,onTouchEnd:p,onTouchMove:m,onTouchStart:v,style:y,width:w,responsive:_,dispatchTouchEvents:S=!0}=e,P=b.useRef(null),R=bn(),[M,C]=b.useState(null),[I,T]=b.useState(null),k=wae(),A=wS(),j=(A==null?void 0:A.width)>0?A.width:w,O=(A==null?void 0:A.height)>0?A.height:i,ee=b.useCallback(L=>{k(L),typeof t=="function"&&t(L),C(L),T(L),L!=null&&(P.current=L)},[k,t,C,T]),re=b.useCallback(L=>{R(B5(L)),R(Zr({handler:o,reactEvent:L}))},[R,o]),pe=b.useCallback(L=>{R(t1(L)),R(Zr({handler:u,reactEvent:L}))},[R,u]),Oe=b.useCallback(L=>{R(M6()),R(Zr({handler:c,reactEvent:L}))},[R,c]),F=b.useCallback(L=>{R(t1(L)),R(Zr({handler:d,reactEvent:L}))},[R,d]),Q=b.useCallback(()=>{R(q5())},[R]),le=b.useCallback(L=>{R(H5(L.key))},[R]),be=b.useCallback(L=>{R(Zr({handler:s,reactEvent:L}))},[R,s]),we=b.useCallback(L=>{R(Zr({handler:a,reactEvent:L}))},[R,a]),X=b.useCallback(L=>{R(Zr({handler:l,reactEvent:L}))},[R,l]),ie=b.useCallback(L=>{R(Zr({handler:f,reactEvent:L}))},[R,f]),Ie=b.useCallback(L=>{R(Zr({handler:v,reactEvent:L}))},[R,v]),te=b.useCallback(L=>{S&&R(K5(L)),R(Zr({handler:m,reactEvent:L}))},[R,S,m]),D=b.useCallback(L=>{R(Zr({handler:p,reactEvent:L}))},[R,p]),V=Rae(_);return b.createElement(n5.Provider,{value:M},b.createElement(xq.Provider,{value:I},b.createElement(V,{width:j??(y==null?void 0:y.width),height:O??(y==null?void 0:y.height),className:un("recharts-wrapper",r),style:_ae({position:"relative",cursor:"default",width:j,height:O},y),onClick:re,onContextMenu:be,onDoubleClick:we,onFocus:Q,onKeyDown:le,onMouseDown:X,onMouseEnter:pe,onMouseLeave:Oe,onMouseMove:F,onMouseUp:ie,onTouchEnd:D,onTouchMove:te,onTouchStart:Ie,ref:ee},b.createElement(Cae,null),n)))}),kae=["width","height","responsive","children","className","style","compact","title","desc"];function Nae(e,t){if(e==null)return{};var n,r,i=jae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Mae=b.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:o,className:s,style:a,compact:l,title:u,desc:c}=e,d=Nae(e,kae),f=vu(d);return l?b.createElement(b.Fragment,null,b.createElement(iy,{width:n,height:r}),b.createElement(cR,{otherAttributes:f,title:u,desc:c},o)):b.createElement(Dae,{className:s,style:a,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},b.createElement(cR,{otherAttributes:f,title:u,desc:c,ref:t},b.createElement(Ise,null,o)))});function Lae(e){var t=bn();return b.useEffect(()=>{t(oae(e))},[t,e]),null}var Fae=["layout"];function n1(){return n1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n1.apply(null,arguments)}function $ae(e,t){if(e==null)return{};var n,r,i=Bae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Vae={top:5,right:5,bottom:5,left:5},Q5={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Vae,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Uae=b.forwardRef(function(t,n){var r,i=oo(t.categoricalChartProps,Q5),{layout:o}=i,s=$ae(i,Fae),{chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c}=t,d={chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return b.createElement(dae,{preloadedState:{options:d},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:a},b.createElement(xse,{chartData:i.data}),b.createElement(hae,{layout:o,margin:i.margin}),b.createElement(pae,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),b.createElement(Lae,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),b.createElement(Mae,n1({},s,{ref:n})))});function fR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fR(Object(n),!0).forEach(function(r){zae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zae(e,t,n){return(t=Wae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wae(e){var t=Hae(e,"string");return typeof t=="symbol"?t:t+""}function Hae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qae=["item"],Gae=hR(hR({},Q5),{},{layout:"centric",startAngle:0,endAngle:360}),Kae=b.forwardRef((e,t)=>{var n=oo(e,Gae);return b.createElement(Uae,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:qae,tooltipPayloadSearcher:ure,categoricalChartProps:n,ref:t})});function Yae(){var be,we,X,ie,Ie,te;const[e,t]=b.useState([]),[n,r]=b.useState("All"),[i,o]=b.useState(null),[s,a]=b.useState(!1),[l,u]=b.useState("details"),[c,d]=b.useState([]),[f,p]=b.useState(""),[m,v]=b.useState({}),[y,w]=b.useState(!1),[_,S]=b.useState({}),[P,R]=b.useState([]),[M,C]=b.useState([]),[I,T]=b.useState(!1),k=gi(),A=JSON.parse(localStorage.getItem("admin"))||{},j=A.userId,O=A.userId,ee=["Monday","Tuesday","Wednesday","Thursday","Friday"],re=async()=>{try{const V=((await z.get(`http://127.0.0.1:5000/api/get_post_notifications/${O}`)).data||[]).map(L=>({...L,notificationId:L.notificationId||L.id}));C(V)}catch(D){console.error("Post notification fetch failed",D)}};b.useEffect(()=>{if(!O)return;re();const D=setInterval(re,5e3);return()=>clearInterval(D)},[O]);const pe=async D=>{await z.post("http://127.0.0.1:5000/api/mark_post_notification_read",{notificationId:D.notificationId}),C(V=>V.filter(L=>L.notificationId!==D.notificationId)),T(!1),k("/dashboard",{state:{postId:D.postId}})};b.useEffect(()=>{const D=V=>{!V.target.closest(".icon-circle")&&!V.target.closest(".notification-dropdown")&&T(!1)};return document.addEventListener("click",D),()=>document.removeEventListener("click",D)},[]),b.useEffect(()=>{(async()=>{try{const[V,L,J,Z]=await Promise.all([z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Teachers.json"),z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/TeacherAssignments.json"),z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Courses.json"),z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Users.json")]),$=V.data||{},B=L.data||{},W=J.data||{},ae=Z.data||{},ne=Object.keys($).map(ce=>{const he=$[ce],xe=ae[he.userId]||{},ze=Object.values(B).filter(He=>He.teacherId===ce).map(He=>{const Xe=W[He.courseId];return Xe?{grade:Xe.grade,subject:Xe.subject,section:Xe.section}:null}).filter(Boolean);return{teacherId:ce,name:xe.name||"No Name",profileImage:xe.profileImage||"/default-profile.png",gradesSubjects:ze,email:xe.email||null,userId:he.userId}});t(ne)}catch(V){console.error("Error fetching teachers:",V)}})()},[]);const Oe=n==="All"?e:e.filter(D=>D.gradesSubjects.some(V=>V.grade===n));b.useEffect(()=>{if(!i||l!=="schedule")return;(async()=>{try{const L=(await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Schedules.json")).data||{},J={};Object.entries(L).forEach(([Z,$])=>{Object.entries($||{}).forEach(([B,W])=>{Object.entries(W||{}).forEach(([ae,ne])=>{ne&&ne.teacherId===i.teacherId&&!ne.break&&(J[Z]||(J[Z]={}),J[Z][ae]||(J[Z][ae]=[]),J[Z][ae].push({subject:ne.subject,class:B}))})})}),console.log(" FINAL TEACHER SCHEDULE:",J),v(J)}catch(V){console.error(" Schedule fetch failed:",V),v({})}})()},[i,l]),b.useEffect(()=>{(async()=>{const L=await(await fetch("/api/unreadSenders")).json();R(L)})()},[]),b.useEffect(()=>{if(!j||e.length===0)return;(async()=>{const V={};for(const L of e){const J=`${j}_${L.userId}`;try{const Z=await z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${J}/messages.json`),B=Object.values(Z.data||{}).filter(W=>W.receiverId===j&&W.seen===!1).length;B>0&&(V[L.userId]=B)}catch(Z){console.error(Z)}}S(V)})()},[e,j]),b.useEffect(()=>{if(!s||!i)return;(async()=>{try{const V=getChatKey(i.userId,j),L=await z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${V}/messages.json`),J=Object.entries(L.data||{}).map(([Z,$])=>({messageId:Z,...$,sender:$.senderId===j?"admin":"teacher"})).sort((Z,$)=>Z.timeStamp-$.timeStamp);d(J)}catch(V){console.error(V),d([])}})()},[s,i,j]);const F=async()=>{if(!f.trim()||!i)return;const D={senderId:j,receiverId:i.userId,type:"text",text:f,imageUrl:null,replyTo:null,seen:!1,edited:!1,deleted:!1,timeStamp:Date.now()},V=getChatKey(i.userId,j);try{await z.post(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${V}/messages.json`,D),d(L=>[...L,{...D,sender:"admin"}]),p("")}catch(L){console.error(L)}},Q=async D=>{const V=getChatKey(D,j);try{const L=await z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${V}/messages.json`),J={};Object.entries(L.data||{}).forEach(([Z,$])=>{$.receiverId===j&&!$.seen&&(J[`${Z}/seen`]=!0)}),Object.keys(J).length>0&&await z.patch(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${V}/messages.json`,J)}catch(L){console.error(L)}},le=async()=>{if(!A.userId)return;const D={};try{const L=(await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Users.json")).data||{},J=ae=>Object.values(L).find(ne=>ne.userId===ae),Z=async ae=>{const ne=`${A.userId}_${ae}`,ce=`${ae}_${A.userId}`,[he,xe]=await Promise.all([z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${ne}/messages.json`),z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${ce}/messages.json`)]);return[...Object.values(he.data||{}),...Object.values(xe.data||{})].filter(He=>He.receiverId===A.userId&&!He.seen).length},$=await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Teachers.json");for(const ae in $.data||{}){const ne=$.data[ae],ce=await Z(ne.userId);if(ce>0){const he=J(ne.userId);D[ne.userId]={type:"teacher",name:(he==null?void 0:he.name)||"Teacher",profileImage:(he==null?void 0:he.profileImage)||"/default-profile.png",count:ce}}}const B=await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Students.json");for(const ae in B.data||{}){const ne=B.data[ae],ce=await Z(ne.userId);if(ce>0){const he=J(ne.userId);D[ne.userId]={type:"student",name:(he==null?void 0:he.name)||ne.name||"Student",profileImage:(he==null?void 0:he.profileImage)||ne.profileImage||"/default-profile.png",count:ce}}}const W=await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Parents.json");for(const ae in W.data||{}){const ne=W.data[ae],ce=await Z(ne.userId);if(ce>0){const he=J(ne.userId);D[ne.userId]={type:"parent",name:(he==null?void 0:he.name)||ne.name||"Parent",profileImage:(he==null?void 0:he.profileImage)||ne.profileImage||"/default-profile.png",count:ce}}}R(D)}catch(V){console.error("Unread fetch failed:",V)}};return b.useEffect(()=>{const D=V=>{!V.target.closest(".icon-circle")&&!V.target.closest(".messenger-dropdown")&&w(!1)};return document.addEventListener("click",D),()=>document.removeEventListener("click",D)},[]),b.useEffect(()=>{if(!A.userId)return;le();const D=setInterval(le,5e3);return()=>clearInterval(D)},[A.userId]),b.useEffect(()=>{if(!s||!i)return;(async()=>{const V=`${j}_${i.userId}`;try{const L=await z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${V}/messages.json`),J=Object.entries(L.data||{}),Z={};J.forEach(([$,B])=>{B.receiverId===j&&!B.seen&&(Z[$+"/seen"]=!0)}),Object.keys(Z).length>0&&(await z.patch(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${V}/messages.json`,Z),S($=>({...$,[i.userId]:0})))}catch(L){console.error(L)}})()},[s,i,j]),g.jsxs("div",{className:"dashboard-page",children:[g.jsxs("nav",{className:"top-navbar",children:[g.jsx("h2",{children:"Gojo Dashboard"}),g.jsxs("div",{className:"nav-search",children:[g.jsx(ul,{className:"search-icon"}),g.jsx("input",{type:"text",placeholder:"Search Teacher and Student..."})]}),g.jsxs("div",{className:"nav-right",children:[g.jsxs("div",{className:"icon-circle",style:{position:"relative",cursor:"pointer"},onClick:D=>{D.stopPropagation(),T(V=>!V)},children:[g.jsx(il,{}),M.length>0&&g.jsx("span",{style:{position:"absolute",top:"-5px",right:"-5px",background:"red",color:"#fff",borderRadius:"50%",padding:"2px 6px",fontSize:"10px",fontWeight:"bold"},children:M.length}),I&&g.jsx("div",{className:"notification-dropdown",style:{position:"absolute",top:"40px",right:"0",width:"350px",maxHeight:"400px",overflowY:"auto",background:"#fff",borderRadius:"10px",boxShadow:"0 4px 15px rgba(0,0,0,0.25)",zIndex:1e3},onClick:D=>D.stopPropagation(),children:M.length===0?g.jsx("p",{style:{padding:"12px",textAlign:"center"},children:"No new notifications"}):M.map(D=>g.jsxs("div",{style:{display:"flex",gap:"10px",padding:"10px",cursor:"pointer",borderBottom:"1px solid #eee"},onClick:()=>pe(D),children:[g.jsx("img",{src:D.adminProfile||"/default-profile.png",alt:D.adminName,style:{width:"40px",height:"40px",borderRadius:"50%"}}),g.jsxs("div",{children:[g.jsx("strong",{children:D.adminName}),g.jsx("p",{style:{margin:0},children:D.message})]})]},D.notificationId))})]}),g.jsxs("div",{className:"icon-circle",style:{position:"relative",cursor:"pointer"},onClick:D=>{D.stopPropagation(),w(V=>!V)},children:[g.jsx(rl,{}),Object.keys(P).length>0&&g.jsx("span",{style:{position:"absolute",top:"-5px",right:"-5px",background:"red",color:"#fff",borderRadius:"50%",padding:"2px 6px",fontSize:"10px",fontWeight:"bold"},children:Object.values(P).reduce((D,V)=>D+V.count,0)}),y&&g.jsx("div",{style:{position:"absolute",top:"40px",right:"0",width:"300px",background:"#fff",borderRadius:"10px",boxShadow:"0 4px 15px rgba(0,0,0,0.25)",zIndex:1e3},children:Object.keys(P).length===0?g.jsx("p",{style:{padding:"12px",textAlign:"center",color:"#777"},children:"No new messages"}):Object.entries(P).map(([D,V])=>g.jsxs("div",{style:{padding:"12px",display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",borderBottom:"1px solid #eee"},onClick:async()=>{w(!1),await Q(D),R(L=>{const J={...L};return delete J[D],J}),k("/all-chat",{state:{user:{userId:D,name:V.name,profileImage:V.profileImage,type:V.type}}})},children:[g.jsx("img",{src:V.profileImage,alt:V.name,style:{width:"42px",height:"42px",borderRadius:"50%"}}),g.jsxs("div",{children:[g.jsx("strong",{children:V.name}),g.jsxs("p",{style:{fontSize:"12px",margin:0},children:[V.count," new message",V.count>1&&"s"]})]})]},D))})]}),g.jsx(Le,{className:"icon-circle",to:"/settings",children:g.jsx(sl,{})}),g.jsx("img",{src:A.profileImage||"/default-profile.png",alt:"admin",className:"profile-img"})]})]}),g.jsxs("div",{className:"google-dashboard",style:{display:"flex"},children:[g.jsxs("div",{className:"google-sidebar",children:[g.jsxs("div",{className:"sidebar-profile",children:[g.jsx("div",{className:"sidebar-img-circle",children:g.jsx("img",{src:A.profileImage||"/default-profile.png",alt:"profile"})}),g.jsx("h3",{children:A.name}),g.jsx("p",{children:A.username})]}),g.jsxs("div",{className:"sidebar-menu",children:[g.jsxs(Le,{className:"sidebar-btn",to:"/dashboard",children:[" ",g.jsx(ll,{style:{width:"28px",height:"28px"}})," Home"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/my-posts",children:[g.jsx(al,{})," My Posts"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/teachers",style:{backgroundColor:"#4b6cb7",color:"#fff"},children:[g.jsx(Jt,{})," Teachers"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/students",children:[" ",g.jsx(Jt,{})," Students"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/schedule",children:[g.jsx(ol,{})," Schedule"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/parents",children:[g.jsx(Jt,{})," Parents"]}),g.jsxs("button",{className:"sidebar-btn logout-btn",onClick:()=>{localStorage.removeItem("admin"),window.location.href="/login"},children:[g.jsx(cl,{})," Logout"]})]})]}),g.jsxs("div",{className:"main-content",style:{padding:"30px",width:"65%",marginLeft:"200px"},children:[g.jsx("h2",{style:{marginBottom:"10px",textAlign:"center"},children:"Teachers"}),g.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"25px"},children:g.jsx("div",{style:{display:"flex",gap:"12px"},children:["All","9","10","11","12"].map(D=>g.jsx("button",{onClick:()=>r(D),style:{padding:"10px 20px",borderRadius:"8px",background:n===D?"#4b6cb7":"#ddd",color:n===D?"#fff":"#000",cursor:"pointer",border:"none"},children:D==="All"?"All Teachers":`Grade ${D}`},D))})}),Oe.length===0?g.jsx("p",{style:{textAlign:"center",color:"#555"},children:"No teachers found for this grade."}):g.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"20px"},children:Oe.map(D=>g.jsxs("div",{onClick:()=>o(D),style:{width:"700px",height:"100px",border:"1px solid #ddd",borderRadius:"12px",padding:"15px",background:(i==null?void 0:i.teacherId)===D.teacherId?"#e0e7ff":"#fff",border:(i==null?void 0:i.teacherId)===D.teacherId?"2px solid #4b6cb7":"1px solid #ddd",boxShadow:(i==null?void 0:i.teacherId)===D.teacherId?"0 6px 15px rgba(75,108,183,0.3)":"0 4px 10px rgba(0,0,0,0.1)",cursor:"pointer",transition:"all 0.3s ease"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:[g.jsx("img",{src:D.profileImage,alt:D.name,style:{width:"65px",height:"65px",borderRadius:"50%",border:(i==null?void 0:i.teacherId)===D.teacherId?"3px solid #4b6cb7":"3px solid red",objectFit:"cover",transition:"all 0.3s ease"}}),g.jsx("h3",{style:{marginTop:"-35px"},children:D.name}),_[D.userId]>0&&g.jsx("span",{style:{margin:"10px 10px 10px 200px",background:"red",color:"#fff",borderRadius:"50%",padding:"4px 8px",fontSize:"12px"},children:_[D.userId]})]}),g.jsx("div",{style:{marginLeft:"70px",marginTop:"-25px",color:"#555"},children:D.gradesSubjects.length>0?D.gradesSubjects.map(V=>V.subject).join(", "):"No assigned courses"})]},D.teacherId))})]}),i&&g.jsx("div",{className:"teacher-info-sidebar",style:{width:"30%",position:"fixed",right:0,top:"70px",height:"calc(100vh - 70px)",background:"#ffffff",boxShadow:"0 0 18px rgba(0,0,0,0.08)",borderLeft:"1px solid #e5e7eb",zIndex:20,display:"flex",flexDirection:"column"},children:g.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"25px"},children:[g.jsxs("div",{style:{background:"#e0e7ff",margin:"-25px -25px 20px",padding:"30px 20px",textAlign:"center"},children:[g.jsx("div",{style:{width:"110px",height:"110px",margin:"0 auto 15px",borderRadius:"50%",overflow:"hidden",border:"4px solid #4b6cb7"},children:g.jsx("img",{src:i.profileImage,alt:i.name,style:{width:"100%",height:"100%",objectFit:"cover"}})}),g.jsx("h2",{style:{margin:0,color:"#111827"},children:i.name}),g.jsx("p",{style:{margin:"4px 0",color:"#6b7280",fontSize:"14px"},children:i.email||"teacher@example.com"})]}),g.jsx("div",{style:{display:"flex",borderBottom:"1px solid #e5e7eb",marginBottom:"15px"},children:["details","schedule","plan"].map(D=>g.jsx("button",{onClick:()=>u(D),style:{flex:1,padding:"12px",background:"none",border:"none",cursor:"pointer",fontWeight:600,color:l===D?"#4b6cb7":"#6b7280",borderBottom:l===D?"3px solid #4b6cb7":"3px solid transparent"},children:D.toUpperCase()},D))}),l==="details"&&i&&g.jsxs("div",{style:{background:"linear-gradient(145deg, #f0f4ff, #ffffff)",padding:"30px",borderRadius:"24px",boxShadow:"0 20px 40px rgba(0,0,0,0.1)",maxWidth:"900px",margin:"20px auto",fontFamily:"Poppins, sans-serif",transition:"0.4s"},children:[g.jsx("div",{style:{display:"flex",alignItems:"center",gap:20,marginBottom:30},children:g.jsxs("div",{children:[g.jsx("h2",{style:{margin:0,color:"#1e40af",fontSize:28},children:i.name}),g.jsxs("p",{style:{margin:4,color:"#6b7280",fontSize:14},children:["Teacher ID: ",g.jsx("span",{style:{fontWeight:600},children:i.teacherId})]})]})}),g.jsxs("div",{style:{display:"flex",gap:16,flexWrap:"wrap",marginBottom:25},children:[g.jsxs("div",{style:{flex:"1 1 150px",background:"#e0f2fe",padding:"16px",borderRadius:"16px",textAlign:"center",boxShadow:"0 6px 18px rgba(0,0,0,0.08)",cursor:"default"},children:[g.jsx("h3",{style:{margin:0,color:"#1e3a8a"},children:((be=i.gradesSubjects)==null?void 0:be.length)||0}),g.jsx("p",{style:{margin:0,color:"#2563eb"},children:"Courses Assigned"})]}),g.jsxs("div",{style:{flex:"1 1 150px",background:"#fde68a",padding:"16px",borderRadius:"16px",textAlign:"center",boxShadow:"0 6px 18px rgba(0,0,0,0.08)",cursor:"default"},children:[g.jsx("h3",{style:{margin:0,color:"#b45309"},children:(we=i.gradesSubjects)==null?void 0:we.reduce((D,V)=>D+1,0)}),g.jsx("p",{style:{margin:0,color:"#f59e0b"},children:"Subjects"})]}),g.jsxs("div",{style:{flex:"1 1 150px",background:"#fef3c7",padding:"16px",borderRadius:"16px",textAlign:"center",boxShadow:"0 6px 18px rgba(0,0,0,0.08)",position:"relative"},children:[g.jsx("div",{style:{width:40,height:40,margin:"0 auto 8px",borderRadius:"50%",background:"#fbbf24",animation:"pulse 1.5s infinite"}}),g.jsx("p",{style:{margin:0,fontWeight:600,color:"#b45309"},children:"Busy Periods"}),g.jsxs("p",{style:{margin:0,color:"#92400e",fontSize:14},children:[(X=i.gradesSubjects)==null?void 0:X.reduce((D,V)=>D+(V.periods||1),0)," / 8"]})]})]}),g.jsxs("div",{children:[g.jsx("h4",{style:{color:"#4b6cb7",marginBottom:16},children:"Assigned Courses"}),((ie=i.gradesSubjects)==null?void 0:ie.length)>0?g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px,1fr))",gap:12},children:i.gradesSubjects.map((D,V)=>{const L=[["#e0f2fe","#bae6fd"],["#d1fae5","#a7f3d0"],["#fef3c7","#fde68a"],["#fee2e2","#fecaca"],["#ede9fe","#ddd6fe"]],J=L[V%L.length];return D.periods||Math.floor(Math.random()*5)+1,D.availability||Math.floor(Math.random()*100),g.jsxs("div",{style:{background:`linear-gradient(135deg, ${J[0]}, ${J[1]})`,padding:"14px",borderRadius:"16px",boxShadow:"0 6px 18px rgba(0,0,0,0.08)",cursor:"pointer",position:"relative",overflow:"hidden"},children:[g.jsx("p",{style:{margin:0,fontWeight:600,color:"#1e3a8a"},children:D.subject}),g.jsxs("small",{style:{color:"#374151"},children:["Grade ",D.grade,"  Section ",D.section]})]},V)})}):g.jsx("p",{style:{color:"#9ca3af",fontStyle:"italic"},children:"No assigned courses yet"})]}),g.jsxs("div",{style:{marginTop:40,background:"#fefefe",padding:20,borderRadius:16,boxShadow:"0 10px 25px rgba(0,0,0,0.08)"},children:[g.jsx("h4",{style:{color:"#4b6cb7",marginBottom:12},children:"Workload Overview"}),g.jsx(WY,{width:"100%",height:200,children:g.jsxs(Kae,{children:[g.jsxs(j5,{data:[{name:"Busy",value:((Ie=i.gradesSubjects)==null?void 0:Ie.reduce((D,V)=>D+(V.periods||1),0))||0},{name:"Free",value:8-(((te=i.gradesSubjects)==null?void 0:te.reduce((D,V)=>D+(V.periods||1),0))||0)}],dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:70,innerRadius:40,paddingAngle:4,children:[g.jsx(pf,{fill:"#4b6cb7"},"busy"),g.jsx(pf,{fill:"#dbeafe"},"free")]}),g.jsx(kre,{})]})}),g.jsx("p",{style:{textAlign:"center",marginTop:8,fontWeight:600,color:"#1e3a8a"},children:"Busy vs Free Periods"})]}),g.jsx("style",{children:`
      @keyframes pulse {
        0% { transform: scale(0.9); opacity: 0.7; }
        50% { transform: scale(1.1); opacity: 1; }
        100% { transform: scale(0.9); opacity: 0.7; }
      }
    `})]}),l==="schedule"&&g.jsxs("div",{style:{padding:"20px"},children:[g.jsx("h4",{style:{fontSize:"22px",fontWeight:"700",textAlign:"center",marginBottom:"25px",color:"#1e3a8a",letterSpacing:"0.5px"},children:"Weekly Teaching Schedule"}),Object.keys(m).length===0?g.jsx("div",{style:{textAlign:"center",padding:"40px",borderRadius:"16px",background:"#f3f4f6",color:"#6b7280",fontSize:"15px",boxShadow:"0 4px 12px rgba(0,0,0,0.05)"},children:" No schedule assigned yet"}):g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"24px"},children:ee.filter(D=>m[D]).map(D=>{const V=m[D];return g.jsxs("div",{style:{borderRadius:"16px",padding:"18px",background:"#ffffff",boxShadow:"0 6px 20px rgba(0,0,0,0.08)",border:"1px solid #e5e7eb",transition:"transform 0.2s ease, box-shadow 0.2s ease"},onMouseEnter:L=>{L.currentTarget.style.transform="translateY(-3px)",L.currentTarget.style.boxShadow="0 12px 30px rgba(0,0,0,0.12)"},onMouseLeave:L=>{L.currentTarget.style.transform="translateY(0)",L.currentTarget.style.boxShadow="0 6px 20px rgba(0,0,0,0.08)"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[g.jsxs("h5",{style:{fontSize:"18px",fontWeight:"600",color:"#1e3a8a"},children:[" ",D]}),g.jsxs("span",{style:{fontSize:"12px",padding:"5px 12px",borderRadius:"999px",background:"#eef2ff",color:"#1e40af",fontWeight:"500"},children:[Object.keys(V).length," periods"]})]}),Object.entries(V).map(([L,J])=>g.jsxs("div",{style:{marginBottom:"14px",borderRadius:"12px",padding:"12px",background:"#f9fafb",border:"1px solid #e5e7eb",transition:"transform 0.2s ease",cursor:"pointer"},onMouseEnter:Z=>Z.currentTarget.style.transform="translateY(-2px)",onMouseLeave:Z=>Z.currentTarget.style.transform="translateY(0)",children:[g.jsxs("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"10px"},children:[" ",L]}),J.map((Z,$)=>g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 10px",borderRadius:"10px",background:"#ffffff",marginBottom:"6px",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",fontSize:"13px"},children:[g.jsxs("span",{style:{fontWeight:"500",color:"#111827"},children:[" ",Z.subject]}),g.jsx("span",{style:{fontSize:"12px",fontWeight:"500",padding:"3px 8px",borderRadius:"999px",background:"#e0e7ff",color:"#3730a3"},children:Z.class})]},$))]},L))]},D)})})]}),l==="plan"&&g.jsx("p",{style:{color:"#6b7280"},children:"Teacher lesson plans will be shown here."}),g.jsx("div",{onClick:()=>a(!0),style:{position:"fixed",bottom:"20px",right:"20px",width:"48px",height:"48px",background:"linear-gradient(135deg, #833ab4, #fd1d1d, #fcb045)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",cursor:"pointer",zIndex:9999,boxShadow:"0 8px 18px rgba(0,0,0,0.25)",transition:"transform 0.2s ease, box-shadow 0.2s ease"},onMouseEnter:D=>{D.currentTarget.style.transform="scale(1.08)",D.currentTarget.style.boxShadow="0 12px 26px rgba(0,0,0,0.35)"},onMouseLeave:D=>{D.currentTarget.style.transform="scale(1)",D.currentTarget.style.boxShadow="0 8px 18px rgba(0,0,0,0.25)"},children:g.jsx(Y_,{size:22})})]})})]}),s&&i&&g.jsxs("div",{style:{position:"fixed",bottom:"6px",right:"22px",width:"320px",background:"#fff",borderRadius:"12px",boxShadow:"0 8px 25px rgba(0,0,0,0.15)",padding:"15px",zIndex:999},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #ddd",paddingBottom:"10px"},children:[g.jsx("strong",{children:i.name}),g.jsxs("div",{style:{display:"flex",gap:"10px"},children:[g.jsx("button",{onClick:()=>{a(!1),k("/all-chat",{state:{user:i}})},style:{background:"none",border:"none",fontSize:"18px",cursor:"pointer"},children:""}),g.jsx("button",{onClick:()=>a(!1),style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer"},children:""})]})]}),g.jsx("div",{style:{height:"260px",overflowY:"auto",padding:"10px"},children:c.length===0?g.jsxs("p",{style:{color:"#aaa",textAlign:"center"},children:["Start a conversation with ",i.name,"..."]}):c.map((D,V)=>g.jsx("div",{style:{marginBottom:"8px",textAlign:D.sender==="admin"?"right":"left"},children:g.jsx("span",{style:{padding:"8px 12px",borderRadius:"10px",background:D.sender==="admin"?"#4b6cb7":"#eee",color:D.sender==="admin"?"#fff":"#000",display:"inline-block",maxWidth:"80%"},children:D.text})},V))}),g.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[g.jsx("input",{value:f,onChange:D=>p(D.target.value),onKeyDown:D=>D.key==="Enter"&&F(),placeholder:"Type a message...",style:{flex:1,padding:"10px",borderRadius:"8px",border:"1px solid #ccc"}}),g.jsx("button",{onClick:()=>sendMessage(newMessageText),style:{background:"none",border:"none",color:"#3654dada",cursor:"pointer",fontSize:"30px"},children:""})]})]})]})}const Qae=()=>{};var pR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge=function(e,t){if(!e)throw nc(t)},nc=function(e){return new Error("Firebase Database ("+X5.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Xae=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],s=e[n++],a=e[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},WE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,a=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,s||(f=64)),r.push(n[c],n[d],n[f],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(J5(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Xae(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new Jae;const f=o<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Jae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Z5=function(e){const t=J5(e);return WE.encodeByteArray(t,!0)},Nm=function(e){return Z5(e).replace(/\./g,"")},r1=function(e){try{return WE.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zae(e){return eF(void 0,e)}function eF(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!ele(n)||(e[n]=eF(e[n],t[n]));return e}function ele(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tle(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nle=()=>tle().__FIREBASE_DEFAULTS__,rle=()=>{if(typeof process>"u"||typeof pR>"u")return;const e=pR.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},ile=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&r1(e[1]);return t&&JSON.parse(t)},HE=()=>{try{return Qae()||nle()||rle()||ile()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},ole=e=>{var t,n;return(n=(t=HE())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},tF=e=>{const t=ole(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},nF=()=>{var e;return(e=HE())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rF(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iF(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Nm(JSON.stringify(n)),Nm(JSON.stringify(s)),""].join(".")}const xd={};function sle(){const e={prod:[],emulator:[]};for(const t of Object.keys(xd))xd[t]?e.emulator.push(t):e.prod.push(t);return e}function ale(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let gR=!1;function oF(e,t){if(typeof window>"u"||typeof document>"u"||!Th(window.location.host)||xd[e]===t||xd[e]||gR)return;xd[e]=t;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",o=sle().prod.length>0;function s(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{gR=!0,s()},f}function c(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=ale(r),p=n("text"),m=document.getElementById(p)||document.createElement("span"),v=n("learnmore"),y=document.getElementById(v)||document.createElement("a"),w=n("preprendIcon"),_=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const S=f.element;a(S),c(y,v);const P=u();l(_,w),S.append(_,m,y,P),document.body.appendChild(S)}o?(m.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sF(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sF())}function lle(){var t;const e=(t=HE())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ule(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cle(){return X5.NODE_ADMIN===!0}function dle(){return!lle()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fle(){try{return typeof indexedDB=="object"}catch{return!1}}function hle(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)==null?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ple="FirebaseError";class rc extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=ple,Object.setPrototypeOf(this,rc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lF.prototype.create)}}class lF{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?gle(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new rc(i,a,r)}}function gle(e,t){return e.replace(mle,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const mle=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(e){return JSON.parse(e)}function gn(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=gf(r1(o[0])||""),n=gf(r1(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},vle=function(e){const t=uF(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},yle=function(e){const t=uF(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Eu(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function mR(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function jm(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function mf(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if(vR(o)&&vR(s)){if(!mf(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function vR(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ble(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xle{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^o&(s^a),c=1518500249):(u=o^s^a,c=1859775393):d<60?(u=o&s|a&(o|s),c=2400959708):(u=o^s^a,c=3395469782);const f=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(o[s]=t.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=t[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[i]>>o&255,++r;return t}}function Ty(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wle=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,ge(r<e.length,"Surrogate pair missing trail surrogate.");const s=e.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Ay=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(e){return e&&e._delegate?e._delegate:e}class Iu{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _le=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Ph;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Ele(t))try{this.getOrInitializeService({instanceIdentifier:ga})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=ga){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ga){return this.instances.has(t)}getOptions(t=ga){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(t),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&t(o,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Sle(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ga){return this.component?this.component.multipleInstances?t:ga:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Sle(e){return e===ga?void 0:e}function Ele(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ile{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new _le(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(nt||(nt={}));const Cle={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},Ple=nt.INFO,Tle={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},Ale=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=Tle[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class qE{constructor(t){this.name=t,this._logLevel=Ple,this._logHandler=Ale,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Cle[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...t),this._logHandler(this,nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...t),this._logHandler(this,nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...t),this._logHandler(this,nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...t),this._logHandler(this,nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...t),this._logHandler(this,nt.ERROR,...t)}}const Ole=(e,t)=>t.some(n=>e instanceof n);let yR,bR;function Rle(){return yR||(yR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Dle(){return bR||(bR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cF=new WeakMap,i1=new WeakMap,dF=new WeakMap,Nb=new WeakMap,GE=new WeakMap;function kle(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(xs(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&cF.set(n,e)}).catch(()=>{}),GE.set(t,e),t}function Nle(e){if(i1.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});i1.set(e,t)}let o1={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return i1.get(e);if(t==="objectStoreNames")return e.objectStoreNames||dF.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xs(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function jle(e){o1=e(o1)}function Mle(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(jb(this),t,...n);return dF.set(r,t.sort?t.sort():[t]),xs(r)}:Dle().includes(e)?function(...t){return e.apply(jb(this),t),xs(cF.get(this))}:function(...t){return xs(e.apply(jb(this),t))}}function Lle(e){return typeof e=="function"?Mle(e):(e instanceof IDBTransaction&&Nle(e),Ole(e,Rle())?new Proxy(e,o1):e)}function xs(e){if(e instanceof IDBRequest)return kle(e);if(Nb.has(e))return Nb.get(e);const t=Lle(e);return t!==e&&(Nb.set(e,t),GE.set(t,e)),t}const jb=e=>GE.get(e);function Fle(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=xs(s);return r&&s.addEventListener("upgradeneeded",l=>{r(xs(s.result),l.oldVersion,l.newVersion,xs(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const $le=["get","getKey","getAll","getAllKeys","count"],Ble=["put","add","delete","clear"],Mb=new Map;function xR(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Mb.get(t))return Mb.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Ble.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$le.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Mb.set(t,o),o}jle(e=>({...e,get:(t,n,r)=>xR(t,n)||e.get(t,n,r),has:(t,n)=>!!xR(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vle{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ule(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Ule(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const s1="@firebase/app",wR="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=new qE("@firebase/app"),zle="@firebase/app-compat",Wle="@firebase/analytics-compat",Hle="@firebase/analytics",qle="@firebase/app-check-compat",Gle="@firebase/app-check",Kle="@firebase/auth",Yle="@firebase/auth-compat",Qle="@firebase/database",Xle="@firebase/data-connect",Jle="@firebase/database-compat",Zle="@firebase/functions",eue="@firebase/functions-compat",tue="@firebase/installations",nue="@firebase/installations-compat",rue="@firebase/messaging",iue="@firebase/messaging-compat",oue="@firebase/performance",sue="@firebase/performance-compat",aue="@firebase/remote-config",lue="@firebase/remote-config-compat",uue="@firebase/storage",cue="@firebase/storage-compat",due="@firebase/firestore",fue="@firebase/ai",hue="@firebase/firestore-compat",pue="firebase",gue="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="[DEFAULT]",mue={[s1]:"fire-core",[zle]:"fire-core-compat",[Hle]:"fire-analytics",[Wle]:"fire-analytics-compat",[Gle]:"fire-app-check",[qle]:"fire-app-check-compat",[Kle]:"fire-auth",[Yle]:"fire-auth-compat",[Qle]:"fire-rtdb",[Xle]:"fire-data-connect",[Jle]:"fire-rtdb-compat",[Zle]:"fire-fn",[eue]:"fire-fn-compat",[tue]:"fire-iid",[nue]:"fire-iid-compat",[rue]:"fire-fcm",[iue]:"fire-fcm-compat",[oue]:"fire-perf",[sue]:"fire-perf-compat",[aue]:"fire-rc",[lue]:"fire-rc-compat",[uue]:"fire-gcs",[cue]:"fire-gcs-compat",[due]:"fire-fst",[hue]:"fire-fst-compat",[fue]:"fire-vertex","fire-js":"fire-js",[pue]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf=new Map,vue=new Map,l1=new Map;function _R(e,t){try{e.container.addComponent(t)}catch(n){ko.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function yf(e){const t=e.name;if(l1.has(t))return ko.debug(`There were multiple attempts to register component ${t}.`),!1;l1.set(t,e);for(const n of vf.values())_R(n,e);for(const n of vue.values())_R(n,e);return!0}function fF(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function hF(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yue={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ws=new lF("app","Firebase",yue);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bue{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Iu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF=gue;function gF(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:a1,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!="string"||!i)throw ws.create("bad-app-name",{appName:String(i)});if(n||(n=nF()),!n)throw ws.create("no-options");const o=vf.get(i);if(o){if(mf(n,o.options)&&mf(r,o.config))return o;throw ws.create("duplicate-app",{appName:i})}const s=new Ile(i);for(const l of l1.values())s.addComponent(l);const a=new bue(n,r,s);return vf.set(i,a),a}function mF(e=a1){const t=vf.get(e);if(!t&&e===a1&&nF())return gF();if(!t)throw ws.create("no-app",{appName:e});return t}function SR(){return Array.from(vf.values())}function _s(e,t,n){let r=mue[e]??e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${t}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ko.warn(s.join(" "));return}yf(new Iu(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xue="firebase-heartbeat-database",wue=1,bf="firebase-heartbeat-store";let Lb=null;function vF(){return Lb||(Lb=Fle(xue,wue,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(bf)}catch(n){console.warn(n)}}}}).catch(e=>{throw ws.create("idb-open",{originalErrorMessage:e.message})})),Lb}async function _ue(e){try{const n=(await vF()).transaction(bf),r=await n.objectStore(bf).get(yF(e));return await n.done,r}catch(t){if(t instanceof rc)ko.warn(t.message);else{const n=ws.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ko.warn(n.message)}}}async function ER(e,t){try{const r=(await vF()).transaction(bf,"readwrite");await r.objectStore(bf).put(t,yF(e)),await r.done}catch(n){if(n instanceof rc)ko.warn(n.message);else{const r=ws.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ko.warn(r.message)}}}function yF(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sue=1024,Eue=30;class Iue{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Pue(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=IR();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Eue){const s=Tue(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ko.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=IR(),{heartbeatsToSend:r,unsentEntries:i}=Cue(this._heartbeatsCache.heartbeats),o=Nm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ko.warn(n),""}}}function IR(){return new Date().toISOString().substring(0,10)}function Cue(e,t=Sue){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),CR(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),CR(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Pue{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fle()?hle().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _ue(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return ER(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return ER(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function CR(e){return Nm(JSON.stringify({version:2,heartbeats:e})).length}function Tue(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aue(e){yf(new Iu("platform-logger",t=>new Vle(t),"PRIVATE")),yf(new Iu("heartbeat",t=>new Iue(t),"PRIVATE")),_s(s1,wR,e),_s(s1,wR,"esm2020"),_s("fire-js","")}Aue("");var PR={};const TR="@firebase/database",AR="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bF="";function Oue(e){bF=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rue{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),gn(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:gf(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Due{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return so(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xF=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Rue(t)}}catch{}return new Due},Ia=xF("localStorage"),kue=xF("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=new qE("@firebase/database"),Nue=function(){let e=1;return function(){return e++}}(),wF=function(e){const t=wle(e),n=new xle;n.update(t);const r=n.digest();return WE.encodeByteArray(r)},Ah=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Ah.apply(null,r):typeof r=="object"?t+=gn(r):t+=r,t+=" "}return t};let wd=null,OR=!0;const jue=function(e,t){ge(!0,"Can't turn on custom loggers persistently."),tu.logLevel=nt.VERBOSE,wd=tu.log.bind(tu)},Vn=function(...e){if(OR===!0&&(OR=!1,wd===null&&kue.get("logging_enabled")===!0&&jue()),wd){const t=Ah.apply(null,e);wd(t)}},Oh=function(e){return function(...t){Vn(e,...t)}},u1=function(...e){const t="FIREBASE INTERNAL ERROR: "+Ah(...e);tu.error(t)},No=function(...e){const t=`FIREBASE FATAL ERROR: ${Ah(...e)}`;throw tu.error(t),new Error(t)},ur=function(...e){const t="FIREBASE WARNING: "+Ah(...e);tu.warn(t)},Mue=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ur("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},KE=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Lue=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Cu="[MIN_NAME]",Ga="[MAX_NAME]",pl=function(e,t){if(e===t)return 0;if(e===Cu||t===Ga)return-1;if(t===Cu||e===Ga)return 1;{const n=RR(e),r=RR(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},Fue=function(e,t){return e===t?0:e<t?-1:1},Hc=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+gn(t))},YE=function(e){if(typeof e!="object"||e===null)return gn(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=gn(t[r]),n+=":",n+=YE(e[t[r]]);return n+="}",n},_F=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Hn(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const SF=function(e){ge(!KE(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,o,s,a,l;e===0?(o=0,s=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(l=t;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(c.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},$ue=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Bue=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Vue(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const Uue=new RegExp("^-?(0*)\\d{1,10}$"),zue=-2147483648,Wue=2147483647,RR=function(e){if(Uue.test(e)){const t=Number(e);if(t>=zue&&t<=Wue)return t}return null},ic=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw ur("Exception was thrown by user callback.",n),t},Math.floor(0))}},Hue=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},_d=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class que{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,hF(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){ur(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gue{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Vn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ur(t)}}class cg{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}cg.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="5",EF="v",IF="s",CF="r",PF="f",TF=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,AF="ls",OF="p",c1="ac",RF="websocket",DF="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(t,n,r,i,o=!1,s="",a=!1,l=!1,u=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ia.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ia.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function Kue(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function NF(e,t,n){ge(typeof t=="string","typeof type must == string"),ge(typeof n=="object","typeof params must == object");let r;if(t===RF)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===DF)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);Kue(e)&&(n.ns=e.namespace);const i=[];return Hn(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yue{constructor(){this.counters_={}}incrementCounter(t,n=1){so(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return Zae(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb={},$b={};function XE(e){const t=e.toString();return Fb[t]||(Fb[t]=new Yue),Fb[t]}function Que(e,t){const n=e.toString();return $b[n]||($b[n]=t()),$b[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xue{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ic(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="start",Jue="close",Zue="pLPCommand",ece="pRTLPCB",jF="id",MF="pw",LF="ser",tce="cb",nce="seg",rce="ts",ice="d",oce="dframe",FF=1870,$F=30,sce=FF-$F,ace=25e3,lce=3e4;class ql{constructor(t,n,r,i,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Oh(t),this.stats_=XE(n),this.urlFn=l=>(this.appCheckToken&&(l[c1]=this.appCheckToken),NF(n,DF,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Xue(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(lce)),Lue(()=>{if(this.isClosed_)return;this.scriptTagHolder=new JE((...o)=>{const[s,a,l,u,c]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===DR)this.id=a,this.password=l;else if(s===Jue)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[DR]="t",r[LF]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[tce]=this.scriptTagHolder.uniqueCallbackIdentifier),r[EF]=QE,this.transportSessionId&&(r[IF]=this.transportSessionId),this.lastSessionId&&(r[AF]=this.lastSessionId),this.applicationId&&(r[OF]=this.applicationId),this.appCheckToken&&(r[c1]=this.appCheckToken),typeof location<"u"&&location.hostname&&TF.test(location.hostname)&&(r[CF]=PF);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ql.forceAllow_=!0}static forceDisallow(){ql.forceDisallow_=!0}static isAvailable(){return ql.forceAllow_?!0:!ql.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!$ue()&&!Bue()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=gn(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Z5(n),i=_F(r,sce);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[oce]="t",r[jF]=t,r[MF]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=gn(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class JE{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Nue(),window[Zue+this.uniqueCallbackIdentifier]=t,window[ece+this.uniqueCallbackIdentifier]=n,this.myIFrame=JE.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Vn("frame writing exception"),a.stack&&Vn(a.stack),Vn(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Vn("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[jF]=this.myID,t[MF]=this.myPW,t[LF]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+$F+r.length<=FF;){const s=this.pendingSegs.shift();r=r+"&"+nce+i+"="+s.seg+"&"+rce+i+"="+s.ts+"&"+ice+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(ace)),o=()=>{clearTimeout(i),r()};this.addTag(t,o)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Vn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uce=16384,cce=45e3;let Mm=null;typeof MozWebSocket<"u"?Mm=MozWebSocket:typeof WebSocket<"u"&&(Mm=WebSocket);class Ii{constructor(t,n,r,i,o,s,a){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Oh(this.connId),this.stats_=XE(n),this.connURL=Ii.connectionURL_(n,s,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,o){const s={};return s[EF]=QE,typeof location<"u"&&location.hostname&&TF.test(location.hostname)&&(s[CF]=PF),n&&(s[IF]=n),r&&(s[AF]=r),i&&(s[c1]=i),o&&(s[OF]=o),NF(t,RF,s)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ia.set("previous_websocket_failure",!0);try{let r;cle(),this.mySock=new Mm(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Ii.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Mm!==null&&!Ii.forceDisallow_}static previouslyFailed(){return Ia.isInMemoryStorage||Ia.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ia.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=gf(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(ge(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=gn(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=_F(n,uce);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(cce))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ii.responsesRequiredToBeHealthy=2;Ii.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{static get ALL_TRANSPORTS(){return[ql,Ii]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const n=Ii&&Ii.isAvailable();let r=n&&!Ii.previouslyFailed();if(t.webSocketOnly&&(n||ur("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ii];else{const i=this.transports_=[];for(const o of xf.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);xf.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}xf.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dce=6e4,fce=5e3,hce=10*1024,pce=100*1024,Bb="t",kR="d",gce="s",NR="r",mce="e",jR="o",MR="a",LR="n",FR="p",vce="h";class yce{constructor(t,n,r,i,o,s,a,l,u,c){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Oh("c:"+this.id+":"),this.transportManager_=new xf(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=_d(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>pce?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>hce?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Bb in t){const n=t[Bb];n===MR?this.upgradeIfSecondaryHealthy_():n===NR?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===jR&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Hc("t",t),r=Hc("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:FR,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:MR,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:LR,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Hc("t",t),r=Hc("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Hc(Bb,t);if(kR in t){const r=t[kR];if(n===vce){const i={...r};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===LR){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===gce?this.onConnectionShutdown_(r):n===NR?this.onReset_(r):n===mce?u1("Server Error: "+r):n===jR?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):u1("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),QE!==r&&ur("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),_d(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(dce))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):_d(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(fce))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:FR,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ia.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(t){this.allowedEvents_=t,this.listeners_={},ge(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(t){ge(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm extends VF{static getInstance(){return new Lm}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!aF()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return ge(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=32,BR=768;class bt{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function ft(){return new bt("")}function Je(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ls(e){return e.pieces_.length-e.pieceNum_}function It(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new bt(e.pieces_,t)}function ZE(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function bce(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function wf(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function UF(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new bt(t,0)}function Gt(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof bt)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new bt(n,0)}function et(e){return e.pieceNum_>=e.pieces_.length}function ar(e,t){const n=Je(e),r=Je(t);if(n===null)return t;if(n===r)return ar(It(e),It(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function xce(e,t){const n=wf(e,0),r=wf(t,0);for(let i=0;i<n.length&&i<r.length;i++){const o=pl(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function eI(e,t){if(Ls(e)!==Ls(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function ii(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Ls(e)>Ls(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class wce{constructor(t,n){this.errorPrefix_=n,this.parts_=wf(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ay(this.parts_[r]);zF(this)}}function _ce(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Ay(t),zF(e)}function Sce(e){const t=e.parts_.pop();e.byteLength_-=Ay(t),e.parts_.length>0&&(e.byteLength_-=1)}function zF(e){if(e.byteLength_>BR)throw new Error(e.errorPrefix_+"has a key path longer than "+BR+" bytes ("+e.byteLength_+").");if(e.parts_.length>$R)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+$R+") or object contains a cycle "+ma(e))}function ma(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI extends VF{static getInstance(){return new tI}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return ge(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=1e3,Ece=60*5*1e3,VR=30*1e3,Ice=1.3,Cce=3e4,Pce="server_kill",UR=3;class bo extends BF{constructor(t,n,r,i,o,s,a,l){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=bo.nextPersistentConnectionId_++,this.log_=Oh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=qc,this.maxReconnectDelay_=Ece,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");tI.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Lm.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,o={r:i,a:t,b:n};this.log_(gn(o)),ge(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new Ph,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:s=>{const a=s.d;s.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(t,n,r,i){this.initConnection_();const o=t._queryIdentifier,s=t._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),ge(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ge(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},s="q";t.tag&&(o.q=n._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest(s,o,a=>{const l=a.d,u=a.s;bo.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(u,l))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&so(t,"w")){const r=Eu(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();ur(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||yle(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=VR)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=vle(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,s=i.d||"error";this.authToken_===t&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ge(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const o={p:t},s="n";i&&(o.q=r,o.t=i),this.sendRequest(s,o)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,o){this.initConnection_();const s={p:n,d:r};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:t,request:s,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+gn(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):u1("Unrecognized action received from server: "+gn(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){ge(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=qc,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=qc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Cce&&(this.reconnectDelay_=qc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Ice)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+bo.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,r())},u=function(d){ge(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?Vn("getToken() completed but was canceled"):(Vn("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new yce(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,p=>{ur(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(Pce)},o))}catch(d){this.log_("Failed to get token: "+d),s||(this.repoInfo_.nodeAdmin&&ur(d),l())}}}interrupt(t){Vn("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Vn("Resuming connection for reason: "+t),delete this.interruptReasons_[t],mR(this.interruptReasons_)&&(this.reconnectDelay_=qc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(o=>YE(o)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new bt(t).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){Vn("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=UR&&(this.reconnectDelay_=VR,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Vn("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=UR&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+bF.replace(/\./g,"-")]=1,aF()?t["framework.cordova"]=1:ule()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Lm.getInstance().currentlyOnline();return mR(this.interruptReasons_)&&t}}bo.nextPersistentConnectionId_=0;bo.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new Ze(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new Ze(Cu,t),i=new Ze(Cu,n);return this.compare(r,i)!==0}minPost(){return Ze.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dp;class WF extends Oy{static get __EMPTY_NODE(){return Dp}static set __EMPTY_NODE(t){Dp=t}compare(t,n){return pl(t.name,n.name)}isDefinedOn(t){throw nc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return Ze.MIN}maxPost(){return new Ze(Ga,Dp)}makePost(t,n){return ge(typeof t=="string","KeyIndex indexValue must always be a string."),new Ze(t,Dp)}toString(){return".key"}}const nu=new WF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kp=class{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?r(t.key,n):1,i&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},Dr=class ad{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r??ad.RED,this.left=i??Xi.EMPTY_NODE,this.right=o??Xi.EMPTY_NODE}copy(t,n,r,i,o){return new ad(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const o=r(t,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Xi.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Xi.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,ad.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,ad.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}};Dr.RED=!0;Dr.BLACK=!1;class Tce{copy(t,n,r,i,o){return this}insert(t,n,r){return new Dr(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let Xi=class dg{constructor(t,n=dg.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new dg(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Dr.BLACK,null,null))}remove(t){return new dg(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Dr.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new kp(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new kp(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new kp(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new kp(this.root_,null,this.comparator_,!0,t)}};Xi.EMPTY_NODE=new Tce;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ace(e,t){return pl(e.name,t.name)}function nI(e,t){return pl(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d1;function Oce(e){d1=e}const HF=function(e){return typeof e=="number"?"number:"+SF(e):"string:"+e},qF=function(e){if(e.isLeafNode()){const t=e.val();ge(typeof t=="string"||typeof t=="number"||typeof t=="object"&&so(t,".sv"),"Priority must be a string or number.")}else ge(e===d1||e.isEmpty(),"priority of unexpected type.");ge(e===d1||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zR;class Cn{static set __childrenNodeConstructor(t){zR=t}static get __childrenNodeConstructor(){return zR}constructor(t,n=Cn.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,ge(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),qF(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Cn(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Cn.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return et(t)?this:Je(t)===".priority"?this.priorityNode_:Cn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:Cn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=Je(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ge(r!==".priority"||Ls(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Cn.__childrenNodeConstructor.EMPTY_NODE.updateChild(It(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+HF(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=SF(this.value_):t+=this.value_,this.lazyHash_=wF(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Cn.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Cn.__childrenNodeConstructor?-1:(ge(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=Cn.VALUE_TYPE_ORDER.indexOf(n),o=Cn.VALUE_TYPE_ORDER.indexOf(r);return ge(i>=0,"Unknown leaf type: "+n),ge(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Cn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GF,KF;function Rce(e){GF=e}function Dce(e){KF=e}class kce extends Oy{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?pl(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return Ze.MIN}maxPost(){return new Ze(Ga,new Cn("[PRIORITY-POST]",KF))}makePost(t,n){const r=GF(t);return new Ze(n,new Cn("[PRIORITY-POST]",r))}toString(){return".priority"}}const Yt=new kce;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nce=Math.log(2);class jce{constructor(t){const n=o=>parseInt(Math.log(o)/Nce,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Fm=function(e,t,n,r){e.sort(t);const i=function(l,u){const c=u-l;let d,f;if(c===0)return null;if(c===1)return d=e[l],f=n?n(d):d,new Dr(f,d.node,Dr.BLACK,null,null);{const p=parseInt(c/2,10)+l,m=i(l,p),v=i(p+1,u);return d=e[p],f=n?n(d):d,new Dr(f,d.node,Dr.BLACK,m,v)}},o=function(l){let u=null,c=null,d=e.length;const f=function(m,v){const y=d-m,w=d;d-=m;const _=i(y+1,w),S=e[y],P=n?n(S):S;p(new Dr(P,S.node,v,null,_))},p=function(m){u?(u.left=m,u=m):(c=m,u=m)};for(let m=0;m<l.count;++m){const v=l.nextBitIsOne(),y=Math.pow(2,l.count-(m+1));v?f(y,Dr.BLACK):(f(y,Dr.BLACK),f(y,Dr.RED))}return c},s=new jce(e.length),a=o(s);return new Xi(r||t,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vb;const Il={};class mo{static get Default(){return ge(Il&&Yt,"ChildrenNode.ts has not been loaded"),Vb=Vb||new mo({".priority":Il},{".priority":Yt}),Vb}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){const n=Eu(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Xi?n:null}hasIndex(t){return so(this.indexSet_,t.toString())}addIndex(t,n){ge(t!==nu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(Ze.Wrap);let s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Fm(r,t.getCompare()):a=Il;const l=t.toString(),u={...this.indexSet_};u[l]=t;const c={...this.indexes_};return c[l]=a,new mo(c,u)}addToIndexes(t,n){const r=jm(this.indexes_,(i,o)=>{const s=Eu(this.indexSet_,o);if(ge(s,"Missing index implementation for "+o),i===Il)if(s.isDefinedOn(t.node)){const a=[],l=n.getIterator(Ze.Wrap);let u=l.getNext();for(;u;)u.name!==t.name&&a.push(u),u=l.getNext();return a.push(t),Fm(a,s.getCompare())}else return Il;else{const a=n.get(t.name);let l=i;return a&&(l=l.remove(new Ze(t.name,a))),l.insert(t,t.node)}});return new mo(r,this.indexSet_)}removeFromIndexes(t,n){const r=jm(this.indexes_,i=>{if(i===Il)return i;{const o=n.get(t.name);return o?i.remove(new Ze(t.name,o)):i}});return new mo(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gc;class Fe{static get EMPTY_NODE(){return Gc||(Gc=new Fe(new Xi(nI),null,mo.Default))}constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&qF(this.priorityNode_),this.children_.isEmpty()&&ge(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Gc}updatePriority(t){return this.children_.isEmpty()?this:new Fe(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?Gc:n}}getChild(t){const n=Je(t);return n===null?this:this.getImmediateChild(n).getChild(It(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(ge(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new Ze(t,n);let i,o;n.isEmpty()?(i=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),o=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?Gc:this.priorityNode_;return new Fe(i,s,o)}}updateChild(t,n){const r=Je(t);if(r===null)return n;{ge(Je(t)!==".priority"||Ls(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(It(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(Yt,(s,a)=>{n[s]=a.val(t),r++,o&&Fe.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!t&&o&&i<2*r){const s=[];for(const a in n)s[a]=n[a];return s}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+HF(this.getPriority().val())+":"),this.forEachChild(Yt,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":wF(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new Ze(t,n));return o?o.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new Ze(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new Ze(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,Ze.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,t)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,Ze.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,t)>0;)i.getNext(),o=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Rh?-1:0}withIndex(t){if(t===nu||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new Fe(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===nu||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Yt),i=n.getIterator(Yt);let o=r.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(t){return t===nu?null:this.indexMap_.get(t.toString())}}Fe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Mce extends Fe{constructor(){super(new Xi(nI),Fe.EMPTY_NODE,mo.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Fe.EMPTY_NODE}isEmpty(){return!1}}const Rh=new Mce;Object.defineProperties(Ze,{MIN:{value:new Ze(Cu,Fe.EMPTY_NODE)},MAX:{value:new Ze(Ga,Rh)}});WF.__EMPTY_NODE=Fe.EMPTY_NODE;Cn.__childrenNodeConstructor=Fe;Oce(Rh);Dce(Rh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lce=!0;function pn(e,t=null){if(e===null)return Fe.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),ge(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new Cn(n,pn(t))}if(!(e instanceof Array)&&Lce){const n=[];let r=!1;if(Hn(e,(s,a)=>{if(s.substring(0,1)!=="."){const l=pn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Ze(s,l)))}}),n.length===0)return Fe.EMPTY_NODE;const o=Fm(n,Ace,s=>s.name,nI);if(r){const s=Fm(n,Yt.getCompare());return new Fe(o,pn(t),new mo({".priority":s},{".priority":Yt}))}else return new Fe(o,pn(t),mo.Default)}else{let n=Fe.EMPTY_NODE;return Hn(e,(r,i)=>{if(so(e,r)&&r.substring(0,1)!=="."){const o=pn(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(pn(t))}}Rce(pn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fce extends Oy{constructor(t){super(),this.indexPath_=t,ge(!et(t)&&Je(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?pl(t.name,n.name):o}makePost(t,n){const r=pn(t),i=Fe.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ze(n,i)}maxPost(){const t=Fe.EMPTY_NODE.updateChild(this.indexPath_,Rh);return new Ze(Ga,t)}toString(){return wf(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ce extends Oy{compare(t,n){const r=t.node.compareTo(n.node);return r===0?pl(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return Ze.MIN}maxPost(){return Ze.MAX}makePost(t,n){const r=pn(t);return new Ze(n,r)}toString(){return".value"}}const Bce=new $ce;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(e){return{type:"value",snapshotNode:e}}function Pu(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function _f(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Sf(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function Vce(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(t){this.index_=t}updateChild(t,n,r,i,o,s){ge(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?t.hasChild(n)?s.trackChildChange(_f(n,a)):ge(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Pu(n,r)):s.trackChildChange(Sf(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Yt,(i,o)=>{n.hasChild(i)||r.trackChildChange(_f(i,o))}),n.isLeafNode()||n.forEachChild(Yt,(i,o)=>{if(t.hasChild(i)){const s=t.getImmediateChild(i);s.equals(o)||r.trackChildChange(Sf(i,o,s))}else r.trackChildChange(Pu(i,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?Fe.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(t){this.indexedFilter_=new rI(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Ef.getStartPost_(t),this.endPost_=Ef.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,o,s){return this.matches(new Ze(n,r))||(r=Fe.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,o,s)}updateFullNode(t,n,r){n.isLeafNode()&&(n=Fe.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Fe.EMPTY_NODE);const o=this;return n.forEachChild(Yt,(s,a)=>{o.matches(new Ze(s,a))||(i=i.updateImmediateChild(s,Fe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uce{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ef(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,o,s){return this.rangedFilter_.matches(new Ze(n,r))||(r=Fe.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,o,s):this.fullLimitUpdateChild_(t,n,r,o,s)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Fe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Fe.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Fe.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,Fe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,o){let s;if(this.reverse_){const d=this.index_.getCompare();s=(f,p)=>d(p,f)}else s=this.index_.getCompare();const a=t;ge(a.numChildren()===this.limit_,"");const l=new Ze(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const p=f==null?1:s(f,l);if(c&&!r.isEmpty()&&p>=0)return o!=null&&o.trackChildChange(Sf(n,r,d)),a.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(_f(n,d));const v=a.updateImmediateChild(n,Fe.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o!=null&&o.trackChildChange(Pu(f.name,f.node)),v.updateImmediateChild(f.name,f.node)):v}}else return r.isEmpty()?t:c&&s(u,l)>=0?(o!=null&&(o.trackChildChange(_f(u.name,u.node)),o.trackChildChange(Pu(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,Fe.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Yt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ge(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ge(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Cu}hasEnd(){return this.endSet_}getIndexEndValue(){return ge(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ge(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ga}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ge(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Yt}copy(){const t=new iI;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function zce(e){return e.loadsAllData()?new rI(e.getIndex()):e.hasLimit()?new Uce(e):new Ef(e)}function WR(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Yt?n="$priority":e.index_===Bce?n="$value":e.index_===nu?n="$key":(ge(e.index_ instanceof Fce,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=gn(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=gn(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+gn(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=gn(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+gn(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function HR(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Yt&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m extends BF{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(ge(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Oh("p:rest:"),this.listens_={}}listen(t,n,r,i){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const s=$m.getListenId_(t,r),a={};this.listens_[s]=a;const l=WR(t._queryParams);this.restRequest_(o+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(o,d,!1,r),Eu(this.listens_,s)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(t,n){const r=$m.getListenId_(t,n);delete this.listens_[r]}get(t){const n=WR(t._queryParams),r=t._path.toString(),i=new Ph;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+ble(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=gf(a.responseText)}catch{ur("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&ur("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wce{constructor(){this.rootNode_=Fe.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(){return{value:null,children:new Map}}function QF(e,t,n){if(et(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=Je(t);e.children.has(r)||e.children.set(r,Bm());const i=e.children.get(r);t=It(t),QF(i,t,n)}}function f1(e,t,n){e.value!==null?n(t,e.value):Hce(e,(r,i)=>{const o=new bt(t.toString()+"/"+r);f1(i,o,n)})}function Hce(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qce{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n={...t};return this.last_&&Hn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=10*1e3,Gce=30*1e3,Kce=5*60*1e3;class Yce{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new qce(t);const r=qR+(Gce-qR)*Math.random();_d(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;Hn(t,(i,o)=>{o>0&&so(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),_d(this.reportStats_.bind(this),Math.floor(Math.random()*2*Kce))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pi;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Pi||(Pi={}));function oI(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function sI(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function aI(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Pi.ACK_USER_WRITE,this.source=oI()}operationForChild(t){if(et(this.path)){if(this.affectedTree.value!=null)return ge(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new bt(t));return new Vm(ft(),n,this.revert)}}else return ge(Je(this.path)===t,"operationForChild called for unrelated child."),new Vm(It(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(t,n){this.source=t,this.path=n,this.type=Pi.LISTEN_COMPLETE}operationForChild(t){return et(this.path)?new If(this.source,ft()):new If(this.source,It(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Pi.OVERWRITE}operationForChild(t){return et(this.path)?new Ka(this.source,ft(),this.snap.getImmediateChild(t)):new Ka(this.source,It(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Pi.MERGE}operationForChild(t){if(et(this.path)){const n=this.children.subtree(new bt(t));return n.isEmpty()?null:n.value?new Ka(this.source,ft(),n.value):new Tu(this.source,ft(),n)}else return ge(Je(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Tu(this.source,It(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(et(t))return this.isFullyInitialized()&&!this.filtered_;const n=Je(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qce{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Xce(e,t,n,r){const i=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(Vce(s.childName,s.snapshotNode))}),Kc(e,i,"child_removed",t,r,n),Kc(e,i,"child_added",t,r,n),Kc(e,i,"child_moved",o,r,n),Kc(e,i,"child_changed",t,r,n),Kc(e,i,"value",t,r,n),i}function Kc(e,t,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>Zce(e,a,l)),s.forEach(a=>{const l=Jce(e,a,o);i.forEach(u=>{u.respondsTo(a.type)&&t.push(u.createEvent(l,e.query_))})})}function Jce(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function Zce(e,t,n){if(t.childName==null||n.childName==null)throw nc("Should only compare child_ events.");const r=new Ze(t.childName,t.snapshotNode),i=new Ze(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(e,t){return{eventCache:e,serverCache:t}}function Sd(e,t,n,r){return Ry(new Fs(t,n,r),e.serverCache)}function XF(e,t,n,r){return Ry(e.eventCache,new Fs(t,n,r))}function Um(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ya(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ub;const ede=()=>(Ub||(Ub=new Xi(Fue)),Ub);class Et{static fromObject(t){let n=new Et(null);return Hn(t,(r,i)=>{n=n.set(new bt(r),i)}),n}constructor(t,n=ede()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:ft(),value:this.value};if(et(t))return null;{const r=Je(t),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(It(t),n);return o!=null?{path:Gt(new bt(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(et(t))return this;{const n=Je(t),r=this.children.get(n);return r!==null?r.subtree(It(t)):new Et(null)}}set(t,n){if(et(t))return new Et(n,this.children);{const r=Je(t),o=(this.children.get(r)||new Et(null)).set(It(t),n),s=this.children.insert(r,o);return new Et(this.value,s)}}remove(t){if(et(t))return this.children.isEmpty()?new Et(null):new Et(null,this.children);{const n=Je(t),r=this.children.get(n);if(r){const i=r.remove(It(t));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new Et(null):new Et(this.value,o)}else return this}}get(t){if(et(t))return this.value;{const n=Je(t),r=this.children.get(n);return r?r.get(It(t)):null}}setTree(t,n){if(et(t))return n;{const r=Je(t),o=(this.children.get(r)||new Et(null)).setTree(It(t),n);let s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new Et(this.value,s)}}fold(t){return this.fold_(ft(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Gt(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,ft(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(et(t))return null;{const o=Je(t),s=this.children.get(o);return s?s.findOnPath_(It(t),Gt(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,ft(),n)}foreachOnPath_(t,n,r){if(et(t))return this;{this.value&&r(n,this.value);const i=Je(t),o=this.children.get(i);return o?o.foreachOnPath_(It(t),Gt(n,i),r):new Et(null)}}foreach(t){this.foreach_(ft(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Gt(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(t){this.writeTree_=t}static empty(){return new Di(new Et(null))}}function Ed(e,t,n){if(et(t))return new Di(new Et(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let o=r.value;const s=ar(i,t);return o=o.updateChild(s,n),new Di(e.writeTree_.set(i,o))}else{const i=new Et(n),o=e.writeTree_.setTree(t,i);return new Di(o)}}}function h1(e,t,n){let r=e;return Hn(n,(i,o)=>{r=Ed(r,Gt(t,i),o)}),r}function GR(e,t){if(et(t))return Di.empty();{const n=e.writeTree_.setTree(t,new Et(null));return new Di(n)}}function p1(e,t){return gl(e,t)!=null}function gl(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(ar(n.path,t)):null}function KR(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Yt,(r,i)=>{t.push(new Ze(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new Ze(r,i.value))}),t}function Ss(e,t){if(et(t))return e;{const n=gl(e,t);return n!=null?new Di(new Et(n)):new Di(e.writeTree_.subtree(t))}}function g1(e){return e.writeTree_.isEmpty()}function Au(e,t){return JF(ft(),e.writeTree_,t)}function JF(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{i===".priority"?(ge(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=JF(Gt(e,i),o,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Gt(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(e,t){return n$(t,e)}function tde(e,t,n,r,i){ge(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Ed(e.visibleWrites,t,n)),e.lastWriteId=r}function nde(e,t,n,r){ge(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=h1(e.visibleWrites,t,n),e.lastWriteId=r}function rde(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function ide(e,t){const n=e.allWrites.findIndex(a=>a.writeId===t);ge(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const a=e.allWrites[s];a.visible&&(s>=n&&ode(a,r.path)?i=!1:ii(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return sde(e),!0;if(r.snap)e.visibleWrites=GR(e.visibleWrites,r.path);else{const a=r.children;Hn(a,l=>{e.visibleWrites=GR(e.visibleWrites,Gt(r.path,l))})}return!0}else return!1}function ode(e,t){if(e.snap)return ii(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&ii(Gt(e.path,n),t))return!0;return!1}function sde(e){e.visibleWrites=ZF(e.allWrites,ade,ft()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function ade(e){return e.visible}function ZF(e,t,n){let r=Di.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const s=o.path;let a;if(o.snap)ii(n,s)?(a=ar(n,s),r=Ed(r,a,o.snap)):ii(s,n)&&(a=ar(s,n),r=Ed(r,ft(),o.snap.getChild(a)));else if(o.children){if(ii(n,s))a=ar(n,s),r=h1(r,a,o.children);else if(ii(s,n))if(a=ar(s,n),et(a))r=h1(r,ft(),o.children);else{const l=Eu(o.children,Je(a));if(l){const u=l.getChild(It(a));r=Ed(r,ft(),u)}}}else throw nc("WriteRecord should have .snap or .children")}}return r}function e$(e,t,n,r,i){if(!r&&!i){const o=gl(e.visibleWrites,t);if(o!=null)return o;{const s=Ss(e.visibleWrites,t);if(g1(s))return n;if(n==null&&!p1(s,ft()))return null;{const a=n||Fe.EMPTY_NODE;return Au(s,a)}}}else{const o=Ss(e.visibleWrites,t);if(!i&&g1(o))return n;if(!i&&n==null&&!p1(o,ft()))return null;{const s=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(ii(u.path,t)||ii(t,u.path))},a=ZF(e.allWrites,s,t),l=n||Fe.EMPTY_NODE;return Au(a,l)}}}function lde(e,t,n){let r=Fe.EMPTY_NODE;const i=gl(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Yt,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=Ss(e.visibleWrites,t);return n.forEachChild(Yt,(s,a)=>{const l=Au(Ss(o,new bt(s)),a);r=r.updateImmediateChild(s,l)}),KR(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const o=Ss(e.visibleWrites,t);return KR(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function ude(e,t,n,r,i){ge(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Gt(t,n);if(p1(e.visibleWrites,o))return null;{const s=Ss(e.visibleWrites,o);return g1(s)?i.getChild(n):Au(s,i.getChild(n))}}function cde(e,t,n,r){const i=Gt(t,n),o=gl(e.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const s=Ss(e.visibleWrites,i);return Au(s,r.getNode().getImmediateChild(n))}else return null}function dde(e,t){return gl(e.visibleWrites,t)}function fde(e,t,n,r,i,o,s){let a;const l=Ss(e.visibleWrites,t),u=gl(l,ft());if(u!=null)a=u;else if(n!=null)a=Au(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let p=f.getNext();for(;p&&c.length<i;)d(p,r)!==0&&c.push(p),p=f.getNext();return c}else return[]}function hde(){return{visibleWrites:Di.empty(),allWrites:[],lastWriteId:-1}}function zm(e,t,n,r){return e$(e.writeTree,e.treePath,t,n,r)}function lI(e,t){return lde(e.writeTree,e.treePath,t)}function YR(e,t,n,r){return ude(e.writeTree,e.treePath,t,n,r)}function Wm(e,t){return dde(e.writeTree,Gt(e.treePath,t))}function pde(e,t,n,r,i,o){return fde(e.writeTree,e.treePath,t,n,r,i,o)}function uI(e,t,n){return cde(e.writeTree,e.treePath,t,n)}function t$(e,t){return n$(Gt(e.treePath,t),e.writeTree)}function n$(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gde{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;ge(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ge(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Sf(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,_f(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Pu(r,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Sf(r,t.snapshotNode,i.oldSnap));else throw nc("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mde{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const r$=new mde;class cI{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new Fs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return uI(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ya(this.viewCache_),o=pde(this.writes_,i,n,1,r,t);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vde(e){return{filter:e}}function yde(e,t){ge(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),ge(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function bde(e,t,n,r,i){const o=new gde;let s,a;if(n.type===Pi.OVERWRITE){const u=n;u.source.fromUser?s=m1(e,t,u.path,u.snap,r,i,o):(ge(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered()&&!et(u.path),s=Hm(e,t,u.path,u.snap,r,i,a,o))}else if(n.type===Pi.MERGE){const u=n;u.source.fromUser?s=wde(e,t,u.path,u.children,r,i,o):(ge(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered(),s=v1(e,t,u.path,u.children,r,i,a,o))}else if(n.type===Pi.ACK_USER_WRITE){const u=n;u.revert?s=Ede(e,t,u.path,r,i,o):s=_de(e,t,u.path,u.affectedTree,r,i,o)}else if(n.type===Pi.LISTEN_COMPLETE)s=Sde(e,t,n.path,r,o);else throw nc("Unknown operation type: "+n.type);const l=o.getChanges();return xde(t,s,l),{viewCache:s,changes:l}}function xde(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Um(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(YF(Um(t)))}}function i$(e,t,n,r,i,o){const s=t.eventCache;if(Wm(r,n)!=null)return t;{let a,l;if(et(n))if(ge(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=Ya(t),c=u instanceof Fe?u:Fe.EMPTY_NODE,d=lI(r,c);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{const u=zm(r,Ya(t));a=e.filter.updateFullNode(t.eventCache.getNode(),u,o)}else{const u=Je(n);if(u===".priority"){ge(Ls(n)===1,"Can't have a priority with additional path components");const c=s.getNode();l=t.serverCache.getNode();const d=YR(r,n,c,l);d!=null?a=e.filter.updatePriority(c,d):a=s.getNode()}else{const c=It(n);let d;if(s.isCompleteForChild(u)){l=t.serverCache.getNode();const f=YR(r,n,s.getNode(),l);f!=null?d=s.getNode().getImmediateChild(u).updateChild(c,f):d=s.getNode().getImmediateChild(u)}else d=uI(r,u,t.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),u,d,c,i,o):a=s.getNode()}}return Sd(t,a,s.isFullyInitialized()||et(n),e.filter.filtersNodes())}}function Hm(e,t,n,r,i,o,s,a){const l=t.serverCache;let u;const c=s?e.filter:e.filter.getIndexedFilter();if(et(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),p,null)}else{const p=Je(n);if(!l.isCompleteForPath(n)&&Ls(n)>1)return t;const m=It(n),y=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?u=c.updatePriority(l.getNode(),y):u=c.updateChild(l.getNode(),p,y,m,r$,null)}const d=XF(t,u,l.isFullyInitialized()||et(n),c.filtersNodes()),f=new cI(i,d,o);return i$(e,d,n,i,f,a)}function m1(e,t,n,r,i,o,s){const a=t.eventCache;let l,u;const c=new cI(i,t,o);if(et(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=Sd(t,u,!0,e.filter.filtersNodes());else{const d=Je(n);if(d===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),r),l=Sd(t,u,a.isFullyInitialized(),a.isFiltered());else{const f=It(n),p=a.getNode().getImmediateChild(d);let m;if(et(f))m=r;else{const v=c.getCompleteChild(d);v!=null?ZE(f)===".priority"&&v.getChild(UF(f)).isEmpty()?m=v:m=v.updateChild(f,r):m=Fe.EMPTY_NODE}if(p.equals(m))l=t;else{const v=e.filter.updateChild(a.getNode(),d,m,f,c,s);l=Sd(t,v,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function QR(e,t){return e.eventCache.isCompleteForChild(t)}function wde(e,t,n,r,i,o,s){let a=t;return r.foreach((l,u)=>{const c=Gt(n,l);QR(t,Je(c))&&(a=m1(e,a,c,u,i,o,s))}),r.foreach((l,u)=>{const c=Gt(n,l);QR(t,Je(c))||(a=m1(e,a,c,u,i,o,s))}),a}function XR(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function v1(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,u;et(n)?u=r:u=new Et(null).setTree(n,r);const c=t.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(c.hasChild(d)){const p=t.serverCache.getNode().getImmediateChild(d),m=XR(e,p,f);l=Hm(e,l,new bt(d),m,i,o,s,a)}}),u.children.inorderTraversal((d,f)=>{const p=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!c.hasChild(d)&&!p){const m=t.serverCache.getNode().getImmediateChild(d),v=XR(e,m,f);l=Hm(e,l,new bt(d),v,i,o,s,a)}}),l}function _de(e,t,n,r,i,o,s){if(Wm(i,n)!=null)return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(r.value!=null){if(et(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Hm(e,t,n,l.getNode().getChild(n),i,o,a,s);if(et(n)){let u=new Et(null);return l.getNode().forEachChild(nu,(c,d)=>{u=u.set(new bt(c),d)}),v1(e,t,n,u,i,o,a,s)}else return t}else{let u=new Et(null);return r.foreach((c,d)=>{const f=Gt(n,c);l.isCompleteForPath(f)&&(u=u.set(c,l.getNode().getChild(f)))}),v1(e,t,n,u,i,o,a,s)}}function Sde(e,t,n,r,i){const o=t.serverCache,s=XF(t,o.getNode(),o.isFullyInitialized()||et(n),o.isFiltered());return i$(e,s,n,r,r$,i)}function Ede(e,t,n,r,i,o){let s;if(Wm(r,n)!=null)return t;{const a=new cI(r,t,i),l=t.eventCache.getNode();let u;if(et(n)||Je(n)===".priority"){let c;if(t.serverCache.isFullyInitialized())c=zm(r,Ya(t));else{const d=t.serverCache.getNode();ge(d instanceof Fe,"serverChildren would be complete if leaf node"),c=lI(r,d)}c=c,u=e.filter.updateFullNode(l,c,o)}else{const c=Je(n);let d=uI(r,c,t.serverCache);d==null&&t.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=e.filter.updateChild(l,c,d,It(n),a,o):t.eventCache.getNode().hasChild(c)?u=e.filter.updateChild(l,c,Fe.EMPTY_NODE,It(n),a,o):u=l,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=zm(r,Ya(t)),s.isLeafNode()&&(u=e.filter.updateFullNode(u,s,o)))}return s=t.serverCache.isFullyInitialized()||Wm(r,ft())!=null,Sd(t,u,s,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ide{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new rI(r.getIndex()),o=zce(r);this.processor_=vde(o);const s=n.serverCache,a=n.eventCache,l=i.updateFullNode(Fe.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(Fe.EMPTY_NODE,a.getNode(),null),c=new Fs(l,s.isFullyInitialized(),i.filtersNodes()),d=new Fs(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Ry(d,c),this.eventGenerator_=new Qce(this.query_)}get query(){return this.query_}}function Cde(e){return e.viewCache_.serverCache.getNode()}function Pde(e){return Um(e.viewCache_)}function Tde(e,t){const n=Ya(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!et(t)&&!n.getImmediateChild(Je(t)).isEmpty())?n.getChild(t):null}function JR(e){return e.eventRegistrations_.length===0}function Ade(e,t){e.eventRegistrations_.push(t)}function ZR(e,t,n){const r=[];if(n){ge(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(t){let i=[];for(let o=0;o<e.eventRegistrations_.length;++o){const s=e.eventRegistrations_[o];if(!s.matches(t))i.push(s);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function eD(e,t,n,r){t.type===Pi.MERGE&&t.source.queryId!==null&&(ge(Ya(e.viewCache_),"We should always have a full cache before handling merges"),ge(Um(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=bde(e.processor_,i,t,n,r);return yde(e.processor_,o.viewCache),ge(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,o$(e,o.changes,o.viewCache.eventCache.getNode(),null)}function Ode(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Yt,(o,s)=>{r.push(Pu(o,s))}),n.isFullyInitialized()&&r.push(YF(n.getNode())),o$(e,r,n.getNode(),t)}function o$(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return Xce(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qm;class s${constructor(){this.views=new Map}}function Rde(e){ge(!qm,"__referenceConstructor has already been defined"),qm=e}function Dde(){return ge(qm,"Reference.ts has not been loaded"),qm}function kde(e){return e.views.size===0}function dI(e,t,n,r){const i=t.source.queryId;if(i!==null){const o=e.views.get(i);return ge(o!=null,"SyncTree gave us an op for an invalid query."),eD(o,t,n,r)}else{let o=[];for(const s of e.views.values())o=o.concat(eD(s,t,n,r));return o}}function a$(e,t,n,r,i){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let a=zm(n,i?r:null),l=!1;a?l=!0:r instanceof Fe?(a=lI(n,r),l=!1):(a=Fe.EMPTY_NODE,l=!1);const u=Ry(new Fs(a,l,!1),new Fs(r,i,!1));return new Ide(t,u)}return s}function Nde(e,t,n,r,i,o){const s=a$(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),Ade(s,n),Ode(s,n)}function jde(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const a=$s(e);if(i==="default")for(const[l,u]of e.views.entries())s=s.concat(ZR(u,n,r)),JR(u)&&(e.views.delete(l),u.query._queryParams.loadsAllData()||o.push(u.query));else{const l=e.views.get(i);l&&(s=s.concat(ZR(l,n,r)),JR(l)&&(e.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!$s(e)&&o.push(new(Dde())(t._repo,t._path)),{removed:o,events:s}}function l$(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Es(e,t){let n=null;for(const r of e.views.values())n=n||Tde(r,t);return n}function u$(e,t){if(t._queryParams.loadsAllData())return ky(e);{const r=t._queryIdentifier;return e.views.get(r)}}function c$(e,t){return u$(e,t)!=null}function $s(e){return ky(e)!=null}function ky(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gm;function Mde(e){ge(!Gm,"__referenceConstructor has already been defined"),Gm=e}function Lde(){return ge(Gm,"Reference.ts has not been loaded"),Gm}let Fde=1;class tD{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Et(null),this.pendingWriteTree_=hde(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function d$(e,t,n,r,i){return tde(e.pendingWriteTree_,t,n,r,i),i?oc(e,new Ka(oI(),t,n)):[]}function $de(e,t,n,r){nde(e.pendingWriteTree_,t,n,r);const i=Et.fromObject(n);return oc(e,new Tu(oI(),t,i))}function as(e,t,n=!1){const r=rde(e.pendingWriteTree_,t);if(ide(e.pendingWriteTree_,t)){let o=new Et(null);return r.snap!=null?o=o.set(ft(),!0):Hn(r.children,s=>{o=o.set(new bt(s),!0)}),oc(e,new Vm(r.path,o,n))}else return[]}function Dh(e,t,n){return oc(e,new Ka(sI(),t,n))}function Bde(e,t,n){const r=Et.fromObject(n);return oc(e,new Tu(sI(),t,r))}function Vde(e,t){return oc(e,new If(sI(),t))}function Ude(e,t,n){const r=hI(e,n);if(r){const i=pI(r),o=i.path,s=i.queryId,a=ar(o,t),l=new If(aI(s),a);return gI(e,o,l)}else return[]}function Km(e,t,n,r,i=!1){const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&(t._queryIdentifier==="default"||c$(s,t))){const l=jde(s,t,n,r);kde(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));const u=l.removed;if(a=l.events,!i){const c=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(o,(f,p)=>$s(p));if(c&&!d){const f=e.syncPointTree_.subtree(o);if(!f.isEmpty()){const p=Hde(f);for(let m=0;m<p.length;++m){const v=p[m],y=v.query,w=g$(e,v);e.listenProvider_.startListening(Id(y),Cf(e,y),w.hashFn,w.onComplete)}}}!d&&u.length>0&&!r&&(c?e.listenProvider_.stopListening(Id(t),null):u.forEach(f=>{const p=e.queryToTagMap.get(Ny(f));e.listenProvider_.stopListening(Id(f),p)}))}qde(e,u)}return a}function f$(e,t,n,r){const i=hI(e,r);if(i!=null){const o=pI(i),s=o.path,a=o.queryId,l=ar(s,t),u=new Ka(aI(a),l,n);return gI(e,s,u)}else return[]}function zde(e,t,n,r){const i=hI(e,r);if(i){const o=pI(i),s=o.path,a=o.queryId,l=ar(s,t),u=Et.fromObject(n),c=new Tu(aI(a),l,u);return gI(e,s,c)}else return[]}function y1(e,t,n,r=!1){const i=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(f,p)=>{const m=ar(f,i);o=o||Es(p,m),s=s||$s(p)});let a=e.syncPointTree_.get(i);a?(s=s||$s(a),o=o||Es(a,ft())):(a=new s$,e.syncPointTree_=e.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=Fe.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((p,m)=>{const v=Es(m,ft());v&&(o=o.updateImmediateChild(p,v))}));const u=c$(a,t);if(!u&&!t._queryParams.loadsAllData()){const f=Ny(t);ge(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");const p=Gde();e.queryToTagMap.set(f,p),e.tagToQueryMap.set(p,f)}const c=Dy(e.pendingWriteTree_,i);let d=Nde(a,t,n,c,o,l);if(!u&&!s&&!r){const f=u$(a,t);d=d.concat(Kde(e,t,f))}return d}function fI(e,t,n){const i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{const l=ar(s,t),u=Es(a,l);if(u)return u});return e$(i,t,o,n,!0)}function Wde(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(u,c)=>{const d=ar(u,n);r=r||Es(c,d)});let i=e.syncPointTree_.get(n);i?r=r||Es(i,ft()):(i=new s$,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=r!=null,s=o?new Fs(r,!0,!1):null,a=Dy(e.pendingWriteTree_,t._path),l=a$(i,t,a,o?s.getNode():Fe.EMPTY_NODE,o);return Pde(l)}function oc(e,t){return h$(t,e.syncPointTree_,null,Dy(e.pendingWriteTree_,ft()))}function h$(e,t,n,r){if(et(e.path))return p$(e,t,n,r);{const i=t.get(ft());n==null&&i!=null&&(n=Es(i,ft()));let o=[];const s=Je(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const u=n?n.getImmediateChild(s):null,c=t$(r,s);o=o.concat(h$(a,l,u,c))}return i&&(o=o.concat(dI(i,e,r,n))),o}}function p$(e,t,n,r){const i=t.get(ft());n==null&&i!=null&&(n=Es(i,ft()));let o=[];return t.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,u=t$(r,s),c=e.operationForChild(s);c&&(o=o.concat(p$(c,a,l,u)))}),i&&(o=o.concat(dI(i,e,r,n))),o}function g$(e,t){const n=t.query,r=Cf(e,n);return{hashFn:()=>(Cde(t)||Fe.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?Ude(e,n._path,r):Vde(e,n._path);{const o=Vue(i,n);return Km(e,n,null,o)}}}}function Cf(e,t){const n=Ny(t);return e.queryToTagMap.get(n)}function Ny(e){return e._path.toString()+"$"+e._queryIdentifier}function hI(e,t){return e.tagToQueryMap.get(t)}function pI(e){const t=e.indexOf("$");return ge(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new bt(e.substr(0,t))}}function gI(e,t,n){const r=e.syncPointTree_.get(t);ge(r,"Missing sync point for query tag that we're tracking");const i=Dy(e.pendingWriteTree_,t);return dI(r,n,i,null)}function Hde(e){return e.fold((t,n,r)=>{if(n&&$s(n))return[ky(n)];{let i=[];return n&&(i=l$(n)),Hn(r,(o,s)=>{i=i.concat(s)}),i}})}function Id(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Lde())(e._repo,e._path):e}function qde(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=Ny(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}function Gde(){return Fde++}function Kde(e,t,n){const r=t._path,i=Cf(e,t),o=g$(e,n),s=e.listenProvider_.startListening(Id(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)ge(!$s(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,d)=>{if(!et(u)&&c&&$s(c))return[ky(c).query];{let f=[];return c&&(f=f.concat(l$(c).map(p=>p.query))),Hn(d,(p,m)=>{f=f.concat(m)}),f}});for(let u=0;u<l.length;++u){const c=l[u];e.listenProvider_.stopListening(Id(c),Cf(e,c))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new mI(n)}node(){return this.node_}}class vI{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Gt(this.path_,t);return new vI(this.syncTree_,n)}node(){return fI(this.syncTree_,this.path_)}}const Yde=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},nD=function(e,t,n){if(!e||typeof e!="object")return e;if(ge(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return Qde(e[".sv"],t,n);if(typeof e[".sv"]=="object")return Xde(e[".sv"],t);ge(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},Qde=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:ge(!1,"Unexpected server value: "+e)}},Xde=function(e,t,n){e.hasOwnProperty("increment")||ge(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&ge(!1,"Unexpected increment value: "+r);const i=t.node();if(ge(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},m$=function(e,t,n,r){return yI(t,new vI(n,e),r)},v$=function(e,t,n){return yI(e,new mI(t),n)};function yI(e,t,n){const r=e.getPriority().val(),i=nD(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const s=e,a=nD(s.getValue(),t,n);return a!==s.getValue()||i!==s.getPriority().val()?new Cn(a,pn(i)):e}else{const s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Cn(i))),s.forEachChild(Yt,(a,l)=>{const u=yI(l,t.getImmediateChild(a),n);u!==l&&(o=o.updateImmediateChild(a,u))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function xI(e,t){let n=t instanceof bt?t:new bt(t),r=e,i=Je(n);for(;i!==null;){const o=Eu(r.node.children,i)||{children:{},childCount:0};r=new bI(i,r,o),n=It(n),i=Je(n)}return r}function sc(e){return e.node.value}function y$(e,t){e.node.value=t,b1(e)}function b$(e){return e.node.childCount>0}function Jde(e){return sc(e)===void 0&&!b$(e)}function jy(e,t){Hn(e.node.children,(n,r)=>{t(new bI(n,e,r))})}function x$(e,t,n,r){n&&t(e),jy(e,i=>{x$(i,t,!0)})}function Zde(e,t,n){let r=e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function kh(e){return new bt(e.parent===null?e.name:kh(e.parent)+"/"+e.name)}function b1(e){e.parent!==null&&efe(e.parent,e.name,e)}function efe(e,t,n){const r=Jde(n),i=so(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,b1(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,b1(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tfe=/[\[\].#$\/\u0000-\u001F\u007F]/,nfe=/[\[\].#$\u0000-\u001F\u007F]/,zb=10*1024*1024,wI=function(e){return typeof e=="string"&&e.length!==0&&!tfe.test(e)},w$=function(e){return typeof e=="string"&&e.length!==0&&!nfe.test(e)},rfe=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),w$(e)},ife=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!KE(e)||e&&typeof e=="object"&&so(e,".sv")},_$=function(e,t,n,r){r&&t===void 0||My(Ty(e,"value"),t,n)},My=function(e,t,n){const r=n instanceof bt?new wce(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+ma(r));if(typeof t=="function")throw new Error(e+"contains a function "+ma(r)+" with contents = "+t.toString());if(KE(t))throw new Error(e+"contains "+t.toString()+" "+ma(r));if(typeof t=="string"&&t.length>zb/3&&Ay(t)>zb)throw new Error(e+"contains a string greater than "+zb+" utf8 bytes "+ma(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,o=!1;if(Hn(t,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!wI(s)))throw new Error(e+" contains an invalid key ("+s+") "+ma(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);_ce(r,s),My(e,a,r),Sce(r)}),i&&o)throw new Error(e+' contains ".value" child '+ma(r)+" in addition to actual children.")}},ofe=function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const o=wf(r);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!wI(o[s]))throw new Error(e+"contains an invalid key ("+o[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(xce);let i=null;for(n=0;n<t.length;n++){if(r=t[n],i!==null&&ii(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},sfe=function(e,t,n,r){const i=Ty(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const o=[];Hn(t,(s,a)=>{const l=new bt(s);if(My(i,a,Gt(n,l)),ZE(l)===".priority"&&!ife(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),ofe(i,o)},S$=function(e,t,n,r){if(!w$(n))throw new Error(Ty(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},afe=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),S$(e,t,n)},E$=function(e,t){if(Je(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},lfe=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!wI(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!rfe(n))throw new Error(Ty(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ufe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ly(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();n!==null&&!eI(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function I$(e,t,n){Ly(e,n),C$(e,r=>eI(r,t))}function pi(e,t,n){Ly(e,n),C$(e,r=>ii(r,t)||ii(t,r))}function C$(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const o=i.path;t(o)?(cfe(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function cfe(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();wd&&Vn("event: "+n.toString()),ic(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dfe="repo_interrupt",ffe=25;class hfe{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ufe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Bm(),this.transactionQueueTree_=new bI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function pfe(e,t,n){if(e.stats_=XE(e.repoInfo_),e.forceRestClient_||Hue())e.server_=new $m(e.repoInfo_,(r,i,o,s)=>{rD(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>iD(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{gn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new bo(e.repoInfo_,t,(r,i,o,s)=>{rD(e,r,i,o,s)},r=>{iD(e,r)},r=>{gfe(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=Que(e.repoInfo_,()=>new Yce(e.stats_,e.server_)),e.infoData_=new Wce,e.infoSyncTree_=new tD({startListening:(r,i,o,s)=>{let a=[];const l=e.infoData_.getNode(r._path);return l.isEmpty()||(a=Dh(e.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),_I(e,"connected",!1),e.serverSyncTree_=new tD({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,l)=>{const u=s(a,l);pi(e.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function P$(e){const n=e.infoData_.getNode(new bt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Fy(e){return Yde({timestamp:P$(e)})}function rD(e,t,n,r,i){e.dataUpdateCount++;const o=new bt(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const l=jm(n,u=>pn(u));s=zde(e.serverSyncTree_,o,l,i)}else{const l=pn(n);s=f$(e.serverSyncTree_,o,l,i)}else if(r){const l=jm(n,u=>pn(u));s=Bde(e.serverSyncTree_,o,l)}else{const l=pn(n);s=Dh(e.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=Ou(e,o)),pi(e.eventQueue_,a,s)}function iD(e,t){_I(e,"connected",t),t===!1&&bfe(e)}function gfe(e,t){Hn(t,(n,r)=>{_I(e,n,r)})}function _I(e,t,n){const r=new bt("/.info/"+t),i=pn(n);e.infoData_.updateSnapshot(r,i);const o=Dh(e.infoSyncTree_,r,i);pi(e.eventQueue_,r,o)}function SI(e){return e.nextWriteId_++}function mfe(e,t,n){const r=Wde(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{const o=pn(i).withIndex(t._queryParams.getIndex());y1(e.serverSyncTree_,t,n,!0);let s;if(t._queryParams.loadsAllData())s=Dh(e.serverSyncTree_,t._path,o);else{const a=Cf(e.serverSyncTree_,t);s=f$(e.serverSyncTree_,t._path,o,a)}return pi(e.eventQueue_,t._path,s),Km(e.serverSyncTree_,t,n,null,!0),o},i=>(Nh(e,"get for query "+gn(t)+" failed: "+i),Promise.reject(new Error(i))))}function vfe(e,t,n,r,i){Nh(e,"set",{path:t.toString(),value:n,priority:r});const o=Fy(e),s=pn(n,r),a=fI(e.serverSyncTree_,t),l=v$(s,a,o),u=SI(e),c=d$(e.serverSyncTree_,t,l,u,!0);Ly(e.eventQueue_,c),e.server_.put(t.toString(),s.val(!0),(f,p)=>{const m=f==="ok";m||ur("set at "+t+" failed: "+f);const v=as(e.serverSyncTree_,u,!m);pi(e.eventQueue_,t,v),x1(e,i,f,p)});const d=II(e,t);Ou(e,d),pi(e.eventQueue_,d,[])}function yfe(e,t,n,r){Nh(e,"update",{path:t.toString(),value:n});let i=!0;const o=Fy(e),s={};if(Hn(n,(a,l)=>{i=!1,s[a]=m$(Gt(t,a),pn(l),e.serverSyncTree_,o)}),i)Vn("update() called with empty data.  Don't do anything."),x1(e,r,"ok",void 0);else{const a=SI(e),l=$de(e.serverSyncTree_,t,s,a);Ly(e.eventQueue_,l),e.server_.merge(t.toString(),n,(u,c)=>{const d=u==="ok";d||ur("update at "+t+" failed: "+u);const f=as(e.serverSyncTree_,a,!d),p=f.length>0?Ou(e,t):t;pi(e.eventQueue_,p,f),x1(e,r,u,c)}),Hn(n,u=>{const c=II(e,Gt(t,u));Ou(e,c)}),pi(e.eventQueue_,t,[])}}function bfe(e){Nh(e,"onDisconnectEvents");const t=Fy(e),n=Bm();f1(e.onDisconnect_,ft(),(i,o)=>{const s=m$(i,o,e.serverSyncTree_,t);QF(n,i,s)});let r=[];f1(n,ft(),(i,o)=>{r=r.concat(Dh(e.serverSyncTree_,i,o));const s=II(e,i);Ou(e,s)}),e.onDisconnect_=Bm(),pi(e.eventQueue_,ft(),r)}function xfe(e,t,n){let r;Je(t._path)===".info"?r=y1(e.infoSyncTree_,t,n):r=y1(e.serverSyncTree_,t,n),I$(e.eventQueue_,t._path,r)}function T$(e,t,n){let r;Je(t._path)===".info"?r=Km(e.infoSyncTree_,t,n):r=Km(e.serverSyncTree_,t,n),I$(e.eventQueue_,t._path,r)}function wfe(e){e.persistentConnection_&&e.persistentConnection_.interrupt(dfe)}function Nh(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Vn(n,...t)}function x1(e,t,n,r){t&&ic(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,t(s)}})}function A$(e,t,n){return fI(e.serverSyncTree_,t,n)||Fe.EMPTY_NODE}function EI(e,t=e.transactionQueueTree_){if(t||$y(e,t),sc(t)){const n=R$(e,t);ge(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&_fe(e,kh(t),n)}else b$(t)&&jy(t,n=>{EI(e,n)})}function _fe(e,t,n){const r=n.map(u=>u.currentWriteId),i=A$(e,t,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const c=n[u];ge(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=ar(t,c.path);o=o.updateChild(d,c.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;e.server_.put(l.toString(),a,u=>{Nh(e,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(as(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();$y(e,xI(e.transactionQueueTree_,t)),EI(e,e.transactionQueueTree_),pi(e.eventQueue_,t,c);for(let f=0;f<d.length;f++)ic(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{ur("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Ou(e,t)}},s)}function Ou(e,t){const n=O$(e,t),r=kh(n),i=R$(e,n);return Sfe(e,i,r),r}function Sfe(e,t,n){if(t.length===0)return;const r=[];let i=[];const s=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const l=t[a],u=ar(n,l.path);let c=!1,d;if(ge(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(as(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=ffe)c=!0,d="maxretry",i=i.concat(as(e.serverSyncTree_,l.currentWriteId,!0));else{const f=A$(e,l.path,s);l.currentInputSnapshot=f;const p=t[a].update(f.val());if(p!==void 0){My("transaction failed: Data returned ",p,l.path);let m=pn(p);typeof p=="object"&&p!=null&&so(p,".priority")||(m=m.updatePriority(f.getPriority()));const y=l.currentWriteId,w=Fy(e),_=v$(m,f,w);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=_,l.currentWriteId=SI(e),s.splice(s.indexOf(y),1),i=i.concat(d$(e.serverSyncTree_,l.path,_,l.currentWriteId,l.applyLocally)),i=i.concat(as(e.serverSyncTree_,y,!0))}else c=!0,d="nodata",i=i.concat(as(e.serverSyncTree_,l.currentWriteId,!0))}pi(e.eventQueue_,n,i),i=[],c&&(t[a].status=2,function(f){setTimeout(f,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(d),!1,null))))}$y(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)ic(r[a]);EI(e,e.transactionQueueTree_)}function O$(e,t){let n,r=e.transactionQueueTree_;for(n=Je(t);n!==null&&sc(r)===void 0;)r=xI(r,n),t=It(t),n=Je(t);return r}function R$(e,t){const n=[];return D$(e,t,n),n.sort((r,i)=>r.order-i.order),n}function D$(e,t,n){const r=sc(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);jy(t,i=>{D$(e,i,n)})}function $y(e,t){const n=sc(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,y$(t,n.length>0?n:void 0)}jy(t,r=>{$y(e,r)})}function II(e,t){const n=kh(O$(e,t)),r=xI(e.transactionQueueTree_,t);return Zde(r,i=>{Wb(e,i)}),Wb(e,r),x$(r,i=>{Wb(e,i)}),n}function Wb(e,t){const n=sc(t);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(ge(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(ge(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(as(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?y$(t,void 0):n.length=o+1,pi(e.eventQueue_,kh(t),i);for(let s=0;s<r.length;s++)ic(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Efe(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function Ife(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ur(`Invalid query segment '${n}' in query '${e}'`)}return t}const oD=function(e,t){const n=Cfe(e),r=n.namespace;n.domain==="firebase.com"&&No(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&No("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Mue();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new kF(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new bt(n.pathString)}},Cfe=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");c===-1&&(c=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(i=Efe(e.substring(c,d)));const f=Ife(e.substring(Math.min(e.length,d)));u=t.indexOf(":"),u>=0?(s=a==="https"||a==="wss",l=parseInt(t.substring(u+1),10)):u=t.length;const p=t.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=t.indexOf(".");r=t.substring(0,m).toLowerCase(),n=t.substring(m+1),o=r}"ns"in f&&(o=f.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Pfe=function(){let e=0;const t=[];return function(n){const r=n===e;e=n;let i;const o=new Array(8);for(i=7;i>=0;i--)o[i]=sD.charAt(n%64),n=Math.floor(n/64);ge(n===0,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=sD.charAt(t[i]);return ge(s.length===20,"nextPushId: Length should be 20."),s}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tfe{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+gn(this.snapshot.exportVal())}}class Afe{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return ge(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return et(this._path)?null:ZE(this._path)}get ref(){return new Vo(this._repo,this._path)}get _queryIdentifier(){const t=HR(this._queryParams),n=YE(t);return n==="{}"?"default":n}get _queryObject(){return HR(this._queryParams)}isEqual(t){if(t=na(t),!(t instanceof CI))return!1;const n=this._repo===t._repo,r=eI(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+bce(this._path)}}class Vo extends CI{constructor(t,n){super(t,n,new iI,!1)}get parent(){const t=UF(this._path);return t===null?null:new Vo(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Pf{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new bt(t),r=Tf(this.ref,t);return new Pf(this._node.getChild(n),r,Yt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new Pf(i,Tf(this.ref,r),Yt)))}hasChild(t){const n=new bt(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function gr(e,t){return e=na(e),e._checkNotDeleted("ref"),t!==void 0?Tf(e._root,t):e._root}function Tf(e,t){return e=na(e),Je(e._path)===null?afe("child","path",t):S$("child","path",t),new Vo(e._repo,Gt(e._path,t))}function Ofe(e,t){e=na(e),E$("push",e._path),_$("push",t,e._path,!0);const n=P$(e._repo),r=Pfe(n),i=Tf(e,r),o=Tf(e,r);let s;return t!=null?s=Ym(o,t).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function Ym(e,t){e=na(e),E$("set",e._path),_$("set",t,e._path,!1);const n=new Ph;return vfe(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function aD(e,t){sfe("update",t,e._path);const n=new Ph;return yfe(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function Yc(e){e=na(e);const t=new k$(()=>{}),n=new By(t);return mfe(e._repo,e,n).then(r=>new Pf(r,new Vo(e._repo,e._path),e._queryParams.getIndex()))}class By{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new Tfe("value",this,new Pf(t.snapshotNode,new Vo(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Afe(this,t,n):null}matches(t){return t instanceof By?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function Rfe(e,t,n,r,i){const o=new k$(n,void 0),s=new By(o);return xfe(e._repo,e,s),()=>T$(e._repo,e,s)}function fg(e,t,n,r){return Rfe(e,"value",t)}function Dfe(e,t,n){T$(e._repo,e,null)}Rde(Vo);Mde(Vo);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kfe="FIREBASE_DATABASE_EMULATOR_HOST",w1={};let Nfe=!1;function jfe(e,t,n,r){const i=t.lastIndexOf(":"),o=t.substring(0,i),s=Th(o);e.repoInfo_=new kF(t,s,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}function Mfe(e,t,n,r,i){let o=r||e.options.databaseURL;o===void 0&&(e.options.projectId||No("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Vn("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=oD(o,i),a=s.repoInfo,l;typeof process<"u"&&PR&&(l=PR[kfe]),l?(o=`http://${l}?ns=${a.namespace}`,s=oD(o,i),a=s.repoInfo):s.repoInfo.secure;const u=new Gue(e.name,e.options,t);lfe("Invalid Firebase Database URL",s),et(s.path)||No("Database URL must point to the root of a Firebase Database (not including a child path).");const c=Ffe(a,e,u,new que(e,n));return new $fe(c,e)}function Lfe(e,t){const n=w1[t];(!n||n[e.key]!==e)&&No(`Database ${t}(${e.repoInfo_}) has already been deleted.`),wfe(e),delete n[e.key]}function Ffe(e,t,n,r){let i=w1[t.name];i||(i={},w1[t.name]=i);let o=i[e.toURLString()];return o&&No("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new hfe(e,Nfe,n,r),i[e.toURLString()]=o,o}class $fe{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(pfe(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Vo(this._repo,ft())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Lfe(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&No("Cannot call "+t+" on a deleted database.")}}function N$(e=mF(),t){const n=fF(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=tF("database");r&&Bfe(n,...r)}return n}function Bfe(e,t,n,r={}){e=na(e),e._checkNotDeleted("useEmulator");const i=`${t}:${n}`,o=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&mf(r,o.repoInfo_.emulatorOptions))return;No("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&No('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new cg(cg.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:iF(r.mockUserToken,e.app.options.projectId);s=new cg(a)}Th(t)&&(rF(t),oF("Database",!0)),jfe(o,i,r,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vfe(e){Oue(pF),yf(new Iu("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return Mfe(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),_s(TR,AR,e),_s(TR,AR,"esm2020")}bo.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};bo.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};Vfe();var lD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Is,j$;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,I){function T(){}T.prototype=I.prototype,C.F=I.prototype,C.prototype=new T,C.prototype.constructor=C,C.D=function(k,A,j){for(var O=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)O[ee-2]=arguments[ee];return I.prototype[A].apply(k,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,I,T){T||(T=0);const k=Array(16);if(typeof I=="string")for(var A=0;A<16;++A)k[A]=I.charCodeAt(T++)|I.charCodeAt(T++)<<8|I.charCodeAt(T++)<<16|I.charCodeAt(T++)<<24;else for(A=0;A<16;++A)k[A]=I[T++]|I[T++]<<8|I[T++]<<16|I[T++]<<24;I=C.g[0],T=C.g[1],A=C.g[2];let j=C.g[3],O;O=I+(j^T&(A^j))+k[0]+3614090360&4294967295,I=T+(O<<7&4294967295|O>>>25),O=j+(A^I&(T^A))+k[1]+3905402710&4294967295,j=I+(O<<12&4294967295|O>>>20),O=A+(T^j&(I^T))+k[2]+606105819&4294967295,A=j+(O<<17&4294967295|O>>>15),O=T+(I^A&(j^I))+k[3]+3250441966&4294967295,T=A+(O<<22&4294967295|O>>>10),O=I+(j^T&(A^j))+k[4]+4118548399&4294967295,I=T+(O<<7&4294967295|O>>>25),O=j+(A^I&(T^A))+k[5]+1200080426&4294967295,j=I+(O<<12&4294967295|O>>>20),O=A+(T^j&(I^T))+k[6]+2821735955&4294967295,A=j+(O<<17&4294967295|O>>>15),O=T+(I^A&(j^I))+k[7]+4249261313&4294967295,T=A+(O<<22&4294967295|O>>>10),O=I+(j^T&(A^j))+k[8]+1770035416&4294967295,I=T+(O<<7&4294967295|O>>>25),O=j+(A^I&(T^A))+k[9]+2336552879&4294967295,j=I+(O<<12&4294967295|O>>>20),O=A+(T^j&(I^T))+k[10]+4294925233&4294967295,A=j+(O<<17&4294967295|O>>>15),O=T+(I^A&(j^I))+k[11]+2304563134&4294967295,T=A+(O<<22&4294967295|O>>>10),O=I+(j^T&(A^j))+k[12]+1804603682&4294967295,I=T+(O<<7&4294967295|O>>>25),O=j+(A^I&(T^A))+k[13]+4254626195&4294967295,j=I+(O<<12&4294967295|O>>>20),O=A+(T^j&(I^T))+k[14]+2792965006&4294967295,A=j+(O<<17&4294967295|O>>>15),O=T+(I^A&(j^I))+k[15]+1236535329&4294967295,T=A+(O<<22&4294967295|O>>>10),O=I+(A^j&(T^A))+k[1]+4129170786&4294967295,I=T+(O<<5&4294967295|O>>>27),O=j+(T^A&(I^T))+k[6]+3225465664&4294967295,j=I+(O<<9&4294967295|O>>>23),O=A+(I^T&(j^I))+k[11]+643717713&4294967295,A=j+(O<<14&4294967295|O>>>18),O=T+(j^I&(A^j))+k[0]+3921069994&4294967295,T=A+(O<<20&4294967295|O>>>12),O=I+(A^j&(T^A))+k[5]+3593408605&4294967295,I=T+(O<<5&4294967295|O>>>27),O=j+(T^A&(I^T))+k[10]+38016083&4294967295,j=I+(O<<9&4294967295|O>>>23),O=A+(I^T&(j^I))+k[15]+3634488961&4294967295,A=j+(O<<14&4294967295|O>>>18),O=T+(j^I&(A^j))+k[4]+3889429448&4294967295,T=A+(O<<20&4294967295|O>>>12),O=I+(A^j&(T^A))+k[9]+568446438&4294967295,I=T+(O<<5&4294967295|O>>>27),O=j+(T^A&(I^T))+k[14]+3275163606&4294967295,j=I+(O<<9&4294967295|O>>>23),O=A+(I^T&(j^I))+k[3]+4107603335&4294967295,A=j+(O<<14&4294967295|O>>>18),O=T+(j^I&(A^j))+k[8]+1163531501&4294967295,T=A+(O<<20&4294967295|O>>>12),O=I+(A^j&(T^A))+k[13]+2850285829&4294967295,I=T+(O<<5&4294967295|O>>>27),O=j+(T^A&(I^T))+k[2]+4243563512&4294967295,j=I+(O<<9&4294967295|O>>>23),O=A+(I^T&(j^I))+k[7]+1735328473&4294967295,A=j+(O<<14&4294967295|O>>>18),O=T+(j^I&(A^j))+k[12]+2368359562&4294967295,T=A+(O<<20&4294967295|O>>>12),O=I+(T^A^j)+k[5]+4294588738&4294967295,I=T+(O<<4&4294967295|O>>>28),O=j+(I^T^A)+k[8]+2272392833&4294967295,j=I+(O<<11&4294967295|O>>>21),O=A+(j^I^T)+k[11]+1839030562&4294967295,A=j+(O<<16&4294967295|O>>>16),O=T+(A^j^I)+k[14]+4259657740&4294967295,T=A+(O<<23&4294967295|O>>>9),O=I+(T^A^j)+k[1]+2763975236&4294967295,I=T+(O<<4&4294967295|O>>>28),O=j+(I^T^A)+k[4]+1272893353&4294967295,j=I+(O<<11&4294967295|O>>>21),O=A+(j^I^T)+k[7]+4139469664&4294967295,A=j+(O<<16&4294967295|O>>>16),O=T+(A^j^I)+k[10]+3200236656&4294967295,T=A+(O<<23&4294967295|O>>>9),O=I+(T^A^j)+k[13]+681279174&4294967295,I=T+(O<<4&4294967295|O>>>28),O=j+(I^T^A)+k[0]+3936430074&4294967295,j=I+(O<<11&4294967295|O>>>21),O=A+(j^I^T)+k[3]+3572445317&4294967295,A=j+(O<<16&4294967295|O>>>16),O=T+(A^j^I)+k[6]+76029189&4294967295,T=A+(O<<23&4294967295|O>>>9),O=I+(T^A^j)+k[9]+3654602809&4294967295,I=T+(O<<4&4294967295|O>>>28),O=j+(I^T^A)+k[12]+3873151461&4294967295,j=I+(O<<11&4294967295|O>>>21),O=A+(j^I^T)+k[15]+530742520&4294967295,A=j+(O<<16&4294967295|O>>>16),O=T+(A^j^I)+k[2]+3299628645&4294967295,T=A+(O<<23&4294967295|O>>>9),O=I+(A^(T|~j))+k[0]+4096336452&4294967295,I=T+(O<<6&4294967295|O>>>26),O=j+(T^(I|~A))+k[7]+1126891415&4294967295,j=I+(O<<10&4294967295|O>>>22),O=A+(I^(j|~T))+k[14]+2878612391&4294967295,A=j+(O<<15&4294967295|O>>>17),O=T+(j^(A|~I))+k[5]+4237533241&4294967295,T=A+(O<<21&4294967295|O>>>11),O=I+(A^(T|~j))+k[12]+1700485571&4294967295,I=T+(O<<6&4294967295|O>>>26),O=j+(T^(I|~A))+k[3]+2399980690&4294967295,j=I+(O<<10&4294967295|O>>>22),O=A+(I^(j|~T))+k[10]+4293915773&4294967295,A=j+(O<<15&4294967295|O>>>17),O=T+(j^(A|~I))+k[1]+2240044497&4294967295,T=A+(O<<21&4294967295|O>>>11),O=I+(A^(T|~j))+k[8]+1873313359&4294967295,I=T+(O<<6&4294967295|O>>>26),O=j+(T^(I|~A))+k[15]+4264355552&4294967295,j=I+(O<<10&4294967295|O>>>22),O=A+(I^(j|~T))+k[6]+2734768916&4294967295,A=j+(O<<15&4294967295|O>>>17),O=T+(j^(A|~I))+k[13]+1309151649&4294967295,T=A+(O<<21&4294967295|O>>>11),O=I+(A^(T|~j))+k[4]+4149444226&4294967295,I=T+(O<<6&4294967295|O>>>26),O=j+(T^(I|~A))+k[11]+3174756917&4294967295,j=I+(O<<10&4294967295|O>>>22),O=A+(I^(j|~T))+k[2]+718787259&4294967295,A=j+(O<<15&4294967295|O>>>17),O=T+(j^(A|~I))+k[9]+3951481745&4294967295,C.g[0]=C.g[0]+I&4294967295,C.g[1]=C.g[1]+(A+(O<<21&4294967295|O>>>11))&4294967295,C.g[2]=C.g[2]+A&4294967295,C.g[3]=C.g[3]+j&4294967295}r.prototype.v=function(C,I){I===void 0&&(I=C.length);const T=I-this.blockSize,k=this.C;let A=this.h,j=0;for(;j<I;){if(A==0)for(;j<=T;)i(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<I;)if(k[A++]=C.charCodeAt(j++),A==this.blockSize){i(this,k),A=0;break}}else for(;j<I;)if(k[A++]=C[j++],A==this.blockSize){i(this,k),A=0;break}}this.h=A,this.o+=I},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var I=1;I<C.length-8;++I)C[I]=0;I=this.o*8;for(var T=C.length-8;T<C.length;++T)C[T]=I&255,I/=256;for(this.v(C),C=Array(16),I=0,T=0;T<4;++T)for(let k=0;k<32;k+=8)C[I++]=this.g[T]>>>k&255;return C};function o(C,I){var T=a;return Object.prototype.hasOwnProperty.call(T,C)?T[C]:T[C]=I(C)}function s(C,I){this.h=I;const T=[];let k=!0;for(let A=C.length-1;A>=0;A--){const j=C[A]|0;k&&j==I||(T[A]=j,k=!1)}this.g=T}var a={};function l(C){return-128<=C&&C<128?o(C,function(I){return new s([I|0],I<0?-1:0)}):new s([C|0],C<0?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return d;if(C<0)return y(u(-C));const I=[];let T=1;for(let k=0;C>=T;k++)I[k]=C/T|0,T*=4294967296;return new s(I,0)}function c(C,I){if(C.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(C.charAt(0)=="-")return y(c(C.substring(1),I));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const T=u(Math.pow(I,8));let k=d;for(let j=0;j<C.length;j+=8){var A=Math.min(8,C.length-j);const O=parseInt(C.substring(j,j+A),I);A<8?(A=u(Math.pow(I,A)),k=k.j(A).add(u(O))):(k=k.j(T),k=k.add(u(O)))}return k}var d=l(0),f=l(1),p=l(16777216);e=s.prototype,e.m=function(){if(v(this))return-y(this).m();let C=0,I=1;for(let T=0;T<this.g.length;T++){const k=this.i(T);C+=(k>=0?k:4294967296+k)*I,I*=4294967296}return C},e.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(m(this))return"0";if(v(this))return"-"+y(this).toString(C);const I=u(Math.pow(C,6));var T=this;let k="";for(;;){const A=P(T,I).g;T=w(T,A.j(I));let j=((T.g.length>0?T.g[0]:T.h)>>>0).toString(C);if(T=A,m(T))return j+k;for(;j.length<6;)j="0"+j;k=j+k}},e.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function m(C){if(C.h!=0)return!1;for(let I=0;I<C.g.length;I++)if(C.g[I]!=0)return!1;return!0}function v(C){return C.h==-1}e.l=function(C){return C=w(this,C),v(C)?-1:m(C)?0:1};function y(C){const I=C.g.length,T=[];for(let k=0;k<I;k++)T[k]=~C.g[k];return new s(T,~C.h).add(f)}e.abs=function(){return v(this)?y(this):this},e.add=function(C){const I=Math.max(this.g.length,C.g.length),T=[];let k=0;for(let A=0;A<=I;A++){let j=k+(this.i(A)&65535)+(C.i(A)&65535),O=(j>>>16)+(this.i(A)>>>16)+(C.i(A)>>>16);k=O>>>16,j&=65535,O&=65535,T[A]=O<<16|j}return new s(T,T[T.length-1]&-2147483648?-1:0)};function w(C,I){return C.add(y(I))}e.j=function(C){if(m(this)||m(C))return d;if(v(this))return v(C)?y(this).j(y(C)):y(y(this).j(C));if(v(C))return y(this.j(y(C)));if(this.l(p)<0&&C.l(p)<0)return u(this.m()*C.m());const I=this.g.length+C.g.length,T=[];for(var k=0;k<2*I;k++)T[k]=0;for(k=0;k<this.g.length;k++)for(let A=0;A<C.g.length;A++){const j=this.i(k)>>>16,O=this.i(k)&65535,ee=C.i(A)>>>16,re=C.i(A)&65535;T[2*k+2*A]+=O*re,_(T,2*k+2*A),T[2*k+2*A+1]+=j*re,_(T,2*k+2*A+1),T[2*k+2*A+1]+=O*ee,_(T,2*k+2*A+1),T[2*k+2*A+2]+=j*ee,_(T,2*k+2*A+2)}for(C=0;C<I;C++)T[C]=T[2*C+1]<<16|T[2*C];for(C=I;C<2*I;C++)T[C]=0;return new s(T,0)};function _(C,I){for(;(C[I]&65535)!=C[I];)C[I+1]+=C[I]>>>16,C[I]&=65535,I++}function S(C,I){this.g=C,this.h=I}function P(C,I){if(m(I))throw Error("division by zero");if(m(C))return new S(d,d);if(v(C))return I=P(y(C),I),new S(y(I.g),y(I.h));if(v(I))return I=P(C,y(I)),new S(y(I.g),I.h);if(C.g.length>30){if(v(C)||v(I))throw Error("slowDivide_ only works with positive integers.");for(var T=f,k=I;k.l(C)<=0;)T=R(T),k=R(k);var A=M(T,1),j=M(k,1);for(k=M(k,2),T=M(T,2);!m(k);){var O=j.add(k);O.l(C)<=0&&(A=A.add(T),j=O),k=M(k,1),T=M(T,1)}return I=w(C,A.j(I)),new S(A,I)}for(A=d;C.l(I)>=0;){for(T=Math.max(1,Math.floor(C.m()/I.m())),k=Math.ceil(Math.log(T)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),j=u(T),O=j.j(I);v(O)||O.l(C)>0;)T-=k,j=u(T),O=j.j(I);m(j)&&(j=f),A=A.add(j),C=w(C,O)}return new S(A,C)}e.B=function(C){return P(this,C).h},e.and=function(C){const I=Math.max(this.g.length,C.g.length),T=[];for(let k=0;k<I;k++)T[k]=this.i(k)&C.i(k);return new s(T,this.h&C.h)},e.or=function(C){const I=Math.max(this.g.length,C.g.length),T=[];for(let k=0;k<I;k++)T[k]=this.i(k)|C.i(k);return new s(T,this.h|C.h)},e.xor=function(C){const I=Math.max(this.g.length,C.g.length),T=[];for(let k=0;k<I;k++)T[k]=this.i(k)^C.i(k);return new s(T,this.h^C.h)};function R(C){const I=C.g.length+1,T=[];for(let k=0;k<I;k++)T[k]=C.i(k)<<1|C.i(k-1)>>>31;return new s(T,C.h)}function M(C,I){const T=I>>5;I%=32;const k=C.g.length-T,A=[];for(let j=0;j<k;j++)A[j]=I>0?C.i(j+T)>>>I|C.i(j+T+1)<<32-I:C.i(j+T);return new s(A,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,j$=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,Is=s}).apply(typeof lD<"u"?lD:typeof self<"u"?self:typeof window<"u"?window:{});var Np=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var M$,ld,L$,hg,_1,F$,$$,B$;(function(){var e,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Np=="object"&&Np];for(var x=0;x<h.length;++x){var E=h[x];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(h,x){if(x)e:{var E=r;h=h.split(".");for(var N=0;N<h.length-1;N++){var U=h[N];if(!(U in E))break e;E=E[U]}h=h[h.length-1],N=E[h],x=x(N),x!=N&&x!=null&&t(E,h,{configurable:!0,writable:!0,value:x})}}i("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(h){return h||function(x){var E=[],N;for(N in x)Object.prototype.hasOwnProperty.call(x,N)&&E.push([N,x[N]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function a(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function l(h,x,E){return h.call.apply(h.bind,arguments)}function u(h,x,E){return u=l,u.apply(null,arguments)}function c(h,x){var E=Array.prototype.slice.call(arguments,1);return function(){var N=E.slice();return N.push.apply(N,arguments),h.apply(this,N)}}function d(h,x){function E(){}E.prototype=x.prototype,h.Z=x.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(N,U,Y){for(var ve=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)ve[Qe-2]=arguments[Qe];return x.prototype[U].apply(N,ve)}}var f=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function p(h){const x=h.length;if(x>0){const E=Array(x);for(let N=0;N<x;N++)E[N]=h[N];return E}return[]}function m(h,x){for(let N=1;N<arguments.length;N++){const U=arguments[N];var E=typeof U;if(E=E!="object"?E:U?Array.isArray(U)?"array":E:"null",E=="array"||E=="object"&&typeof U.length=="number"){E=h.length||0;const Y=U.length||0;h.length=E+Y;for(let ve=0;ve<Y;ve++)h[E+ve]=U[ve]}else h.push(U)}}class v{constructor(x,E){this.i=x,this.j=E,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function y(h){s.setTimeout(()=>{throw h},0)}function w(){var h=C;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class _{constructor(){this.h=this.g=null}add(x,E){const N=S.get();N.set(x,E),this.h?this.h.next=N:this.g=N,this.h=N}}var S=new v(()=>new P,h=>h.reset());class P{constructor(){this.next=this.g=this.h=null}set(x,E){this.h=x,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let R,M=!1,C=new _,I=()=>{const h=Promise.resolve(void 0);R=()=>{h.then(T)}};function T(){for(var h;h=w();){try{h.h.call(h.g)}catch(E){y(E)}var x=S;x.j(h),x.h<100&&(x.h++,h.next=x.g,x.g=h)}M=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};s.addEventListener("test",E,x),s.removeEventListener("test",E,x)}catch{}return h}();function O(h){return/^[\s\xa0]*$/.test(h)}function ee(h,x){A.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,x)}d(ee,A),ee.prototype.init=function(h,x){const E=this.type=h.type,N=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget,x||(E=="mouseover"?x=h.fromElement:E=="mouseout"&&(x=h.toElement)),this.relatedTarget=x,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),pe=0;function Oe(h,x,E,N,U){this.listener=h,this.proxy=null,this.src=x,this.type=E,this.capture=!!N,this.ha=U,this.key=++pe,this.da=this.fa=!1}function F(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Q(h,x,E){for(const N in h)x.call(E,h[N],N,h)}function le(h,x){for(const E in h)x.call(void 0,h[E],E,h)}function be(h){const x={};for(const E in h)x[E]=h[E];return x}const we="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(h,x){let E,N;for(let U=1;U<arguments.length;U++){N=arguments[U];for(E in N)h[E]=N[E];for(let Y=0;Y<we.length;Y++)E=we[Y],Object.prototype.hasOwnProperty.call(N,E)&&(h[E]=N[E])}}function ie(h){this.src=h,this.g={},this.h=0}ie.prototype.add=function(h,x,E,N,U){const Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);const ve=te(h,x,N,U);return ve>-1?(x=h[ve],E||(x.fa=!1)):(x=new Oe(x,this.src,Y,!!N,U),x.fa=E,h.push(x)),x};function Ie(h,x){const E=x.type;if(E in h.g){var N=h.g[E],U=Array.prototype.indexOf.call(N,x,void 0),Y;(Y=U>=0)&&Array.prototype.splice.call(N,U,1),Y&&(F(x),h.g[E].length==0&&(delete h.g[E],h.h--))}}function te(h,x,E,N){for(let U=0;U<h.length;++U){const Y=h[U];if(!Y.da&&Y.listener==x&&Y.capture==!!E&&Y.ha==N)return U}return-1}var D="closure_lm_"+(Math.random()*1e6|0),V={};function L(h,x,E,N,U){if(Array.isArray(x)){for(let Y=0;Y<x.length;Y++)L(h,x[Y],E,N,U);return null}return E=he(E),h&&h[re]?h.J(x,E,a(N)?!!N.capture:!1,U):J(h,x,E,!1,N,U)}function J(h,x,E,N,U,Y){if(!x)throw Error("Invalid event type");const ve=a(U)?!!U.capture:!!U;let Qe=ne(h);if(Qe||(h[D]=Qe=new ie(h)),E=Qe.add(x,E,N,ve,Y),E.proxy)return E;if(N=Z(),E.proxy=N,N.src=h,N.listener=E,h.addEventListener)j||(U=ve),U===void 0&&(U=!1),h.addEventListener(x.toString(),N,U);else if(h.attachEvent)h.attachEvent(W(x.toString()),N);else if(h.addListener&&h.removeListener)h.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Z(){function h(E){return x.call(h.src,h.listener,E)}const x=ae;return h}function $(h,x,E,N,U){if(Array.isArray(x))for(var Y=0;Y<x.length;Y++)$(h,x[Y],E,N,U);else N=a(N)?!!N.capture:!!N,E=he(E),h&&h[re]?(h=h.i,Y=String(x).toString(),Y in h.g&&(x=h.g[Y],E=te(x,E,N,U),E>-1&&(F(x[E]),Array.prototype.splice.call(x,E,1),x.length==0&&(delete h.g[Y],h.h--)))):h&&(h=ne(h))&&(x=h.g[x.toString()],h=-1,x&&(h=te(x,E,N,U)),(E=h>-1?x[h]:null)&&B(E))}function B(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[re])Ie(x.i,h);else{var E=h.type,N=h.proxy;x.removeEventListener?x.removeEventListener(E,N,h.capture):x.detachEvent?x.detachEvent(W(E),N):x.addListener&&x.removeListener&&x.removeListener(N),(E=ne(x))?(Ie(E,h),E.h==0&&(E.src=null,x[D]=null)):F(h)}}}function W(h){return h in V?V[h]:V[h]="on"+h}function ae(h,x){if(h.da)h=!0;else{x=new ee(x,this);const E=h.listener,N=h.ha||h.src;h.fa&&B(h),h=E.call(N,x)}return h}function ne(h){return h=h[D],h instanceof ie?h:null}var ce="__closure_events_fn_"+(Math.random()*1e9>>>0);function he(h){return typeof h=="function"?h:(h[ce]||(h[ce]=function(x){return h.handleEvent(x)}),h[ce])}function xe(){k.call(this),this.i=new ie(this),this.M=this,this.G=null}d(xe,k),xe.prototype[re]=!0,xe.prototype.removeEventListener=function(h,x,E,N){$(this,h,x,E,N)};function ze(h,x){var E,N=h.G;if(N)for(E=[];N;N=N.G)E.push(N);if(h=h.M,N=x.type||x,typeof x=="string")x=new A(x,h);else if(x instanceof A)x.target=x.target||h;else{var U=x;x=new A(N,h),X(x,U)}U=!0;let Y,ve;if(E)for(ve=E.length-1;ve>=0;ve--)Y=x.g=E[ve],U=He(Y,N,!0,x)&&U;if(Y=x.g=h,U=He(Y,N,!0,x)&&U,U=He(Y,N,!1,x)&&U,E)for(ve=0;ve<E.length;ve++)Y=x.g=E[ve],U=He(Y,N,!1,x)&&U}xe.prototype.N=function(){if(xe.Z.N.call(this),this.i){var h=this.i;for(const x in h.g){const E=h.g[x];for(let N=0;N<E.length;N++)F(E[N]);delete h.g[x],h.h--}}this.G=null},xe.prototype.J=function(h,x,E,N){return this.i.add(String(h),x,!1,E,N)},xe.prototype.K=function(h,x,E,N){return this.i.add(String(h),x,!0,E,N)};function He(h,x,E,N){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();let U=!0;for(let Y=0;Y<x.length;++Y){const ve=x[Y];if(ve&&!ve.da&&ve.capture==E){const Qe=ve.listener,dn=ve.ha||ve.src;ve.fa&&Ie(h.i,ve),U=Qe.call(dn,N)!==!1&&U}}return U&&!N.defaultPrevented}function Xe(h,x){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=u(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:s.setTimeout(h,x||0)}function yt(h){h.g=Xe(()=>{h.g=null,h.i&&(h.i=!1,yt(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class dt extends k{constructor(x,E){super(),this.m=x,this.l=E,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:yt(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nr(h){k.call(this),this.h=h,this.g={}}d(nr,k);var Pr=[];function H(h){Q(h.g,function(x,E){this.g.hasOwnProperty(E)&&B(x)},h),h.g={}}nr.prototype.N=function(){nr.Z.N.call(this),H(this)},nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ue=s.JSON.stringify,K=s.JSON.parse,oe=class{stringify(h){return s.JSON.stringify(h,void 0)}parse(h){return s.JSON.parse(h,void 0)}};function de(){}function Se(){}var Ae={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){A.call(this,"d")}d(je,A);function De(){A.call(this,"c")}d(De,A);var _e={},Re=null;function Ee(){return Re=Re||new xe}_e.Ia="serverreachability";function Ke(h){A.call(this,_e.Ia,h)}d(Ke,A);function Be(h){const x=Ee();ze(x,new Ke(x))}_e.STAT_EVENT="statevent";function it(h,x){A.call(this,_e.STAT_EVENT,h),this.stat=x}d(it,A);function Ve(h){const x=Ee();ze(x,new it(x,h))}_e.Ja="timingevent";function Sn(h,x){A.call(this,_e.Ja,h),this.size=x}d(Sn,A);function Ut(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){h()},x)}function $i(){this.g=!0}$i.prototype.ua=function(){this.g=!1};function Uo(h,x,E,N,U,Y){h.info(function(){if(h.g)if(Y){var ve="",Qe=Y.split("&");for(let xt=0;xt<Qe.length;xt++){var dn=Qe[xt].split("=");if(dn.length>1){const In=dn[0];dn=dn[1];const Vi=In.split("_");ve=Vi.length>=2&&Vi[1]=="type"?ve+(In+"="+dn+"&"):ve+(In+"=redacted&")}}}else ve=null;else ve=Y;return"XMLHTTP REQ ("+N+") [attempt "+U+"]: "+x+`
`+E+`
`+ve})}function Tr(h,x,E,N,U,Y,ve){h.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+U+"]: "+x+`
`+E+`
`+Y+" "+ve})}function En(h,x,E,N){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+m0(h,E)+(N?" "+N:"")})}function _C(h,x){h.info(function(){return"TIMEOUT: "+x})}$i.prototype.info=function(){};function m0(h,x){if(!h.g)return x;if(!x)return null;try{const Y=JSON.parse(x);if(Y){for(h=0;h<Y.length;h++)if(Array.isArray(Y[h])){var E=Y[h];if(!(E.length<2)){var N=E[1];if(Array.isArray(N)&&!(N.length<1)){var U=N[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ve=1;ve<N.length;ve++)N[ve]=""}}}}return ue(Y)}catch{return x}}var hc={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},SC;function v0(){}d(v0,de),v0.prototype.g=function(){return new XMLHttpRequest},SC=new v0;function pc(h){return encodeURIComponent(String(h))}function rV(h){var x=1;h=h.split(":");const E=[];for(;x>0&&h.length;)E.push(h.shift()),x--;return h.length&&E.push(h.join(":")),E}function zo(h,x,E,N){this.j=h,this.i=x,this.l=E,this.S=N||1,this.V=new nr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new EC}function EC(){this.i=null,this.g="",this.h=!1}var IC={},y0={};function b0(h,x,E){h.M=1,h.A=zh(Bi(x)),h.u=E,h.R=!0,CC(h,null)}function CC(h,x){h.F=Date.now(),Uh(h),h.B=Bi(h.A);var E=h.B,N=h.S;Array.isArray(N)||(N=[String(N)]),$C(E.i,"t",N),h.C=0,E=h.j.L,h.h=new EC,h.g=rP(h.j,E?x:null,!h.u),h.P>0&&(h.O=new dt(u(h.Y,h,h.g),h.P)),x=h.V,E=h.g,N=h.ba;var U="readystatechange";Array.isArray(U)||(U&&(Pr[0]=U.toString()),U=Pr);for(let Y=0;Y<U.length;Y++){const ve=L(E,U[Y],N||x.handleEvent,!1,x.h||x);if(!ve)break;x.g[ve.key]=ve}x=h.J?be(h.J):{},h.u?(h.v||(h.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,x)):(h.v="GET",h.g.ea(h.B,h.v,null,x)),Be(),Uo(h.i,h.v,h.B,h.l,h.S,h.u)}zo.prototype.ba=function(h){h=h.target;const x=this.O;x&&qo(h)==3?x.j():this.Y(h)},zo.prototype.Y=function(h){try{if(h==this.g)e:{const Qe=qo(this.g),dn=this.g.ya(),xt=this.g.ca();if(!(Qe<3)&&(Qe!=3||this.g&&(this.h.h||this.g.la()||qC(this.g)))){this.K||Qe!=4||dn==7||(dn==8||xt<=0?Be(3):Be(2)),x0(this);var x=this.g.ca();this.X=x;var E=iV(this);if(this.o=x==200,Tr(this.i,this.v,this.B,this.l,this.S,Qe,x),this.o){if(this.U&&!this.L){t:{if(this.g){var N,U=this.g;if((N=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(N)){var Y=N;break t}}Y=null}if(h=Y)En(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,w0(this,h);else{this.o=!1,this.m=3,Ve(12),ia(this),gc(this);break e}}if(this.R){h=!0;let In;for(;!this.K&&this.C<E.length;)if(In=oV(this,E),In==y0){Qe==4&&(this.m=4,Ve(14),h=!1),En(this.i,this.l,null,"[Incomplete Response]");break}else if(In==IC){this.m=4,Ve(15),En(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else En(this.i,this.l,In,null),w0(this,In);if(PC(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qe!=4||E.length!=0||this.h.h||(this.m=1,Ve(16),h=!1),this.o=this.o&&h,!h)En(this.i,this.l,E,"[Invalid Chunked Response]"),ia(this),gc(this);else if(E.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),A0(ve),ve.P=!0,Ve(11))}}else En(this.i,this.l,E,null),w0(this,E);Qe==4&&ia(this),this.o&&!this.K&&(Qe==4?ZC(this.j,this):(this.o=!1,Uh(this)))}else bV(this.g),x==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ve(12)):(this.m=0,Ve(13)),ia(this),gc(this)}}}catch{}finally{}};function iV(h){if(!PC(h))return h.g.la();const x=qC(h.g);if(x==="")return"";let E="";const N=x.length,U=qo(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return ia(h),gc(h),"";h.h.i=new s.TextDecoder}for(let Y=0;Y<N;Y++)h.h.h=!0,E+=h.h.i.decode(x[Y],{stream:!(U&&Y==N-1)});return x.length=0,h.h.g+=E,h.C=0,h.h.g}function PC(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function oV(h,x){var E=h.C,N=x.indexOf(`
`,E);return N==-1?y0:(E=Number(x.substring(E,N)),isNaN(E)?IC:(N+=1,N+E>x.length?y0:(x=x.slice(N,N+E),h.C=N+E,x)))}zo.prototype.cancel=function(){this.K=!0,ia(this)};function Uh(h){h.T=Date.now()+h.H,TC(h,h.H)}function TC(h,x){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ut(u(h.aa,h),x)}function x0(h){h.D&&(s.clearTimeout(h.D),h.D=null)}zo.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(_C(this.i,this.B),this.M!=2&&(Be(),Ve(17)),ia(this),this.m=2,gc(this)):TC(this,this.T-h)};function gc(h){h.j.I==0||h.K||ZC(h.j,h)}function ia(h){x0(h);var x=h.O;x&&typeof x.dispose=="function"&&x.dispose(),h.O=null,H(h.V),h.g&&(x=h.g,h.g=null,x.abort(),x.dispose())}function w0(h,x){try{var E=h.j;if(E.I!=0&&(E.g==h||_0(E.h,h))){if(!h.L&&_0(E.h,h)&&E.I==3){try{var N=E.Ba.g.parse(x)}catch{N=null}if(Array.isArray(N)&&N.length==3){var U=N;if(U[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Kh(E),qh(E);else break e;T0(E),Ve(18)}}else E.xa=U[1],0<E.xa-E.K&&U[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ut(u(E.Va,E),6e3));RC(E.h)<=1&&E.ta&&(E.ta=void 0)}else sa(E,11)}else if((h.L||E.g==h)&&Kh(E),!O(x))for(U=E.Ba.g.parse(x),x=0;x<U.length;x++){let xt=U[x];const In=xt[0];if(!(In<=E.K))if(E.K=In,xt=xt[1],E.I==2)if(xt[0]=="c"){E.M=xt[1],E.ba=xt[2];const Vi=xt[3];Vi!=null&&(E.ka=Vi,E.j.info("VER="+E.ka));const aa=xt[4];aa!=null&&(E.za=aa,E.j.info("SVER="+E.za));const Go=xt[5];Go!=null&&typeof Go=="number"&&Go>0&&(N=1.5*Go,E.O=N,E.j.info("backChannelRequestTimeoutMs_="+N)),N=E;const Ko=h.g;if(Ko){const Qh=Ko.g?Ko.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qh){var Y=N.h;Y.g||Qh.indexOf("spdy")==-1&&Qh.indexOf("quic")==-1&&Qh.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(S0(Y,Y.h),Y.h=null))}if(N.G){const O0=Ko.g?Ko.g.getResponseHeader("X-HTTP-Session-Id"):null;O0&&(N.wa=O0,Tt(N.J,N.G,O0))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),N=E;var ve=h;if(N.na=nP(N,N.L?N.ba:null,N.W),ve.L){DC(N.h,ve);var Qe=ve,dn=N.O;dn&&(Qe.H=dn),Qe.D&&(x0(Qe),Uh(Qe)),N.g=ve}else XC(N);E.i.length>0&&Gh(E)}else xt[0]!="stop"&&xt[0]!="close"||sa(E,7);else E.I==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?sa(E,7):P0(E):xt[0]!="noop"&&E.l&&E.l.qa(xt),E.A=0)}}Be(4)}catch{}}var sV=class{constructor(h,x){this.g=h,this.map=x}};function AC(h){this.l=h||10,s.PerformanceNavigationTiming?(h=s.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function OC(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function RC(h){return h.h?1:h.g?h.g.size:0}function _0(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function S0(h,x){h.g?h.g.add(x):h.h=x}function DC(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}AC.prototype.cancel=function(){if(this.i=kC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function kC(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const E of h.g.values())x=x.concat(E.G);return x}return p(h.i)}var NC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aV(h,x){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const N=h[E].indexOf("=");let U,Y=null;N>=0?(U=h[E].substring(0,N),Y=h[E].substring(N+1)):U=h[E],x(U,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Wo(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;h instanceof Wo?(this.l=h.l,mc(this,h.j),this.o=h.o,this.g=h.g,vc(this,h.u),this.h=h.h,E0(this,BC(h.i)),this.m=h.m):h&&(x=String(h).match(NC))?(this.l=!1,mc(this,x[1]||"",!0),this.o=yc(x[2]||""),this.g=yc(x[3]||"",!0),vc(this,x[4]),this.h=yc(x[5]||"",!0),E0(this,x[6]||"",!0),this.m=yc(x[7]||"")):(this.l=!1,this.i=new xc(null,this.l))}Wo.prototype.toString=function(){const h=[];var x=this.j;x&&h.push(bc(x,jC,!0),":");var E=this.g;return(E||x=="file")&&(h.push("//"),(x=this.o)&&h.push(bc(x,jC,!0),"@"),h.push(pc(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(bc(E,E.charAt(0)=="/"?cV:uV,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",bc(E,fV)),h.join("")},Wo.prototype.resolve=function(h){const x=Bi(this);let E=!!h.j;E?mc(x,h.j):E=!!h.o,E?x.o=h.o:E=!!h.g,E?x.g=h.g:E=h.u!=null;var N=h.h;if(E)vc(x,h.u);else if(E=!!h.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var U=x.h.lastIndexOf("/");U!=-1&&(N=x.h.slice(0,U+1)+N)}if(U=N,U==".."||U==".")N="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){N=U.lastIndexOf("/",0)==0,U=U.split("/");const Y=[];for(let ve=0;ve<U.length;){const Qe=U[ve++];Qe=="."?N&&ve==U.length&&Y.push(""):Qe==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),N&&ve==U.length&&Y.push("")):(Y.push(Qe),N=!0)}N=Y.join("/")}else N=U}return E?x.h=N:E=h.i.toString()!=="",E?E0(x,BC(h.i)):E=!!h.m,E&&(x.m=h.m),x};function Bi(h){return new Wo(h)}function mc(h,x,E){h.j=E?yc(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function vc(h,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);h.u=x}else h.u=null}function E0(h,x,E){x instanceof xc?(h.i=x,hV(h.i,h.l)):(E||(x=bc(x,dV)),h.i=new xc(x,h.l))}function Tt(h,x,E){h.i.set(x,E)}function zh(h){return Tt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function yc(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function bc(h,x,E){return typeof h=="string"?(h=encodeURI(h).replace(x,lV),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function lV(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var jC=/[#\/\?@]/g,uV=/[#\?:]/g,cV=/[#\?]/g,dV=/[#\?@]/g,fV=/#/g;function xc(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function oa(h){h.g||(h.g=new Map,h.h=0,h.i&&aV(h.i,function(x,E){h.add(decodeURIComponent(x.replace(/\+/g," ")),E)}))}e=xc.prototype,e.add=function(h,x){oa(this),this.i=null,h=yl(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(x),this.h+=1,this};function MC(h,x){oa(h),x=yl(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function LC(h,x){return oa(h),x=yl(h,x),h.g.has(x)}e.forEach=function(h,x){oa(this),this.g.forEach(function(E,N){E.forEach(function(U){h.call(x,U,N,this)},this)},this)};function FC(h,x){oa(h);let E=[];if(typeof x=="string")LC(h,x)&&(E=E.concat(h.g.get(yl(h,x))));else for(h=Array.from(h.g.values()),x=0;x<h.length;x++)E=E.concat(h[x]);return E}e.set=function(h,x){return oa(this),this.i=null,h=yl(this,h),LC(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},e.get=function(h,x){return h?(h=FC(this,h),h.length>0?String(h[0]):x):x};function $C(h,x,E){MC(h,x),E.length>0&&(h.i=null,h.g.set(yl(h,x),p(E)),h.h+=E.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(let N=0;N<x.length;N++){var E=x[N];const U=pc(E);E=FC(this,E);for(let Y=0;Y<E.length;Y++){let ve=U;E[Y]!==""&&(ve+="="+pc(E[Y])),h.push(ve)}}return this.i=h.join("&")};function BC(h){const x=new xc;return x.i=h.i,h.g&&(x.g=new Map(h.g),x.h=h.h),x}function yl(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function hV(h,x){x&&!h.j&&(oa(h),h.i=null,h.g.forEach(function(E,N){const U=N.toLowerCase();N!=U&&(MC(this,N),$C(this,U,E))},h)),h.j=x}function pV(h,x){const E=new $i;if(s.Image){const N=new Image;N.onload=c(Ho,E,"TestLoadImage: loaded",!0,x,N),N.onerror=c(Ho,E,"TestLoadImage: error",!1,x,N),N.onabort=c(Ho,E,"TestLoadImage: abort",!1,x,N),N.ontimeout=c(Ho,E,"TestLoadImage: timeout",!1,x,N),s.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=h}else x(!1)}function gV(h,x){const E=new $i,N=new AbortController,U=setTimeout(()=>{N.abort(),Ho(E,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:N.signal}).then(Y=>{clearTimeout(U),Y.ok?Ho(E,"TestPingServer: ok",!0,x):Ho(E,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(U),Ho(E,"TestPingServer: error",!1,x)})}function Ho(h,x,E,N,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),N(E)}catch{}}function mV(){this.g=new oe}function I0(h){this.i=h.Sb||null,this.h=h.ab||!1}d(I0,de),I0.prototype.g=function(){return new Wh(this.i,this.h)};function Wh(h,x){xe.call(this),this.H=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(Wh,xe),e=Wh.prototype,e.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=x,this.readyState=1,_c(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(x.body=h),(this.H||s).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,wc(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,_c(this)),this.g&&(this.readyState=3,_c(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;VC(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function VC(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?wc(this):_c(this),this.readyState==3&&VC(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,wc(this))},e.Na=function(h){this.g&&(this.response=h,wc(this))},e.ga=function(){this.g&&wc(this)};function wc(h){h.readyState=4,h.l=null,h.j=null,h.B=null,_c(h)}e.setRequestHeader=function(h,x){this.A.append(h,x)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var E=x.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=x.next();return h.join(`\r
`)};function _c(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Wh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function UC(h){let x="";return Q(h,function(E,N){x+=N,x+=":",x+=E,x+=`\r
`}),x}function C0(h,x,E){e:{for(N in E){var N=!1;break e}N=!0}N||(E=UC(E),typeof h=="string"?E!=null&&pc(E):Tt(h,x,E))}function zt(h){xe.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(zt,xe);var vV=/^https?$/i,yV=["POST","PUT"];e=zt.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,x,E,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():SC.g(),this.g.onreadystatechange=f(u(this.Ca,this));try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(Y){zC(this,Y);return}if(h=E||"",E=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var U in N)E.set(U,N[U]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const Y of N.keys())E.set(Y,N.get(Y));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),U=s.FormData&&h instanceof s.FormData,!(Array.prototype.indexOf.call(yV,x,void 0)>=0)||N||U||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ve]of E)this.g.setRequestHeader(Y,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Y){zC(this,Y)}};function zC(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.o=5,WC(h),Hh(h)}function WC(h){h.A||(h.A=!0,ze(h,"complete"),ze(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,ze(this,"complete"),ze(this,"abort"),Hh(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hh(this,!0)),zt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?HC(this):this.Xa())},e.Xa=function(){HC(this)};function HC(h){if(h.h&&typeof o<"u"){if(h.v&&qo(h)==4)setTimeout(h.Ca.bind(h),0);else if(ze(h,"readystatechange"),qo(h)==4){h.h=!1;try{const Y=h.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var E;if(!(E=x)){var N;if(N=Y===0){let ve=String(h.D).match(NC)[1]||null;!ve&&s.self&&s.self.location&&(ve=s.self.location.protocol.slice(0,-1)),N=!vV.test(ve?ve.toLowerCase():"")}E=N}if(E)ze(h,"complete"),ze(h,"success");else{h.o=6;try{var U=qo(h)>2?h.g.statusText:""}catch{U=""}h.l=U+" ["+h.ca()+"]",WC(h)}}finally{Hh(h)}}}}function Hh(h,x){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,x||ze(h,"ready");try{E.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function qo(h){return h.g?h.g.readyState:0}e.ca=function(){try{return qo(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),K(x)}};function qC(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function bV(h){const x={};h=(h.g&&qo(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<h.length;N++){if(O(h[N]))continue;var E=rV(h[N]);const U=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=x[U]||[];x[U]=Y,Y.push(E)}le(x,function(N){return N.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sc(h,x,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||x}function GC(h){this.za=0,this.i=[],this.j=new $i,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Sc("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Sc("baseRetryDelayMs",5e3,h),this.Za=Sc("retryDelaySeedMs",1e4,h),this.Ta=Sc("forwardChannelMaxRetries",2,h),this.va=Sc("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new AC(h&&h.concurrentRequestLimit),this.Ba=new mV,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=GC.prototype,e.ka=8,e.I=1,e.connect=function(h,x,E,N){Ve(0),this.W=h,this.H=x||{},E&&N!==void 0&&(this.H.OSID=E,this.H.OAID=N),this.F=this.X,this.J=nP(this,null,this.W),Gh(this)};function P0(h){if(KC(h),h.I==3){var x=h.V++,E=Bi(h.J);if(Tt(E,"SID",h.M),Tt(E,"RID",x),Tt(E,"TYPE","terminate"),Ec(h,E),x=new zo(h,h.j,x),x.M=2,x.A=zh(Bi(E)),E=!1,s.navigator&&s.navigator.sendBeacon)try{E=s.navigator.sendBeacon(x.A.toString(),"")}catch{}!E&&s.Image&&(new Image().src=x.A,E=!0),E||(x.g=rP(x.j,null),x.g.ea(x.A)),x.F=Date.now(),Uh(x)}tP(h)}function qh(h){h.g&&(A0(h),h.g.cancel(),h.g=null)}function KC(h){qh(h),h.v&&(s.clearTimeout(h.v),h.v=null),Kh(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&s.clearTimeout(h.m),h.m=null)}function Gh(h){if(!OC(h.h)&&!h.m){h.m=!0;var x=h.Ea;R||I(),M||(R(),M=!0),C.add(x,h),h.D=0}}function xV(h,x){return RC(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=x.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ut(u(h.Ea,h,x),eP(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const U=new zo(this,this.j,h);let Y=this.o;if(this.U&&(Y?(Y=be(Y),X(Y,this.U)):Y=this.U),this.u!==null||this.R||(U.J=Y,Y=null),this.S)e:{for(var x=0,E=0;E<this.i.length;E++){t:{var N=this.i[E];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(x+=N,x>4096){x=E;break e}if(x===4096||E===this.i.length-1){x=E+1;break e}}x=1e3}else x=1e3;x=QC(this,U,x),E=Bi(this.J),Tt(E,"RID",h),Tt(E,"CVER",22),this.G&&Tt(E,"X-HTTP-Session-Id",this.G),Ec(this,E),Y&&(this.R?x="headers="+pc(UC(Y))+"&"+x:this.u&&C0(E,this.u,Y)),S0(this.h,U),this.Ra&&Tt(E,"TYPE","init"),this.S?(Tt(E,"$req",x),Tt(E,"SID","null"),U.U=!0,b0(U,E,null)):b0(U,E,x),this.I=2}}else this.I==3&&(h?YC(this,h):this.i.length==0||OC(this.h)||YC(this))};function YC(h,x){var E;x?E=x.l:E=h.V++;const N=Bi(h.J);Tt(N,"SID",h.M),Tt(N,"RID",E),Tt(N,"AID",h.K),Ec(h,N),h.u&&h.o&&C0(N,h.u,h.o),E=new zo(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),x&&(h.i=x.G.concat(h.i)),x=QC(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),S0(h.h,E),b0(E,N,x)}function Ec(h,x){h.H&&Q(h.H,function(E,N){Tt(x,N,E)}),h.l&&Q({},function(E,N){Tt(x,N,E)})}function QC(h,x,E){E=Math.min(h.i.length,E);const N=h.l?u(h.l.Ka,h.l,h):null;e:{var U=h.i;let Qe=-1;for(;;){const dn=["count="+E];Qe==-1?E>0?(Qe=U[0].g,dn.push("ofs="+Qe)):Qe=0:dn.push("ofs="+Qe);let xt=!0;for(let In=0;In<E;In++){var Y=U[In].g;const Vi=U[In].map;if(Y-=Qe,Y<0)Qe=Math.max(0,U[In].g-100),xt=!1;else try{Y="req"+Y+"_"||"";try{var ve=Vi instanceof Map?Vi:Object.entries(Vi);for(const[aa,Go]of ve){let Ko=Go;a(Go)&&(Ko=ue(Go)),dn.push(Y+aa+"="+encodeURIComponent(Ko))}}catch(aa){throw dn.push(Y+"type="+encodeURIComponent("_badmap")),aa}}catch{N&&N(Vi)}}if(xt){ve=dn.join("&");break e}}ve=void 0}return h=h.i.splice(0,E),x.G=h,ve}function XC(h){if(!h.g&&!h.v){h.Y=1;var x=h.Da;R||I(),M||(R(),M=!0),C.add(x,h),h.A=0}}function T0(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ut(u(h.Da,h),eP(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,JC(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ut(u(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ve(10),qh(this),JC(this))};function A0(h){h.B!=null&&(s.clearTimeout(h.B),h.B=null)}function JC(h){h.g=new zo(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var x=Bi(h.na);Tt(x,"RID","rpc"),Tt(x,"SID",h.M),Tt(x,"AID",h.K),Tt(x,"CI",h.F?"0":"1"),!h.F&&h.ia&&Tt(x,"TO",h.ia),Tt(x,"TYPE","xmlhttp"),Ec(h,x),h.u&&h.o&&C0(x,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=zh(Bi(x)),E.u=null,E.R=!0,CC(E,h)}e.Va=function(){this.C!=null&&(this.C=null,qh(this),T0(this),Ve(19))};function Kh(h){h.C!=null&&(s.clearTimeout(h.C),h.C=null)}function ZC(h,x){var E=null;if(h.g==x){Kh(h),A0(h),h.g=null;var N=2}else if(_0(h.h,x))E=x.G,DC(h.h,x),N=1;else return;if(h.I!=0){if(x.o)if(N==1){E=x.u?x.u.length:0,x=Date.now()-x.F;var U=h.D;N=Ee(),ze(N,new Sn(N,E)),Gh(h)}else XC(h);else if(U=x.m,U==3||U==0&&x.X>0||!(N==1&&xV(h,x)||N==2&&T0(h)))switch(E&&E.length>0&&(x=h.h,x.i=x.i.concat(E)),U){case 1:sa(h,5);break;case 4:sa(h,10);break;case 3:sa(h,6);break;default:sa(h,2)}}}function eP(h,x){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*x}function sa(h,x){if(h.j.info("Error code "+x),x==2){var E=u(h.bb,h),N=h.Ua;const U=!N;N=new Wo(N||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||mc(N,"https"),zh(N),U?pV(N.toString(),E):gV(N.toString(),E)}else Ve(2);h.I=0,h.l&&h.l.pa(x),tP(h),KC(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ve(2)):(this.j.info("Failed to ping google.com"),Ve(1))};function tP(h){if(h.I=0,h.ja=[],h.l){const x=kC(h.h);(x.length!=0||h.i.length!=0)&&(m(h.ja,x),m(h.ja,h.i),h.h.i.length=0,p(h.i),h.i.length=0),h.l.oa()}}function nP(h,x,E){var N=E instanceof Wo?Bi(E):new Wo(E);if(N.g!="")x&&(N.g=x+"."+N.g),vc(N,N.u);else{var U=s.location;N=U.protocol,x=x?x+"."+U.hostname:U.hostname,U=+U.port;const Y=new Wo(null);N&&mc(Y,N),x&&(Y.g=x),U&&vc(Y,U),E&&(Y.h=E),N=Y}return E=h.G,x=h.wa,E&&x&&Tt(N,E,x),Tt(N,"VER",h.ka),Ec(h,N),N}function rP(h,x,E){if(x&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Aa&&!h.ma?new zt(new I0({ab:E})):new zt(h.ma),x.Fa(h.L),x}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function iP(){}e=iP.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Yh(){}Yh.prototype.g=function(h,x){return new Ar(h,x)};function Ar(h,x){xe.call(this),this.g=new GC(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(h?h["X-WebChannel-Client-Profile"]=x.sa:h={"X-WebChannel-Client-Profile":x.sa}),this.g.U=h,(h=x&&x.Qb)&&!O(h)&&(this.g.u=h),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!O(x)&&(this.g.G=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new bl(this)}d(Ar,xe),Ar.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ar.prototype.close=function(){P0(this.g)},Ar.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=ue(h),h=E);x.i.push(new sV(x.Ya++,h)),x.I==3&&Gh(x)},Ar.prototype.N=function(){this.g.l=null,delete this.j,P0(this.g),delete this.g,Ar.Z.N.call(this)};function oP(h){je.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const E in x){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}d(oP,je);function sP(){De.call(this),this.status=1}d(sP,De);function bl(h){this.g=h}d(bl,iP),bl.prototype.ra=function(){ze(this.g,"a")},bl.prototype.qa=function(h){ze(this.g,new oP(h))},bl.prototype.pa=function(h){ze(this.g,new sP)},bl.prototype.oa=function(){ze(this.g,"b")},Yh.prototype.createWebChannel=Yh.prototype.g,Ar.prototype.send=Ar.prototype.o,Ar.prototype.open=Ar.prototype.m,Ar.prototype.close=Ar.prototype.close,B$=function(){return new Yh},$$=function(){return Ee()},F$=_e,_1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hc.NO_ERROR=0,hc.TIMEOUT=8,hc.HTTP_ERROR=6,hg=hc,vl.COMPLETE="complete",L$=vl,Se.EventType=Ae,Ae.OPEN="a",Ae.CLOSE="b",Ae.ERROR="c",Ae.MESSAGE="d",xe.prototype.listen=xe.prototype.J,ld=Se,zt.prototype.listenOnce=zt.prototype.K,zt.prototype.getLastError=zt.prototype.Ha,zt.prototype.getLastErrorCode=zt.prototype.ya,zt.prototype.getStatus=zt.prototype.ca,zt.prototype.getResponseJson=zt.prototype.La,zt.prototype.getResponseText=zt.prototype.la,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Fa,M$=zt}).apply(typeof Np<"u"?Np:typeof self<"u"?self:typeof window<"u"?window:{});const uD="@firebase/firestore",cD="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xn.UNAUTHENTICATED=new Xn(null),Xn.GOOGLE_CREDENTIALS=new Xn("google-credentials-uid"),Xn.FIRST_PARTY=new Xn("first-party-uid"),Xn.MOCK_USER=new Xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=new qE("@firebase/firestore");function Tl(){return Qa.logLevel}function Ce(e,...t){if(Qa.logLevel<=nt.DEBUG){const n=t.map(PI);Qa.debug(`Firestore (${ac}): ${e}`,...n)}}function jo(e,...t){if(Qa.logLevel<=nt.ERROR){const n=t.map(PI);Qa.error(`Firestore (${ac}): ${e}`,...n)}}function Ru(e,...t){if(Qa.logLevel<=nt.WARN){const n=t.map(PI);Qa.warn(`Firestore (${ac}): ${e}`,...n)}}function PI(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,V$(e,r,n)}function V$(e,t,n){let r=`FIRESTORE (${ac}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw jo(r),new Error(r)}function $t(e,t,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,e||V$(t,i,r)}function at(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends rc{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Ufe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Xn.UNAUTHENTICATED))}shutdown(){}}class zfe{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Wfe{constructor(t){this.t=t,this.currentUser=Xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){$t(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new ka;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ka,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ka)}},0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($t(typeof r.accessToken=="string",31837,{l:r}),new U$(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string",2055,{h:t}),new Xn(t)}}class Hfe{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Xn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qfe{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new Hfe(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Xn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dD{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gfe{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hF(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){$t(this.o===void 0,3512);const r=o=>{o.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,Ce("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};const i=o=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new dD(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?($t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new dD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kfe(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Kfe(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%62))}return r}}function rt(e,t){return e<t?-1:e>t?1:0}function S1(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const i=e.charAt(r),o=t.charAt(r);if(i!==o)return Hb(i)===Hb(o)?rt(i,o):Hb(i)?1:-1}return rt(e.length,t.length)}const Yfe=55296,Qfe=57343;function Hb(e){const t=e.charCodeAt(0);return t>=Yfe&&t<=Qfe}function Du(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD="__name__";class qi{constructor(t,n,r){n===void 0?n=0:n>t.length&&qe(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&qe(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return qi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof qi?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const o=qi.compareSegments(t.get(i),n.get(i));if(o!==0)return o}return rt(t.length,n.length)}static compareSegments(t,n){const r=qi.isNumericId(t),i=qi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?qi.extractNumericId(t).compare(qi.extractNumericId(n)):S1(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Is.fromString(t.substring(4,t.length-2))}}class Lt extends qi{construct(t,n,r){return new Lt(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Ne(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Lt(n)}static emptyPath(){return new Lt([])}}const Xfe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class or extends qi{construct(t,n,r){return new or(t,n,r)}static isValidIdentifier(t){return Xfe.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),or.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fD}static keyField(){return new or([fD])}static fromServerFormat(t){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ne(ye.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new Ne(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ne(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Ne(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new or(n)}static emptyPath(){return new or([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.path=t}static fromPath(t){return new $e(Lt.fromString(t))}static fromName(t){return new $e(Lt.fromString(t).popFirst(5))}static empty(){return new $e(Lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Lt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Lt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new $e(new Lt(t.slice()))}}function Jfe(e,t,n,r){if(t===!0&&r===!0)throw new Ne(ye.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function hD(e){if($e.isDocumentKey(e))throw new Ne(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Zfe(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function ehe(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":qe(12329,{type:typeof e})}function E1(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ne(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ehe(e);throw new Ne(ye.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(e,t){const n={typeString:e};return t&&(n.value=t),n}function jh(e,t){if(!Zfe(e))throw new Ne(ye.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const s=e[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Ne(ye.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=-62135596800,gD=1e6;class nn{static now(){return nn.fromMillis(Date.now())}static fromDate(t){return nn.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*gD);return new nn(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Ne(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ne(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<pD)throw new Ne(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ne(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gD}_compareTo(t){return this.seconds===t.seconds?rt(this.nanoseconds,t.nanoseconds):rt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(jh(t,nn._jsonSchema))return new nn(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-pD;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nn._jsonSchemaVersion="firestore/timestamp/1.0",nn._jsonSchema={type:sn("string",nn._jsonSchemaVersion),seconds:sn("number"),nanoseconds:sn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{static fromTimestamp(t){return new We(t)}static min(){return new We(new nn(0,0))}static max(){return new We(new nn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=-1;function the(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=We.fromTimestamp(r===1e9?new nn(n+1,0):new nn(n,r));return new Bs(i,$e.empty(),t)}function nhe(e){return new Bs(e.readTime,e.key,Af)}class Bs{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Bs(We.min(),$e.empty(),Af)}static max(){return new Bs(We.max(),$e.empty(),Af)}}function rhe(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=$e.comparator(e.documentKey,t.documentKey),n!==0?n:rt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ihe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ohe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vy(e){if(e.code!==ye.FAILED_PRECONDITION||e.message!==ihe)throw e;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new se((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):se.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):se.reject(n)}static resolve(t){return new se((n,r)=>{n(t)})}static reject(t){return new se((n,r)=>{r(t)})}static waitFor(t){return new se((n,r)=>{let i=0,o=0,s=!1;t.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(t){let n=se.resolve(!1);for(const r of t)n=n.next(i=>i?se.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(t,n){return new se((r,i)=>{const o=t.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(t[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(t,n){return new se((r,i)=>{const o=()=>{t()===!0?n().next(()=>{o()},i):r()};o()})}}function she(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function lc(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Uy.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ahe=-1;function zy(e){return e==null}function I1(e){return e===0&&1/e==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$="";function lhe(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=mD(t)),t=uhe(e.get(n),t);return mD(t)}function uhe(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const o=e.charAt(i);switch(o){case"\0":n+="";break;case W$:n+="";break;default:n+=o}}return n}function mD(e){return e+W$+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Mh(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function che(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(t,n){this.comparator=t,this.root=n||Bn.EMPTY}insert(t,n){return new Zt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Bn.BLACK,null,null))}remove(t){return new Zt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Bn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new jp(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new jp(this.root,t,this.comparator,!1)}getReverseIterator(){return new jp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new jp(this.root,t,this.comparator,!0)}}class jp{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Bn{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r??Bn.RED,this.left=i??Bn.EMPTY,this.right=o??Bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,o){return new Bn(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const o=r(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Bn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Bn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qe(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw qe(27949);return t+(this.isRed()?0:1)}}Bn.EMPTY=null,Bn.RED=!0,Bn.BLACK=!1;Bn.EMPTY=new class{constructor(){this.size=0}get key(){throw qe(57766)}get value(){throw qe(16141)}get color(){throw qe(16727)}get left(){throw qe(29726)}get right(){throw qe(36894)}copy(t,n,r,i,o){return this}insert(t,n,r){return new Bn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this.comparator=t,this.data=new Zt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new yD(this.data.getIterator())}getIteratorFrom(t){return new yD(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof yn)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new yn(this.comparator);return n.data=t,n}}class yD{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(t){this.fields=t,t.sort(or.comparator)}static empty(){return new ls([])}unionWith(t){let n=new yn(or.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new ls(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Du(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new H$("Invalid base64 string: "+o):o}}(t);return new qn(n)}static fromUint8Array(t){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(t);return new qn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return rt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}qn.EMPTY_BYTE_STRING=new qn("");const dhe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(e){if($t(!!e,39018),typeof e=="string"){let t=0;const n=dhe.exec(e);if($t(!!n,46558,{timestamp:e}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Qt(e.seconds),nanos:Qt(e.nanos)}}function Qt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Us(e){return typeof e=="string"?qn.fromBase64String(e):qn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$="server_timestamp",G$="__type__",K$="__previous_value__",Y$="__local_write_time__";function TI(e){var n,r;return((r=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[G$])==null?void 0:r.stringValue)===q$}function Wy(e){const t=e.mapValue.fields[K$];return TI(t)?Wy(t):t}function Of(e){const t=Vs(e.mapValue.fields[Y$].timestampValue);return new nn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fhe{constructor(t,n,r,i,o,s,a,l,u,c){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const Qm="(default)";class Rf{constructor(t,n){this.projectId=t,this.database=n||Qm}static empty(){return new Rf("","")}get isDefaultDatabase(){return this.database===Qm}isEqual(t){return t instanceof Rf&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hhe="__type__",phe="__max__",Mp={mapValue:{}},ghe="__vector__",C1="value";function zs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?TI(e)?4:vhe(e)?9007199254740991:mhe(e)?10:11:qe(28295,{value:e})}function ro(e,t){if(e===t)return!0;const n=zs(e);if(n!==zs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Of(e).isEqual(Of(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Vs(i.timestampValue),a=Vs(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return Us(i.bytesValue).isEqual(Us(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return Qt(i.geoPointValue.latitude)===Qt(o.geoPointValue.latitude)&&Qt(i.geoPointValue.longitude)===Qt(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Qt(i.integerValue)===Qt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Qt(i.doubleValue),a=Qt(o.doubleValue);return s===a?I1(s)===I1(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return Du(e.arrayValue.values||[],t.arrayValue.values||[],ro);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(vD(s)!==vD(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!ro(s[l],a[l])))return!1;return!0}(e,t);default:return qe(52216,{left:e})}}function Df(e,t){return(e.values||[]).find(n=>ro(n,t))!==void 0}function ku(e,t){if(e===t)return 0;const n=zs(e),r=zs(t);if(n!==r)return rt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return rt(e.booleanValue,t.booleanValue);case 2:return function(o,s){const a=Qt(o.integerValue||o.doubleValue),l=Qt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return bD(e.timestampValue,t.timestampValue);case 4:return bD(Of(e),Of(t));case 5:return S1(e.stringValue,t.stringValue);case 6:return function(o,s){const a=Us(o),l=Us(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=rt(a[u],l[u]);if(c!==0)return c}return rt(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){const a=rt(Qt(o.latitude),Qt(s.latitude));return a!==0?a:rt(Qt(o.longitude),Qt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return xD(e.arrayValue,t.arrayValue);case 10:return function(o,s){var f,p,m,v;const a=o.fields||{},l=s.fields||{},u=(f=a[C1])==null?void 0:f.arrayValue,c=(p=l[C1])==null?void 0:p.arrayValue,d=rt(((m=u==null?void 0:u.values)==null?void 0:m.length)||0,((v=c==null?void 0:c.values)==null?void 0:v.length)||0);return d!==0?d:xD(u,c)}(e.mapValue,t.mapValue);case 11:return function(o,s){if(o===Mp.mapValue&&s===Mp.mapValue)return 0;if(o===Mp.mapValue)return 1;if(s===Mp.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const f=S1(l[d],c[d]);if(f!==0)return f;const p=ku(a[l[d]],u[c[d]]);if(p!==0)return p}return rt(l.length,c.length)}(e.mapValue,t.mapValue);default:throw qe(23264,{he:n})}}function bD(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return rt(e,t);const n=Vs(e),r=Vs(t),i=rt(n.seconds,r.seconds);return i!==0?i:rt(n.nanos,r.nanos)}function xD(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=ku(n[i],r[i]);if(o)return o}return rt(n.length,r.length)}function Nu(e){return P1(e)}function P1(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Vs(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Us(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return $e.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=P1(o);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${P1(n.fields[s])}`;return i+"}"}(e.mapValue):qe(61005,{value:e})}function pg(e){switch(zs(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Wy(e);return t?16+pg(t):16;case 5:return 2*e.stringValue.length;case 6:return Us(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+pg(o),0)}(e.arrayValue);case 10:case 11:return function(r){let i=0;return Mh(r.fields,(o,s)=>{i+=o.length+pg(s)}),i}(e.mapValue);default:throw qe(13486,{value:e})}}function T1(e){return!!e&&"integerValue"in e}function AI(e){return!!e&&"arrayValue"in e}function wD(e){return!!e&&"nullValue"in e}function _D(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function qb(e){return!!e&&"mapValue"in e}function mhe(e){var n,r;return((r=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[hhe])==null?void 0:r.stringValue)===ghe}function Cd(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Mh(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Cd(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Cd(e.arrayValue.values[n]);return t}return{...e}}function vhe(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===phe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(t){this.value=t}static empty(){return new Ki({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!qb(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Cd(n)}setAll(t){let n=or.emptyPath(),r={},i=[];t.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Cd(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(t){const n=this.field(t.popLast());qb(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ro(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];qb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Mh(n,(i,o)=>t[i]=o);for(const i of r)delete t[i]}clone(){return new Ki(Cd(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t,n,r,i,o,s,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new Zn(t,0,We.min(),We.min(),We.min(),Ki.empty(),0)}static newFoundDocument(t,n,r,i){return new Zn(t,1,n,We.min(),r,i,0)}static newNoDocument(t,n){return new Zn(t,2,n,We.min(),We.min(),Ki.empty(),0)}static newUnknownDocument(t,n){return new Zn(t,3,n,We.min(),We.min(),Ki.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(We.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ki.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ki.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=We.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Zn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(t,n){this.position=t,this.inclusive=n}}function SD(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(o.field.isKeyField()?r=$e.comparator($e.fromName(s.referenceValue),n.key):r=ku(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function ED(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ro(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(t,n="asc"){this.field=t,this.dir=n}}function yhe(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${}class mn extends Q${constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new xhe(t,n,r):n==="array-contains"?new She(t,r):n==="in"?new Ehe(t,r):n==="not-in"?new Ihe(t,r):n==="array-contains-any"?new Che(t,r):new mn(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new whe(t,r):new _he(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ku(n,this.value)):n!==null&&zs(this.value)===zs(n)&&this.matchesComparison(ku(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class io extends Q${constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new io(t,n)}matches(t){return X$(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function X$(e){return e.op==="and"}function J$(e){return bhe(e)&&X$(e)}function bhe(e){for(const t of e.filters)if(t instanceof io)return!1;return!0}function A1(e){if(e instanceof mn)return e.field.canonicalString()+e.op.toString()+Nu(e.value);if(J$(e))return e.filters.map(t=>A1(t)).join(",");{const t=e.filters.map(n=>A1(n)).join(",");return`${e.op}(${t})`}}function Z$(e,t){return e instanceof mn?function(r,i){return i instanceof mn&&r.op===i.op&&r.field.isEqual(i.field)&&ro(r.value,i.value)}(e,t):e instanceof io?function(r,i){return i instanceof io&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&Z$(s,i.filters[a]),!0):!1}(e,t):void qe(19439)}function eB(e){return e instanceof mn?function(n){return`${n.field.canonicalString()} ${n.op} ${Nu(n.value)}`}(e):e instanceof io?function(n){return n.op.toString()+" {"+n.getFilters().map(eB).join(" ,")+"}"}(e):"Filter"}class xhe extends mn{constructor(t,n,r){super(t,n,r),this.key=$e.fromName(r.referenceValue)}matches(t){const n=$e.comparator(t.key,this.key);return this.matchesComparison(n)}}class whe extends mn{constructor(t,n){super(t,"in",n),this.keys=tB("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class _he extends mn{constructor(t,n){super(t,"not-in",n),this.keys=tB("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function tB(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(r=>$e.fromName(r.referenceValue))}class She extends mn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return AI(n)&&Df(n.arrayValue,this.value)}}class Ehe extends mn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Df(this.value.arrayValue,n)}}class Ihe extends mn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Df(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Df(this.value.arrayValue,n)}}class Che extends mn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!AI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Df(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Phe{constructor(t,n=null,r=[],i=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}}function ID(e,t=null,n=[],r=[],i=null,o=null,s=null){return new Phe(e,t,n,r,i,o,s)}function OI(e){const t=at(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>A1(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),zy(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Nu(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Nu(r)).join(",")),t.Te=n}return t.Te}function RI(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!yhe(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Z$(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ED(e.startAt,t.startAt)&&ED(e.endAt,t.endAt)}function O1(e){return $e.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(t,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function The(e,t,n,r,i,o,s,a){return new Hy(e,t,n,r,i,o,s,a)}function nB(e){return new Hy(e)}function CD(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Ahe(e){return e.collectionGroup!==null}function Pd(e){const t=at(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),n.add(o.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new yn(or.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new Jm(o,r))}),n.has(or.keyField().canonicalString())||t.Ie.push(new Jm(or.keyField(),r))}return t.Ie}function to(e){const t=at(e);return t.Ee||(t.Ee=Ohe(t,Pd(e))),t.Ee}function Ohe(e,t){if(e.limitType==="F")return ID(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Jm(i.field,o)});const n=e.endAt?new Xm(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Xm(e.startAt.position,e.startAt.inclusive):null;return ID(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function R1(e,t,n){return new Hy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function qy(e,t){return RI(to(e),to(t))&&e.limitType===t.limitType}function rB(e){return`${OI(to(e))}|lt:${e.limitType}`}function Al(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>eB(i)).join(", ")}]`),zy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Nu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Nu(i)).join(",")),`Target(${r})`}(to(e))}; limitType=${e.limitType})`}function Gy(e,t){return t.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):$e.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(e,t)&&function(r,i){for(const o of Pd(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=SD(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Pd(r),i)||r.endAt&&!function(s,a,l){const u=SD(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Pd(r),i))}(e,t)}function Rhe(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function iB(e){return(t,n)=>{let r=!1;for(const i of Pd(e)){const o=Dhe(i,t,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Dhe(e,t,n){const r=e.field.isKeyField()?$e.comparator(t.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?ku(l,u):qe(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return qe(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Mh(this.inner,(n,r)=>{for(const[i,o]of r)t(i,o)})}isEmpty(){return che(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const khe=new Zt($e.comparator);function Ws(){return khe}const oB=new Zt($e.comparator);function ud(...e){let t=oB;for(const n of e)t=t.insert(n.key,n);return t}function Nhe(e){let t=oB;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Ca(){return Td()}function sB(){return Td()}function Td(){return new ml(e=>e.toString(),(e,t)=>e.isEqual(t))}const jhe=new yn($e.comparator);function lt(...e){let t=jhe;for(const n of e)t=t.add(n);return t}const Mhe=new yn(rt);function Lhe(){return Mhe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fhe(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:I1(t)?"-0":t}}function $he(e){return{integerValue:""+e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(){this._=void 0}}function Bhe(e,t,n){return e instanceof D1?function(i,o){const s={fields:{[G$]:{stringValue:q$},[Y$]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&TI(o)&&(o=Wy(o)),o&&(s.fields[K$]=o),{mapValue:s}}(n,t):e instanceof Zm?aB(e,t):e instanceof ev?lB(e,t):function(i,o){const s=Uhe(i,o),a=PD(s)+PD(i.Ae);return T1(s)&&T1(i.Ae)?$he(a):Fhe(i.serializer,a)}(e,t)}function Vhe(e,t,n){return e instanceof Zm?aB(e,t):e instanceof ev?lB(e,t):n}function Uhe(e,t){return e instanceof k1?function(r){return T1(r)||function(o){return!!o&&"doubleValue"in o}(r)}(t)?t:{integerValue:0}:null}class D1 extends Ky{}class Zm extends Ky{constructor(t){super(),this.elements=t}}function aB(e,t){const n=uB(t);for(const r of e.elements)n.some(i=>ro(i,r))||n.push(r);return{arrayValue:{values:n}}}class ev extends Ky{constructor(t){super(),this.elements=t}}function lB(e,t){let n=uB(t);for(const r of e.elements)n=n.filter(i=>!ro(i,r));return{arrayValue:{values:n}}}class k1 extends Ky{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function PD(e){return Qt(e.integerValue||e.doubleValue)}function uB(e){return AI(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function zhe(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof Zm&&i instanceof Zm||r instanceof ev&&i instanceof ev?Du(r.elements,i.elements,ro):r instanceof k1&&i instanceof k1?ro(r.Ae,i.Ae):r instanceof D1&&i instanceof D1}(e.transform,t.transform)}class Na{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Na}static exists(t){return new Na(void 0,t)}static updateTime(t){return new Na(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function gg(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class DI{}function cB(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Hhe(e.key,Na.none()):new kI(e.key,e.data,Na.none());{const n=e.data,r=Ki.empty();let i=new yn(or.comparator);for(let o of t.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Yy(e.key,r,new ls(i.toArray()),Na.none())}}function Whe(e,t,n){e instanceof kI?function(i,o,s){const a=i.value.clone(),l=AD(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Yy?function(i,o,s){if(!gg(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=AD(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(dB(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Ad(e,t,n,r){return e instanceof kI?function(o,s,a,l){if(!gg(o.precondition,s))return a;const u=o.value.clone(),c=OD(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof Yy?function(o,s,a,l){if(!gg(o.precondition,s))return a;const u=OD(o.fieldTransforms,l,s),c=s.data;return c.setAll(dB(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(e,t,n,r):function(o,s,a){return gg(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(e,t,n)}function TD(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Du(r,i,(o,s)=>zhe(o,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class kI extends DI{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Yy extends DI{constructor(t,n,r,i,o=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function dB(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function AD(e,t,n){const r=new Map;$t(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Vhe(s,a,n[i]))}return r}function OD(e,t,n){const r=new Map;for(const i of e){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Bhe(o,s,t))}return r}class Hhe extends DI{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qhe{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&Whe(o,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Ad(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Ad(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=sB();return this.mutations.forEach(i=>{const o=t.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=cB(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(We.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),lt())}isEqual(t){return this.batchId===t.batchId&&Du(this.mutations,t.mutations,(n,r)=>TD(n,r))&&Du(this.baseMutations,t.baseMutations,(n,r)=>TD(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ghe{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Khe{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,ot;function fB(e){if(e===void 0)return jo("GRPC error has no .code"),ye.UNKNOWN;switch(e){case tn.OK:return ye.OK;case tn.CANCELLED:return ye.CANCELLED;case tn.UNKNOWN:return ye.UNKNOWN;case tn.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case tn.INTERNAL:return ye.INTERNAL;case tn.UNAVAILABLE:return ye.UNAVAILABLE;case tn.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case tn.NOT_FOUND:return ye.NOT_FOUND;case tn.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case tn.ABORTED:return ye.ABORTED;case tn.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case tn.DATA_LOSS:return ye.DATA_LOSS;default:return qe(39323,{code:e})}}(ot=tn||(tn={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yhe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qhe=new Is([4294967295,4294967295],0);function RD(e){const t=Yhe().encode(e),n=new j$;return n.update(t),new Uint8Array(n.digest())}function DD(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Is([n,r],0),new Is([i,o],0)]}class NI{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new cd(`Invalid padding: ${n}`);if(r<0)throw new cd(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new cd(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new cd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Is.fromNumber(this.ge)}ye(t,n,r){let i=t.add(n.multiply(Is.fromNumber(r)));return i.compare(Qhe)===1&&(i=new Is([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=RD(t),[r,i]=DD(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new NI(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(t){if(this.ge===0)return;const n=RD(t),[r,i]=DD(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.Se(s)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class cd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Lh.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Qy(We.min(),i,new Zt(rt),Ws(),lt())}}class Lh{constructor(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Lh(r,n,lt(),lt(),lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(t,n,r,i){this.be=t,this.removedTargetIds=n,this.key=r,this.De=i}}class hB{constructor(t,n){this.targetId=t,this.Ce=n}}class pB{constructor(t,n,r=qn.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class kD{constructor(){this.ve=0,this.Fe=ND(),this.Me=qn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=lt(),n=lt(),r=lt();return this.Fe.forEach((i,o)=>{switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:qe(38017,{changeType:o})}}),new Lh(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=ND()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Xhe{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ws(),this.Je=Lp(),this.He=Lp(),this.Ye=new Zt(rt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:qe(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(t){const n=t.targetId,r=t.Ce.count,i=this.ot(n);if(i){const o=i.target;if(O1(o))if(r===0){const s=new $e(o.path);this.et(n,s,Zn.newNoDocument(s,We.min()))}else $t(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const a=this.ut(t),l=a?this.ct(a,t,s):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Us(r).toUint8Array()}catch(l){if(l instanceof H$)return Ru("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new NI(s,i,o)}catch(l){return Ru(l instanceof cd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(t){const n=new Map;this.ze.forEach((o,s)=>{const a=this.ot(s);if(a){if(o.current&&O1(a.target)){const l=new $e(a.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,Zn.newNoDocument(l,t))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=lt();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(t));const i=new Qy(t,n,this.Ye,this.je,r);return this.je=Ws(),this.Je=Lp(),this.He=Lp(),this.Ye=new Zt(rt),i}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new kD,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new yn(rt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new yn(rt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Ce("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new kD),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Lp(){return new Zt($e.comparator)}function ND(){return new Zt($e.comparator)}const Jhe={asc:"ASCENDING",desc:"DESCENDING"},Zhe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},epe={and:"AND",or:"OR"};class tpe{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function N1(e,t){return e.useProto3Json||zy(t)?t:{value:t}}function npe(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function rpe(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ru(e){return $t(!!e,49232),We.fromTimestamp(function(n){const r=Vs(n);return new nn(r.seconds,r.nanos)}(e))}function ipe(e,t){return j1(e,t).canonicalString()}function j1(e,t){const n=function(i){return new Lt(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function gB(e){const t=Lt.fromString(e);return $t(xB(t),10190,{key:t.toString()}),t}function Gb(e,t){const n=gB(t);if(n.get(1)!==e.databaseId.projectId)throw new Ne(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ne(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new $e(vB(n))}function mB(e,t){return ipe(e.databaseId,t)}function ope(e){const t=gB(e);return t.length===4?Lt.emptyPath():vB(t)}function jD(e){return new Lt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function vB(e){return $t(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function spe(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:qe(39313,{state:u})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?($t(c===void 0||typeof c=="string",58123),qn.fromBase64String(c||"")):($t(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),qn.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(u){const c=u.code===void 0?ye.UNKNOWN:fB(u.code);return new Ne(c,u.message||"")}(s);n=new pB(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gb(e,r.document.name),o=ru(r.document.updateTime),s=r.document.createTime?ru(r.document.createTime):We.min(),a=new Ki({mapValue:{fields:r.document.fields}}),l=Zn.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new mg(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Gb(e,r.document),o=r.readTime?ru(r.readTime):We.min(),s=Zn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new mg([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Gb(e,r.document),o=r.removedTargetIds||[];n=new mg([],o,i,null)}else{if(!("filter"in t))return qe(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new Khe(i,o),a=r.targetId;n=new hB(a,s)}}return n}function ape(e,t){return{documents:[mB(e,t.path)]}}function lpe(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mB(e,i);const o=function(u){if(u.length!==0)return bB(io.create(u,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:Ol(f.field),direction:dpe(f.dir)}}(c))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=N1(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{ft:n,parent:i}}function upe(e){let t=ope(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$t(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let o=[];n.where&&(o=function(d){const f=yB(d);return f instanceof io&&J$(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(f=>function(m){return new Jm(Rl(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,zy(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,p=d.values||[];return new Xm(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,p=d.values||[];return new Xm(p,f)}(n.endAt)),The(t,i,s,o,a,"F",l,u)}function cpe(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe(28987,{purpose:i})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function yB(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Rl(n.unaryFilter.field);return mn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Rl(n.unaryFilter.field);return mn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Rl(n.unaryFilter.field);return mn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Rl(n.unaryFilter.field);return mn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qe(61313);default:return qe(60726)}}(e):e.fieldFilter!==void 0?function(n){return mn.create(Rl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qe(58110);default:return qe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return io.create(n.compositeFilter.filters.map(r=>yB(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return qe(1026)}}(n.compositeFilter.op))}(e):qe(30097,{filter:e})}function dpe(e){return Jhe[e]}function fpe(e){return Zhe[e]}function hpe(e){return epe[e]}function Ol(e){return{fieldPath:e.canonicalString()}}function Rl(e){return or.fromServerFormat(e.fieldPath)}function bB(e){return e instanceof mn?function(n){if(n.op==="=="){if(_D(n.value))return{unaryFilter:{field:Ol(n.field),op:"IS_NAN"}};if(wD(n.value))return{unaryFilter:{field:Ol(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_D(n.value))return{unaryFilter:{field:Ol(n.field),op:"IS_NOT_NAN"}};if(wD(n.value))return{unaryFilter:{field:Ol(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ol(n.field),op:fpe(n.op),value:n.value}}}(e):e instanceof io?function(n){const r=n.getFilters().map(i=>bB(i));return r.length===1?r[0]:{compositeFilter:{op:hpe(n.op),filters:r}}}(e):qe(54877,{filter:e})}function xB(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(t,n,r,i,o=We.min(),s=We.min(),a=qn.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new us(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ppe{constructor(t){this.yt=t}}function gpe(e){const t=upe({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?R1(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mpe{constructor(){this.Cn=new vpe}addToCollectionParentIndex(t,n){return this.Cn.add(n),se.resolve()}getCollectionParents(t,n){return se.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return se.resolve()}deleteFieldIndex(t,n){return se.resolve()}deleteAllFieldIndexes(t){return se.resolve()}createTargetIndexes(t,n){return se.resolve()}getDocumentsMatchingTarget(t,n){return se.resolve(null)}getIndexType(t,n){return se.resolve(0)}getFieldIndexes(t,n){return se.resolve([])}getNextCollectionGroupToUpdate(t){return se.resolve(null)}getMinOffset(t,n){return se.resolve(Bs.min())}getMinOffsetFromCollectionGroup(t,n){return se.resolve(Bs.min())}updateCollectionGroup(t,n,r){return se.resolve()}updateIndexEntries(t,n){return se.resolve()}}class vpe{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new yn(Lt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new yn(Lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wB=41943040;class pr{static withCacheSize(t){return new pr(t,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pr.DEFAULT_COLLECTION_PERCENTILE=10,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pr.DEFAULT=new pr(wB,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pr.DISABLED=new pr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ju(0)}static cr(){return new ju(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD="LruGarbageCollector",ype=1048576;function FD([e,t],[n,r]){const i=rt(e,n);return i===0?rt(t,r):i}class bpe{constructor(t){this.Ir=t,this.buffer=new yn(FD),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();FD(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xpe{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Ce(LD,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){lc(n)?Ce(LD,"Ignoring IndexedDB error during garbage collection: ",n):await Vy(n)}await this.Vr(3e5)})}}class wpe{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return se.resolve(Uy.ce);const r=new bpe(n);return this.mr.forEachTarget(t,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(t,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(MD)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),MD):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,i,o,s,a,l,u;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,s=Date.now(),this.nthSequenceNumber(t,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(t,r,n))).next(d=>(o=d,l=Date.now(),this.removeOrphanedDocuments(t,r))).next(d=>(u=Date.now(),Tl()<=nt.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:d})))}}function _pe(e,t){return new wpe(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Spe{constructor(){this.changes=new ml(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Zn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?se.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Epe{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ipe{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Ad(r.mutation,i,ls.empty(),nn.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,lt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=lt()){const i=Ca();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(o=>{let s=ud();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const r=Ca();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,lt()))}populateOverlays(t,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(t,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(t,n,r,i){let o=Ws();const s=Td(),a=function(){return Td()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Yy)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Ad(c.mutation,u,c.mutation.getFieldMask(),nn.now())):s.set(u.key,ls.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>a.set(u,new Epe(c,s.get(u)??null))),a))}recalculateAndSaveOverlays(t,n){const r=Td();let i=new Zt((s,a)=>s-a),o=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||ls.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||lt()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=sB();c.forEach(f=>{if(!o.has(f)){const p=cB(n.get(f),r.get(f));p!==null&&d.set(f,p),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(t,u,d))}return se.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(s){return $e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Ahe(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-o.size):se.resolve(Ca());let a=Af,l=o;return s.next(u=>se.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?se.resolve():this.remoteDocumentCache.getEntry(t,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(t,u,o)).next(()=>this.computeViews(t,l,u,lt())).next(c=>({batchId:a,changes:Nhe(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new $e(n)).next(r=>{let i=ud();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const o=n.collectionGroup;let s=ud();return this.indexManager.getCollectionParents(t,o).next(a=>se.forEach(a,l=>{const u=function(d,f){return new Hy(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(c=>{c.forEach((d,f)=>{s=s.insert(d,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Zn.newInvalidDocument(c)))});let a=ud();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Ad(c.mutation,u,ls.empty(),nn.now()),Gy(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cpe{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return se.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ru(i.createTime)}}(n)),se.resolve()}getNamedQuery(t,n){return se.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(i){return{name:i.name,query:gpe(i.bundledQuery),readTime:ru(i.readTime)}}(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ppe{constructor(){this.overlays=new Zt($e.comparator),this.qr=new Map}getOverlay(t,n){return se.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Ca();return se.forEach(n,i=>this.getOverlay(t,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,o)=>{this.St(t,n,o)}),se.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),se.resolve()}getOverlaysForCollection(t,n,r){const i=Ca(),o=n.length+1,s=new $e(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return se.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let o=new Zt((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Ca(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ca(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return se.resolve(a)}St(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Ghe(n,r));let o=this.qr.get(n);o===void 0&&(o=lt(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tpe{constructor(){this.sessionToken=qn.EMPTY_BYTE_STRING}getSessionToken(t){return se.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.Qr=new yn(Tn.$r),this.Ur=new yn(Tn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new Tn(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Gr(new Tn(t,n))}zr(t,n){t.forEach(r=>this.removeReference(r,n))}jr(t){const n=new $e(new Lt([])),r=new Tn(n,t),i=new Tn(n,t+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new $e(new Lt([])),r=new Tn(n,t),i=new Tn(n,t+1);let o=lt();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(t){const n=new Tn(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Tn{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return $e.comparator(t.key,n.key)||rt(t.Yr,n.Yr)}static Kr(t,n){return rt(t.Yr,n.Yr)||$e.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ape{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new yn(Tn.$r)}checkEmpty(t){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new qhe(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Zr=this.Zr.add(new Tn(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return se.resolve(s)}lookupMutationBatch(t,n){return se.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return se.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?ahe:this.tr-1)}getAllMutationBatches(t){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Tn(n,0),i=new Tn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{const a=this.Xr(s.Yr);o.push(a)}),se.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new yn(rt);return n.forEach(i=>{const o=new Tn(i,0),s=new Tn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),se.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let o=r;$e.isDocumentKey(o)||(o=o.child(""));const s=new Tn(new $e(o),0);let a=new yn(rt);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Yr)),!0)},s),se.resolve(this.ti(a))}ti(t){const n=[];return t.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){$t(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return se.forEach(n.mutations,i=>{const o=new Tn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Zr=r})}ir(t){}containsKey(t,n){const r=new Tn(n,0),i=this.Zr.firstAfterOrEqual(r);return se.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,se.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ope{constructor(t){this.ri=t,this.docs=function(){return new Zt($e.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return se.resolve(r?r.document.mutableCopy():Zn.newInvalidDocument(n))}getEntries(t,n){let r=Ws();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Zn.newInvalidDocument(i))}),se.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let o=Ws();const s=n.path,a=new $e(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||rhe(nhe(c),r)<=0||(i.has(c.key)||Gy(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return se.resolve(o)}getAllFromCollectionGroup(t,n,r,i){qe(9500)}ii(t,n){return se.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new Rpe(this)}getSize(t){return se.resolve(this.size)}}class Rpe extends Spe{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(t,i)):this.Nr.removeEntry(r)}),se.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dpe{constructor(t){this.persistence=t,this.si=new ml(n=>OI(n),RI),this.lastRemoteSnapshotVersion=We.min(),this.highestTargetId=0,this.oi=0,this._i=new jI,this.targetCount=0,this.ai=ju.ur()}forEachTarget(t,n){return this.si.forEach((r,i)=>n(i)),se.resolve()}getLastRemoteSnapshotVersion(t){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return se.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),se.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new ju(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,se.resolve()}updateTargetData(t,n){return this.Pr(n),se.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(t,n,r){let i=0;const o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),se.waitFor(o).next(()=>i)}getTargetCount(t){return se.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return se.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),se.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(t,s))}),se.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),se.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return se.resolve(r)}containsKey(t,n){return se.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(t,n){this.ui={},this.overlays={},this.ci=new Uy(0),this.li=!1,this.li=!0,this.hi=new Tpe,this.referenceDelegate=t(this),this.Pi=new Dpe(this),this.indexManager=new mpe,this.remoteDocumentCache=function(i){return new Ope(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new ppe(n),this.Ii=new Cpe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Ppe,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new Ape(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){Ce("MemoryPersistence","Starting transaction:",t);const i=new kpe(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(t,n){return se.or(Object.values(this.ui).map(r=>()=>r.containsKey(t,n)))}}class kpe extends ohe{constructor(t){super(),this.currentSequenceNumber=t}}class MI{constructor(t){this.persistence=t,this.Ri=new jI,this.Vi=null}static mi(t){return new MI(t)}get fi(){if(this.Vi)return this.Vi;throw qe(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),se.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),se.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),se.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,r=>{const i=$e.fromPath(r);return this.gi(t,i).next(o=>{o||n.removeEntry(i,We.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class tv{constructor(t,n){this.persistence=t,this.pi=new ml(r=>lhe(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=_pe(this,n)}static mi(t,n){return new tv(t,n)}Ei(){}di(t){return se.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(i=>r+i))}wr(t){let n=0;return this.pr(t,r=>{n++}).next(()=>n)}pr(t,n){return se.forEach(this.pi,(r,i)=>this.br(t,r,i).next(o=>o?se.resolve():n(i)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(t,s=>this.br(t,s,n).next(a=>{a||(r++,o.removeEntry(s,We.min()))})).next(()=>o.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),se.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),se.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),se.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),se.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=pg(t.data.value)),n}br(t,n,r){return se.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const i=this.pi.get(n);return se.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=i}static As(t,n){let r=lt(),i=lt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new LI(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Npe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jpe{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return dle()?8:she(sF())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,i){const o={result:null};return this.ys(t,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(t,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Npe;return this.Ss(t,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(t,n,s,a.size)})}).next(()=>o.result)}bs(t,n,r,i){return r.documentReadCount<this.fs?(Tl()<=nt.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",Al(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(Tl()<=nt.DEBUG&&Ce("QueryEngine","Query:",Al(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Tl()<=nt.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",Al(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,to(n))):se.resolve())}ys(t,n){if(CD(n))return se.resolve(null);let r=to(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=R1(n,null,"F"),r=to(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(o=>{const s=lt(...o);return this.ps.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,s,l.readTime)?this.ys(t,R1(n,null,"F")):this.vs(t,u,n,l)}))})))}ws(t,n,r,i){return CD(n)||i.isEqual(We.min())?se.resolve(null):this.ps.getDocuments(t,r).next(o=>{const s=this.Ds(n,o);return this.Cs(n,s,r,i)?se.resolve(null):(Tl()<=nt.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Al(n)),this.vs(t,s,n,the(i,Af)).next(a=>a))})}Ds(t,n){let r=new yn(iB(t));return n.forEach((i,o)=>{Gy(t,o)&&(r=r.add(o))}),r}Cs(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(t,n,r){return Tl()<=nt.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",Al(n)),this.ps.getDocumentsMatchingQuery(t,n,Bs.min(),r)}vs(t,n,r,i){return this.ps.getDocumentsMatchingQuery(t,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="LocalStore",Mpe=3e8;class Lpe{constructor(t,n,r,i){this.persistence=t,this.Fs=n,this.serializer=i,this.Ms=new Zt(rt),this.xs=new ml(o=>OI(o),RI),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Ipe(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function Fpe(e,t,n,r){return new Lpe(e,t,n,r)}async function SB(e,t){const n=at(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(t),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=lt();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:s,addedBatchIds:a}))})})}function EB(e){const t=at(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function $pe(e,t){const n=at(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];t.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.Pi.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Pi.addMatchingKeys(o,c.addedDocuments,d)));let p=f.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(d)!==null?p=p.withResumeToken(qn.EMPTY_BYTE_STRING,We.min()).withLastLimboFreeSnapshotVersion(We.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(v,y,w){return v.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=Mpe?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,p,c)&&a.push(n.Pi.updateTargetData(o,p))});let l=Ws(),u=lt();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(Bpe(o,s,t.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!r.isEqual(We.min())){const c=n.Pi.getLastRemoteSnapshotVersion(o).next(d=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return se.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ms=i,o))}function Bpe(e,t,n){let r=lt(),i=lt();return n.forEach(o=>r=r.add(o)),t.getEntries(e,r).next(o=>{let s=Ws();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(We.min())?(t.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),s=s.insert(a,l)):Ce(FI,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:s,qs:i}})}function Vpe(e,t){const n=at(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,t).next(o=>o?(i=o,se.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new us(t,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r})}async function M1(e,t,n){const r=at(e),i=r.Ms.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!lc(s))throw s;Ce(FI,`Failed to update sequence numbers for target ${t}: ${s}`)}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function $D(e,t,n){const r=at(e);let i=We.min(),o=lt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=at(l),f=d.xs.get(c);return f!==void 0?se.resolve(d.Ms.get(f)):d.Pi.getTargetData(u,c)}(r,s,to(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,t,n?i:We.min(),n?o:lt())).next(a=>(Upe(r,Rhe(t),a),{documents:a,Qs:o})))}function Upe(e,t,n){let r=e.Os.get(t)||We.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),e.Os.set(t,r)}class BD{constructor(){this.activeTargetIds=Lhe()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class zpe{constructor(){this.Mo=new BD,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new BD,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wpe{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="ConnectivityMonitor";class UD{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ce(VD,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Ce(VD,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fp=null;function L1(){return Fp===null?Fp=function(){return 268435456+Math.round(2147483648*Math.random())}():Fp++,"0x"+Fp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="RestConnection",Hpe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qpe{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Qm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(t,n,r,i,o){const s=L1(),a=this.zo(t,n.toUriEncodedString());Ce(Kb,`Sending RPC '${t}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);const{host:u}=new URL(a),c=Th(u);return this.Jo(t,a,l,r,c).then(d=>(Ce(Kb,`Received RPC '${t}' ${s}: `,d),d),d=>{throw Ru(Kb,`RPC '${t}' ${s} failed with error: `,d,"url: ",a,"request:",r),d})}Ho(t,n,r,i,o,s){return this.Go(t,n,r,i,o)}jo(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ac}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>t[o]=i),r&&r.headers.forEach((i,o)=>t[o]=i)}zo(t,n){const r=Hpe[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gpe{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn="WebChannelConnection";class Kpe extends qpe{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,i,o){const s=L1();return new Promise((a,l)=>{const u=new M$;u.setWithCredentials(!0),u.listenOnce(L$.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case hg.NO_ERROR:const d=u.getResponseJson();Ce(Qn,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(d)),a(d);break;case hg.TIMEOUT:Ce(Qn,`RPC '${t}' ${s} timed out`),l(new Ne(ye.DEADLINE_EXCEEDED,"Request time out"));break;case hg.HTTP_ERROR:const f=u.getStatus();if(Ce(Qn,`RPC '${t}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const v=function(w){const _=w.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(_)>=0?_:ye.UNKNOWN}(m.status);l(new Ne(v,m.message))}else l(new Ne(ye.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Ne(ye.UNAVAILABLE,"Connection failed."));break;default:qe(9055,{l_:t,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Ce(Qn,`RPC '${t}' ${s} completed.`)}});const c=JSON.stringify(i);Ce(Qn,`RPC '${t}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(t,n,r){const i=L1(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=B$(),a=$$(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");Ce(Qn,`Creating RPC '${t}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);this.I_(d);let f=!1,p=!1;const m=new Gpe({Yo:y=>{p?Ce(Qn,`Not sending because RPC '${t}' stream ${i} is closed:`,y):(f||(Ce(Qn,`Opening RPC '${t}' stream ${i} transport.`),d.open(),f=!0),Ce(Qn,`RPC '${t}' stream ${i} sending:`,y),d.send(y))},Zo:()=>d.close()}),v=(y,w,_)=>{y.listen(w,S=>{try{_(S)}catch(P){setTimeout(()=>{throw P},0)}})};return v(d,ld.EventType.OPEN,()=>{p||(Ce(Qn,`RPC '${t}' stream ${i} transport opened.`),m.o_())}),v(d,ld.EventType.CLOSE,()=>{p||(p=!0,Ce(Qn,`RPC '${t}' stream ${i} transport closed`),m.a_(),this.E_(d))}),v(d,ld.EventType.ERROR,y=>{p||(p=!0,Ru(Qn,`RPC '${t}' stream ${i} transport errored. Name:`,y.name,"Message:",y.message),m.a_(new Ne(ye.UNAVAILABLE,"The operation could not be completed")))}),v(d,ld.EventType.MESSAGE,y=>{var w;if(!p){const _=y.data[0];$t(!!_,16349);const S=_,P=(S==null?void 0:S.error)||((w=S[0])==null?void 0:w.error);if(P){Ce(Qn,`RPC '${t}' stream ${i} received error:`,P);const R=P.status;let M=function(T){const k=tn[T];if(k!==void 0)return fB(k)}(R),C=P.message;M===void 0&&(M=ye.INTERNAL,C="Unknown error status: "+R+" with message "+P.message),p=!0,m.a_(new Ne(M,C)),d.close()}else Ce(Qn,`RPC '${t}' stream ${i} received:`,_),m.u_(_)}}),v(a,F$.STAT_EVENT,y=>{y.stat===_1.PROXY?Ce(Qn,`RPC '${t}' stream ${i} detected buffering proxy`):y.stat===_1.NOPROXY&&Ce(Qn,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.__()},0),m}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function Yb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IB(e){return new tpe(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(t,n,r=1e3,i=1.5,o=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD="PersistentStream";class Ype{constructor(t,n,r,i,o,s,a,l){this.Mi=t,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new CB(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===ye.RESOURCE_EXHAUSTED?(jo(n.toString()),jo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{t(()=>{const i=new Ne(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return Ce(zD,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(Ce(zD,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Qpe extends Ype{constructor(t,n,r,i,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=spe(this.serializer,t),r=function(o){if(!("targetChange"in o))return We.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?We.min():s.readTime?ru(s.readTime):We.min()}(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=jD(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=O1(l)?{documents:ape(o,l)}:{query:lpe(o,l).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=rpe(o,s.resumeToken);const u=N1(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(We.min())>0){a.readTime=npe(o,s.snapshotVersion.toTimestamp());const u=N1(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const r=cpe(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=jD(this.serializer),n.removeTarget=t,this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xpe{}class Jpe extends Xpe{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ne(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(t,j1(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ne(ye.UNKNOWN,o.toString())})}Ho(t,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(t,j1(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ne(ye.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Zpe{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(jo(n),this.aa=!1):Ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu="RemoteStore";class ege{constructor(t,n,r,i,o){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{$h(this)&&(Ce(Mu,"Restarting streams for network reachability change."),await async function(l){const u=at(l);u.Ea.add(4),await Fh(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Xy(u)}(this))})}),this.Ra=new Zpe(r,i)}}async function Xy(e){if($h(e))for(const t of e.da)await t(!0)}async function Fh(e){for(const t of e.da)await t(!1)}function PB(e,t){const n=at(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),UI(n)?VI(n):uc(n).O_()&&BI(n,t))}function $I(e,t){const n=at(e),r=uc(n);n.Ia.delete(t),r.O_()&&TB(n,t),n.Ia.size===0&&(r.O_()?r.L_():$h(n)&&n.Ra.set("Unknown"))}function BI(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(We.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}uc(e).Y_(t)}function TB(e,t){e.Va.Ue(t),uc(e).Z_(t)}function VI(e){e.Va=new Xhe({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),uc(e).start(),e.Ra.ua()}function UI(e){return $h(e)&&!uc(e).x_()&&e.Ia.size>0}function $h(e){return at(e).Ea.size===0}function AB(e){e.Va=void 0}async function tge(e){e.Ra.set("Online")}async function nge(e){e.Ia.forEach((t,n)=>{BI(e,t)})}async function rge(e,t){AB(e),UI(e)?(e.Ra.ha(t),VI(e)):e.Ra.set("Unknown")}async function ige(e,t,n){if(e.Ra.set("Online"),t instanceof pB&&t.state===2&&t.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))}(e,t)}catch(r){Ce(Mu,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await WD(e,r)}else if(t instanceof mg?e.Va.Ze(t):t instanceof hB?e.Va.st(t):e.Va.tt(t),!n.isEqual(We.min()))try{const r=await EB(e.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Va.Tt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.Ia.get(u);c&&o.Ia.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.Ia.get(l);if(!c)return;o.Ia.set(l,c.withResumeToken(qn.EMPTY_BYTE_STRING,c.snapshotVersion)),TB(o,l);const d=new us(c.target,l,u,c.sequenceNumber);BI(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){Ce(Mu,"Failed to raise snapshot:",r),await WD(e,r)}}async function WD(e,t,n){if(!lc(t))throw t;e.Ea.add(1),await Fh(e),e.Ra.set("Offline"),n||(n=()=>EB(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ce(Mu,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Xy(e)})}async function HD(e,t){const n=at(e);n.asyncQueue.verifyOperationInProgress(),Ce(Mu,"RemoteStore received new credentials");const r=$h(n);n.Ea.add(3),await Fh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Xy(n)}async function oge(e,t){const n=at(e);t?(n.Ea.delete(2),await Xy(n)):t||(n.Ea.add(2),await Fh(n),n.Ra.set("Unknown"))}function uc(e){return e.ma||(e.ma=function(n,r,i){const o=at(n);return o.sa(),new Qpe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{Xo:tge.bind(null,e),t_:nge.bind(null,e),r_:rge.bind(null,e),H_:ige.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),UI(e)?VI(e):e.Ra.set("Unknown")):(await e.ma.stop(),AB(e))})),e.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ka,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,o){const s=Date.now()+r,a=new zI(t,n,s,i,o);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(ye.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function OB(e,t){if(jo("AsyncQueue",`${t}: ${e}`),lc(e))return new Ne(ye.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{static emptySet(t){return new iu(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||$e.comparator(n.key,r.key):(n,r)=>$e.comparator(n.key,r.key),this.keyedMap=ud(),this.sortedSet=new Zt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof iu)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new iu;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this.ga=new Zt($e.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):qe(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,r)=>{t.push(r)}),t}}class Lu{constructor(t,n,r,i,o,s,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Lu(t,n,iu.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&qy(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sge{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class age{constructor(){this.queries=GD(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=at(n),o=i.queries;i.queries=GD(),o.forEach((s,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Ne(ye.ABORTED,"Firestore shutting down"))}}function GD(){return new ml(e=>rB(e),qy)}async function lge(e,t){const n=at(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.ba()&&t.Da()&&(r=2):(o=new sge,r=t.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=OB(s,`Initialization of query '${Al(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,o),o.Sa.push(t),t.va(n.onlineState),o.wa&&t.Fa(o.wa)&&WI(n)}async function uge(e,t){const n=at(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(t);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=t.Da()?0:1:!o.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function cge(e,t){const n=at(e);let r=!1;for(const i of t){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&WI(n)}function dge(e,t,n){const r=at(e),i=r.queries.get(t);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(t)}function WI(e){e.Ca.forEach(t=>{t.next()})}var F1,KD;(KD=F1||(F1={})).Ma="default",KD.Cache="cache";class fge{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Lu(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Lu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==F1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(t){this.key=t}}class DB{constructor(t){this.key=t}}class hge{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=lt(),this.mutatedKeys=lt(),this.eu=iB(t),this.tu=new iu(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new qD,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const f=i.get(c),p=Gy(this.query,d)?d:null,m=!!f&&this.mutatedKeys.has(f.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;f&&p?f.data.isEqual(p.data)?m!==v&&(r.track({type:3,doc:p}),y=!0):this.su(f,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),y=!0):f&&!p&&(r.track({type:1,doc:f}),y=!0,(l||u)&&(a=!0)),y&&(p?(s=s.add(p),o=v?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const s=t.iu.ya();s.sort((c,d)=>function(p,m){const v=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe(20277,{Rt:y})}};return v(p)-v(m)}(c.type,d.type)||this.eu(c.doc,d.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,s.length!==0||u?{snapshot:new Lu(this.query,t.tu,o,s,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qD,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=lt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return t.forEach(r=>{this.Xa.has(r)||n.push(new DB(r))}),this.Xa.forEach(r=>{t.has(r)||n.push(new RB(r))}),n}cu(t){this.Ya=t.Qs,this.Xa=lt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Lu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const HI="SyncEngine";class pge{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class gge{constructor(t){this.key=t,this.hu=!1}}class mge{constructor(t,n,r,i,o,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new ml(a=>rB(a),qy),this.Iu=new Map,this.Eu=new Set,this.du=new Zt($e.comparator),this.Au=new Map,this.Ru=new jI,this.Vu={},this.mu=new Map,this.fu=ju.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vge(e,t,n=!0){const r=LB(e);let i;const o=r.Tu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await kB(r,t,n,!0),i}async function yge(e,t){const n=LB(e);await kB(n,t,!0,!1)}async function kB(e,t,n,r){const i=await Vpe(e.localStore,to(t)),o=i.targetId,s=e.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await bge(e,t,o,s==="current",i.resumeToken)),e.isPrimaryClient&&n&&PB(e.remoteStore,i),a}async function bge(e,t,n,r,i){e.pu=(d,f,p)=>async function(v,y,w,_){let S=y.view.ru(w);S.Cs&&(S=await $D(v.localStore,y.query,!1).then(({documents:C})=>y.view.ru(C,S)));const P=_&&_.targetChanges.get(y.targetId),R=_&&_.targetMismatches.get(y.targetId)!=null,M=y.view.applyChanges(S,v.isPrimaryClient,P,R);return QD(v,y.targetId,M.au),M.snapshot}(e,d,f,p);const o=await $D(e.localStore,t,!0),s=new hge(t,o.Qs),a=s.ru(o.documents),l=Lh.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=s.applyChanges(a,e.isPrimaryClient,l);QD(e,n,u.au);const c=new pge(t,n,s);return e.Tu.set(t,c),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),u.snapshot}async function xge(e,t,n){const r=at(e),i=r.Tu.get(t),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!qy(s,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await M1(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&$I(r.remoteStore,i.targetId),$1(r,i.targetId)}).catch(Vy)):($1(r,i.targetId),await M1(r.localStore,i.targetId,!0))}async function wge(e,t){const n=at(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),$I(n.remoteStore,r.targetId))}async function NB(e,t){const n=at(e);try{const r=await $pe(n.localStore,t);t.targetChanges.forEach((i,o)=>{const s=n.Au.get(o);s&&($t(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?$t(s.hu,14607):i.removedDocuments.size>0&&($t(s.hu,42227),s.hu=!1))}),await MB(n,r,t)}catch(r){await Vy(r)}}function YD(e,t,n){const r=at(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,s)=>{const a=s.view.va(t);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=at(s);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const f of d.Sa)f.va(a)&&(u=!0)}),u&&WI(l)}(r.eventManager,t),i.length&&r.Pu.H_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function _ge(e,t,n){const r=at(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),o=i&&i.key;if(o){let s=new Zt($e.comparator);s=s.insert(o,Zn.newNoDocument(o,We.min()));const a=lt().add(o),l=new Qy(We.min(),new Map,new Zt(rt),s,a);await NB(r,l),r.du=r.du.remove(o),r.Au.delete(t),qI(r)}else await M1(r.localStore,t,!1).then(()=>$1(r,t,n)).catch(Vy)}function $1(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(r=>{e.Ru.containsKey(r)||jB(e,r)})}function jB(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&($I(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),qI(e))}function QD(e,t,n){for(const r of n)r instanceof RB?(e.Ru.addReference(r.key,t),Sge(e,r)):r instanceof DB?(Ce(HI,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||jB(e,r.key)):qe(19791,{wu:r})}function Sge(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(Ce(HI,"New document in limbo: "+n),e.Eu.add(r),qI(e))}function qI(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new $e(Lt.fromString(t)),r=e.fu.next();e.Au.set(r,new gge(n)),e.du=e.du.insert(n,r),PB(e.remoteStore,new us(to(nB(n.path)),r,"TargetPurposeLimboResolution",Uy.ce))}}async function MB(e,t,n){const r=at(e),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{s.push(r.pu(l,t,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=LI.As(l.targetId,u);o.push(d)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(l,u){const c=at(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>se.forEach(u,f=>se.forEach(f.Es,p=>c.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>se.forEach(f.ds,p=>c.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!lc(d))throw d;Ce(FI,"Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const p=c.Ms.get(f),m=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(m);c.Ms=c.Ms.insert(f,v)}}}(r.localStore,o))}async function Ege(e,t){const n=at(e);if(!n.currentUser.isEqual(t)){Ce(HI,"User change. New user:",t.toKey());const r=await SB(n.localStore,t);n.currentUser=t,function(o,s){o.mu.forEach(a=>{a.forEach(l=>{l.reject(new Ne(ye.CANCELLED,s))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await MB(n,r.Ls)}}function Ige(e,t){const n=at(e),r=n.Au.get(t);if(r&&r.hu)return lt().add(r.key);{let i=lt();const o=n.Iu.get(t);if(!o)return i;for(const s of o){const a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function LB(e){const t=at(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=NB.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ige.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_ge.bind(null,t),t.Pu.H_=cge.bind(null,t.eventManager),t.Pu.yu=dge.bind(null,t.eventManager),t}class nv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=IB(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return Fpe(this.persistence,new jpe,t.initialUser,this.serializer)}Cu(t){return new _B(MI.mi,this.serializer)}Du(t){return new zpe}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nv.provider={build:()=>new nv};class Cge extends nv{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){$t(this.persistence.referenceDelegate instanceof tv,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new xpe(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?pr.withCacheSize(this.cacheSizeBytes):pr.DEFAULT;return new _B(r=>tv.mi(r,n),this.serializer)}}class B1{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>YD(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ege.bind(null,this.syncEngine),await oge(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new age}()}createDatastore(t){const n=IB(t.databaseInfo.databaseId),r=function(o){return new Kpe(o)}(t.databaseInfo);return function(o,s,a,l){return new Jpe(o,s,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,o,s,a){return new ege(r,i,o,s,a)}(this.localStore,this.datastore,t.asyncQueue,n=>YD(this.syncEngine,n,0),function(){return UD.v()?new UD:new Wpe}())}createSyncEngine(t,n){return function(i,o,s,a,l,u,c){const d=new mge(i,o,s,a,l,u);return c&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(i){const o=at(i);Ce(Mu,"RemoteStore shutting down."),o.Ea.add(5),await Fh(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}B1.provider={build:()=>new B1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pge{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):jo("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="FirestoreClient";class Tge{constructor(t,n,r,i,o){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Xn.UNAUTHENTICATED,this.clientId=z$.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{Ce(Hs,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Ce(Hs,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ka;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=OB(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Qb(e,t){e.asyncQueue.verifyOperationInProgress(),Ce(Hs,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await SB(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function XD(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Age(e);Ce(Hs,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>HD(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>HD(t.remoteStore,i)),e._onlineComponents=t}async function Age(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ce(Hs,"Using user provided OfflineComponentProvider");try{await Qb(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===ye.FAILED_PRECONDITION||i.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ru("Error using user provided cache. Falling back to memory cache: "+n),await Qb(e,new nv)}}else Ce(Hs,"Using default OfflineComponentProvider"),await Qb(e,new Cge(void 0));return e._offlineComponents}async function Oge(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ce(Hs,"Using user provided OnlineComponentProvider"),await XD(e,e._uninitializedComponentsProvider._online)):(Ce(Hs,"Using default OnlineComponentProvider"),await XD(e,new B1))),e._onlineComponents}async function Rge(e){const t=await Oge(e),n=t.eventManager;return n.onListen=vge.bind(null,t.syncEngine),n.onUnlisten=xge.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=yge.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=wge.bind(null,t.syncEngine),n}function Dge(e,t,n={}){const r=new ka;return e.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new Pge({next:f=>{c.Nu(),s.enqueueAndForget(()=>uge(o,d)),f.fromCache&&l.source==="server"?u.reject(new Ne(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new fge(a,c,{includeMetadataChanges:!0,qa:!0});return lge(o,d)}(await Rge(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FB(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B="firestore.googleapis.com",ZD=!0;class ek{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Ne(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$B,this.ssl=ZD}else this.host=t.host,this.ssl=t.ssl??ZD;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=wB;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<ype)throw new Ne(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Jfe("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FB(t.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ne(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ne(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ne(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class GI{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ek({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ne(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ek(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Ufe;switch(r.type){case"firstParty":return new qfe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ne(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=JD.get(n);r&&(Ce("ComponentProvider","Removing Datastore"),JD.delete(n),r.terminate())}(this),Promise.resolve()}}function kge(e,t,n,r={}){var u;e=E1(e,GI);const i=Th(t),o=e._getSettings(),s={...o,emulatorOptions:e._getEmulatorOptions()},a=`${t}:${n}`;i&&(rF(`https://${a}`),oF("Firestore",!0)),o.host!==$B&&o.host!==a&&Ru("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:a,ssl:i,emulatorOptions:r};if(!mf(l,s)&&(e._setSettings(l),r.mockUserToken)){let c,d;if(typeof r.mockUserToken=="string")c=r.mockUserToken,d=Xn.MOCK_USER;else{c=iF(r.mockUserToken,(u=e._app)==null?void 0:u.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Ne(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Xn(f)}e._authCredentials=new zfe(new U$(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Jy(this.firestore,t,this._query)}}class oi{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ou(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new oi(this.firestore,t,this._key)}toJSON(){return{type:oi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(jh(n,oi._jsonSchema))return new oi(t,r||null,new $e(Lt.fromString(n.referencePath)))}}oi._jsonSchemaVersion="firestore/documentReference/1.0",oi._jsonSchema={type:sn("string",oi._jsonSchemaVersion),referencePath:sn("string")};class ou extends Jy{constructor(t,n,r){super(t,n,nB(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new oi(this.firestore,null,new $e(t))}withConverter(t){return new ou(this.firestore,t,this._path)}}function Nge(e,t,...n){if(e=na(e),e instanceof GI){const r=Lt.fromString(t,...n);return hD(r),new ou(e,null,r)}{if(!(e instanceof oi||e instanceof ou))throw new Ne(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Lt.fromString(t,...n));return hD(r),new ou(e.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk="AsyncQueue";class nk{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new CB(this,"async_queue_retry"),this._c=()=>{const r=Yb();r&&Ce(tk,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=Yb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Yb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ka;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!lc(t))throw t;Ce(tk,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(r=>{throw this.nc=r,this.rc=!1,jo("INTERNAL UNHANDLED ERROR: ",rk(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const i=zI.createAndSchedule(this,t,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&qe(47125,{Pc:rk(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function rk(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class BB extends GI{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new nk,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new nk(t),this._firestoreClient=void 0,await t}}}function jge(e,t){const n=typeof e=="object"?e:mF(),r=typeof e=="string"?e:Qm,i=fF(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=tF("firestore");o&&kge(i,...o)}return i}function Mge(e){if(e._terminated)throw new Ne(ye.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Lge(e),e._firestoreClient}function Lge(e){var r,i,o;const t=e._freezeSettings(),n=function(a,l,u,c){return new fhe(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,FB(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(e._databaseId,((r=e._app)==null?void 0:r.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(i=t.localCache)!=null&&i._offlineComponentProvider&&((o=t.localCache)!=null&&o._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new Tge(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Yi(qn.fromBase64String(t))}catch(n){throw new Ne(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Yi(qn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Yi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(jh(t,Yi._jsonSchema))return Yi.fromBase64String(t.bytes)}}Yi._jsonSchemaVersion="firestore/bytes/1.0",Yi._jsonSchema={type:sn("string",Yi._jsonSchemaVersion),bytes:sn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Ne(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new or(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Ne(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ne(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return rt(this._lat,t._lat)||rt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Cs._jsonSchemaVersion}}static fromJSON(t){if(jh(t,Cs._jsonSchema))return new Cs(t.latitude,t.longitude)}}Cs._jsonSchemaVersion="firestore/geoPoint/1.0",Cs._jsonSchema={type:sn("string",Cs._jsonSchemaVersion),latitude:sn("number"),longitude:sn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Ps._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(jh(t,Ps._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new Ps(t.vectorValues);throw new Ne(ye.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ps._jsonSchemaVersion="firestore/vectorValue/1.0",Ps._jsonSchema={type:sn("string",Ps._jsonSchemaVersion),vectorValues:sn("object")};const Fge=new RegExp("[~\\*/\\[\\]]");function $ge(e,t,n){if(t.search(Fge)>=0)throw ik(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e);try{return new VB(...t.split("."))._internalPath}catch{throw ik(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e)}}function ik(e,t,n,r,i){let o=`Function ${t}() called with invalid data`;o+=". ";let s="";return new Ne(ye.INVALID_ARGUMENT,o+e+s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new oi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Bge(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(zB("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Bge extends UB{data(){return super.data()}}function zB(e,t){return typeof t=="string"?$ge(e,t):t instanceof VB?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vge(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Ne(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Uge{convertValue(t,n="none"){switch(zs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Qt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Us(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw qe(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Mh(t,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(t){var r,i,o;const n=(o=(i=(r=t.fields)==null?void 0:r[C1].arrayValue)==null?void 0:i.values)==null?void 0:o.map(s=>Qt(s.doubleValue));return new Ps(n)}convertGeoPoint(t){return new Cs(Qt(t.latitude),Qt(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Wy(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Of(t));default:return null}}convertTimestamp(t){const n=Vs(t);return new nn(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Lt.fromString(t);$t(xB(r),9688,{name:t});const i=new Rf(r.get(1),r.get(3)),o=new $e(r.popFirst(5));return i.isEqual(n)||jo(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class $p{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class su extends UB{constructor(t,n,r,i,o,s){super(t,n,r,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new vg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(zB("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(ye.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=su._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}su._jsonSchemaVersion="firestore/documentSnapshot/1.0",su._jsonSchema={type:sn("string",su._jsonSchemaVersion),bundleSource:sn("string","DocumentSnapshot"),bundleName:sn("string"),bundle:sn("string")};class vg extends su{data(t={}){return super.data(t)}}class au{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new $p(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new vg(this._firestore,this._userDataWriter,r.key,r,new $p(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ne(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new vg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $p(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new vg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $p(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:zge(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(ye.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=au._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=z$.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function zge(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe(61501,{type:e})}}au._jsonSchemaVersion="firestore/querySnapshot/1.0",au._jsonSchema={type:sn("string",au._jsonSchemaVersion),bundleSource:sn("string","QuerySnapshot"),bundleName:sn("string"),bundle:sn("string")};class Wge extends Uge{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new oi(this.firestore,null,n)}}function Hge(e){e=E1(e,Jy);const t=E1(e.firestore,BB),n=Mge(t),r=new Wge(t);return Vge(e._query),Dge(n,e._query).then(i=>new au(t,r,e,i))}(function(t,n=!0){(function(i){ac=i})(pF),yf(new Iu("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new BB(new Wfe(r.getProvider("auth-internal")),new Gfe(s,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ne(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rf(u.options.projectId,c)}(s,i),s);return o={useFetchStreams:n,...o},a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),_s(uD,cD,t),_s(uD,cD,"esm2020")})();var qge="firebase",Gge="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_s(qge,Gge,"app");const Kge={apiKey:"AIzaSyCMkZr4Xz204NjvETje-Rhznf6ECDYiEnE",authDomain:"ethiostore-17d9f.firebaseapp.com",databaseURL:"https://ethiostore-17d9f-default-rtdb.firebaseio.com",projectId:"ethiostore-17d9f",storageBucket:"ethiostore-17d9f.appspot.com",messagingSenderId:"964518277159",appId:"1:964518277159:web:9404cace890edf88961e02"},WB=SR().length>0?SR()[0]:gF(Kge),mr=N$(WB);jge(WB);function Yge(){const[e,t]=b.useState([]),[n,r]=b.useState("All"),[i,o]=b.useState("All"),[s,a]=b.useState([]),[l,u]=b.useState(null),[c,d]=b.useState(!1),[f,p]=b.useState([]),[m,v]=b.useState(""),[y,w]=b.useState(null),[_,S]=b.useState([]),[P,R]=b.useState("details"),[M,C]=b.useState([]),[I,T]=b.useState({}),[k,A]=b.useState(!0),[j,O]=b.useState({}),ee=gi(),re=JSON.parse(localStorage.getItem("admin"))||{},[pe,Oe]=b.useState("daily"),[F,Q]=b.useState("All"),[le,be]=b.useState([]),[we,X]=b.useState({}),[ie,Ie]=b.useState([]),[te,D]=b.useState(!1),[V,L]=b.useState(null),[J,Z]=b.useState(!1),[$,B]=b.useState([]),[W,ae]=b.useState(!1),ne=re.userId,ce=re.userId,he=N$(app),xe=async()=>{try{const ue=((await z.get(`http://127.0.0.1:5000/api/get_post_notifications/${ne}`)).data||[]).map(K=>({...K,notificationId:K.notificationId||K.id}));B(ue)}catch(H){console.error("Post notification fetch failed",H)}};b.useEffect(()=>{if(!ne)return;xe();const H=setInterval(xe,5e3);return()=>clearInterval(H)},[ne]);const ze=async H=>{await z.post("http://127.0.0.1:5000/api/mark_post_notification_read",{notificationId:H.notificationId}),B(ue=>ue.filter(K=>K.notificationId!==H.notificationId)),ae(!1),ee("/dashboard",{state:{postId:H.postId}})};b.useEffect(()=>{const H=ue=>{!ue.target.closest(".icon-circle")&&!ue.target.closest(".notification-dropdown")&&ae(!1)};return document.addEventListener("click",H),()=>document.removeEventListener("click",H)},[]),b.useEffect(()=>{(async()=>{const K=(await Hge(Nge(he,"students"))).docs.map(oe=>({id:oe.id,...oe.data()}));t(K)})()},[]),b.useEffect(()=>{(async()=>{const K=await(await fetch("/api/unreadSenders")).json();Ie(K)})()},[]);const He=async H=>{A(!0);try{const K=(await z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Users/${H.userId}.json`)).data||{},de=(await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/ClassMarks.json")).data||{},Se={},Ae={};Object.entries(de).forEach(([Re,Ee])=>{const Ke=Ee==null?void 0:Ee[H.studentId];Ke&&(Se[Re]={mark20:Number(Ke.mark20||0),mark30:Number(Ke.mark30||0),mark50:Number(Ke.mark50||0),teacherName:Ke.teacherName||"Teacher"},Ae[Re]=Ke.teacherName||"Teacher")});const De=(await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Attendance.json")).data||{},_e=[];Object.entries(De).forEach(([Re,Ee])=>{Object.entries(Ee||{}).forEach(([Ke,Be])=>{const it=Be==null?void 0:Be[H.studentId];it&&_e.push({courseId:Re,date:Ke,status:it,teacherName:Ae[Re]||"Teacher"})})}),u({...H,...K,marks:Se,attendance:_e})}catch(ue){console.error("Error fetching student data:",ue)}A(!1)},Xe=b.useMemo(()=>{var ue;if(!((ue=l==null?void 0:l.attendance)!=null&&ue.length))return{};const H={};return l.attendance.forEach(K=>{const oe=new Date(K.date);if(isNaN(oe))return;let de="";pe==="daily"&&(de=K.date),pe==="weekly"&&(de=lw(mu(oe,{weekStartsOn:1}),"yyyy-MM-dd")),pe==="monthly"&&(de=lw(oe,"yyyy-MM")),H[de]||(H[de]=[]),H[de].push(K)}),H},[l,pe]);b.useEffect(()=>{(async()=>{try{const[ue,K]=await Promise.all([z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Teachers.json"),z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Users.json")]),oe=ue.data||{},de=K.data||{},Se=Object.keys(oe).map(De=>{const _e=oe[De],Re=de[_e.userId]||{};return{teacherId:De,userId:_e.userId,name:Re.name||"No Name",profileImage:Re.profileImage||"/default-profile.png"}});be(Se);const Ae={},je=[];for(const De of Se){const _e=`${De.userId}_${ce}`,Re=await z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${_e}/messages.json`),Ee=Object.values(Re.data||{}).map(Be=>({...Be,sender:Be.senderId===ce?"admin":"teacher"}));je.push(...Ee);const Ke=Ee.filter(Be=>Be.receiverId===ce&&!Be.seen).length;Ke>0&&(Ae[De.userId]=Ke)}p(je),X(Ae)}catch(ue){console.error(ue)}})()},[ce]),b.useEffect(()=>{(async()=>{try{const ue=await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Students.json"),K=await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Users.json"),oe=ue.data||{},de=K.data||{},Se=Object.keys(oe).map(Ae=>{const je=oe[Ae],De=de[je.userId]||{};return{studentId:Ae,userId:je.userId,name:De.name||De.username||"No Name",profileImage:De.profileImage||"/default-profile.png",grade:je.grade,section:je.section,email:De.email||""}});t(Se)}catch(ue){console.error("Error fetching students:",ue)}})()},[]),b.useEffect(()=>{if(n==="All")a([]);else{const H=[...new Set(e.filter(ue=>ue.grade===n).map(ue=>ue.section))];a(H),o("All")}},[n,e]);const yt=e.filter(H=>!(n!=="All"&&H.grade!==n||i!=="All"&&H.section!==i));b.useEffect(()=>{const H=async()=>{const ue={};for(const K of e){const oe=`${K.studentId}_${re.userId}`,Se=(await z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${oe}/messages.json`)).data||{};ue[K.studentId]=Object.values(Se).some(Ae=>Ae.senderId===K.studentId&&Ae.seenByAdmin===!1)}O(ue)};e.length>0&&H()},[e]),b.useEffect(()=>{if(!c||!l)return;(async()=>{const ue=`${l.userId}_${ce}`;try{const K=await z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${ue}/messages.json`),oe=Object.values(K.data||{}).map(de=>({...de,sender:de.senderId===ce?"admin":"student"})).sort((de,Se)=>de.timeStamp-Se.timeStamp);p(oe)}catch(K){console.error(K),p([])}})()},[c,l,ce]);const dt=async()=>{if(!m.trim()||!l)return;const H={senderId:ce,receiverId:l.userId,text:m,timeStamp:Date.now()};try{const ue=`${l.userId}_${ce}`;await z.post(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${ue}/messages.json`,H),p(K=>[...K,{...H,sender:"admin"}]),v("")}catch(ue){console.error(ue)}},nr=async()=>{if(!re.userId)return;const H={};try{const K=(await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Users.json")).data||{},oe=De=>Object.values(K).find(_e=>_e.userId===De),de=async De=>{const _e=`${re.userId}_${De}`,Re=`${De}_${re.userId}`,[Ee,Ke]=await Promise.all([z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${_e}/messages.json`),z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${Re}/messages.json`)]);return[...Object.values(Ee.data||{}),...Object.values(Ke.data||{})].filter(it=>it.receiverId===re.userId&&!it.seen).length},Se=await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Teachers.json");for(const De in Se.data||{}){const _e=Se.data[De],Re=await de(_e.userId);if(Re>0){const Ee=oe(_e.userId);H[_e.userId]={type:"teacher",name:(Ee==null?void 0:Ee.name)||"Teacher",profileImage:(Ee==null?void 0:Ee.profileImage)||"/default-profile.png",count:Re}}}const Ae=await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Students.json");for(const De in Ae.data||{}){const _e=Ae.data[De],Re=await de(_e.userId);if(Re>0){const Ee=oe(_e.userId);H[_e.userId]={type:"student",name:(Ee==null?void 0:Ee.name)||_e.name||"Student",profileImage:(Ee==null?void 0:Ee.profileImage)||_e.profileImage||"/default-profile.png",count:Re}}}const je=await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Parents.json");for(const De in je.data||{}){const _e=je.data[De],Re=await de(_e.userId);if(Re>0){const Ee=oe(_e.userId);H[_e.userId]={type:"parent",name:(Ee==null?void 0:Ee.name)||_e.name||"Parent",profileImage:(Ee==null?void 0:Ee.profileImage)||_e.profileImage||"/default-profile.png",count:Re}}}Ie(H)}catch(ue){console.error("Unread fetch failed:",ue)}};b.useEffect(()=>{const H=ue=>{!ue.target.closest(".icon-circle")&&!ue.target.closest(".messenger-dropdown")&&D(!1)};return document.addEventListener("click",H),()=>document.removeEventListener("click",H)},[]),b.useEffect(()=>{if(!re.userId)return;nr();const H=setInterval(nr,5e3);return()=>clearInterval(H)},[re.userId]),b.useEffect(()=>{if(!c||!l)return;(async()=>{const ue=`${ce}_${l.userId}`;try{const K=await z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${ue}/messages.json`),oe=Object.entries(K.data||{}),de={};oe.forEach(([Se,Ae])=>{Ae.receiverId===ce&&!Ae.seen&&(de[Se+"/seen"]=!0)}),Object.keys(de).length>0&&(await z.patch(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${ue}/messages.json`,de),setUnreadStudents(Se=>({...Se,[l.userId]:0})))}catch(K){console.error(K)}})()},[c,l,ce]),b.useMemo(()=>{if(!(l!=null&&l.attendance))return null;const H=l.attendance.length,ue=l.attendance.filter(Se=>Se.status==="present").length,K=H-ue,oe=H?Math.round(ue/H*100):0;let de=0;return[...l.attendance].sort((Se,Ae)=>Ae.date.localeCompare(Se.date)).some(Se=>Se.status==="absent"?(de++,!1):!0),{total:H,present:ue,absent:K,percent:oe,streak:de}},[l]);const Pr=async H=>{const ue=`${re.userId}_${H}`,K=`${H}_${re.userId}`,[oe,de]=await Promise.all([z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${ue}/messages.json`),z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${K}/messages.json`)]),Se={},Ae=(je,De)=>{Object.entries(je||{}).forEach(([_e,Re])=>{Re.receiverId===re.userId&&!Re.seen&&(Se[`${De}/${_e}/seen`]=!0)})};Ae(oe.data,`Chats/${ue}/messages`),Ae(de.data,`Chats/${K}/messages`),Object.keys(Se).length>0&&await z.patch("https://ethiostore-17d9f-default-rtdb.firebaseio.com/.json",Se)};return g.jsxs("div",{className:"dashboard-page",children:[g.jsxs("nav",{className:"top-navbar",children:[g.jsx("h2",{children:"Gojo Dashboard"}),g.jsxs("div",{className:"nav-search",children:[g.jsx(ul,{className:"search-icon"}),g.jsx("input",{type:"text",placeholder:"Search Teacher and Student..."})]}),g.jsxs("div",{className:"nav-right",children:[g.jsxs("div",{className:"icon-circle",style:{position:"relative",cursor:"pointer"},onClick:H=>{H.stopPropagation(),ae(ue=>!ue)},children:[g.jsx(il,{}),$.length>0&&g.jsx("span",{style:{position:"absolute",top:"-5px",right:"-5px",background:"red",color:"#fff",borderRadius:"50%",padding:"2px 6px",fontSize:"10px",fontWeight:"bold"},children:$.length}),W&&g.jsx("div",{className:"notification-dropdown",style:{position:"absolute",top:"40px",right:"0",width:"350px",maxHeight:"400px",overflowY:"auto",background:"#fff",borderRadius:"10px",boxShadow:"0 4px 15px rgba(0,0,0,0.25)",zIndex:1e3},onClick:H=>H.stopPropagation(),children:$.length===0?g.jsx("p",{style:{padding:"12px",textAlign:"center"},children:"No new notifications"}):$.map(H=>g.jsxs("div",{style:{display:"flex",gap:"10px",padding:"10px",cursor:"pointer",borderBottom:"1px solid #eee"},onClick:()=>ze(H),children:[g.jsx("img",{src:H.adminProfile||"/default-profile.png",alt:H.adminName,style:{width:"40px",height:"40px",borderRadius:"50%"}}),g.jsxs("div",{children:[g.jsx("strong",{children:H.adminName}),g.jsx("p",{style:{margin:0},children:H.message})]})]},H.notificationId))})]}),g.jsxs("div",{className:"icon-circle",style:{position:"relative",cursor:"pointer"},onClick:H=>{H.stopPropagation(),D(ue=>!ue)},children:[g.jsx(rl,{}),Object.keys(ie).length>0&&g.jsx("span",{style:{position:"absolute",top:"-5px",right:"-5px",background:"red",color:"#fff",borderRadius:"50%",padding:"2px 6px",fontSize:"10px",fontWeight:"bold"},children:Object.values(ie).reduce((H,ue)=>H+ue.count,0)}),te&&g.jsx("div",{style:{position:"absolute",top:"40px",right:"0",width:"300px",background:"#fff",borderRadius:"10px",boxShadow:"0 4px 15px rgba(0,0,0,0.25)",zIndex:1e3},children:Object.keys(ie).length===0?g.jsx("p",{style:{padding:"12px",textAlign:"center",color:"#777"},children:"No new messages"}):Object.entries(ie).map(([H,ue])=>g.jsxs("div",{style:{padding:"12px",display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",borderBottom:"1px solid #eee"},onClick:async()=>{D(!1),await Pr(H),Ie(K=>{const oe={...K};return delete oe[H],oe}),ee("/all-chat",{state:{user:{userId:H,name:ue.name,profileImage:ue.profileImage,type:ue.type}}})},children:[g.jsx("img",{src:ue.profileImage,alt:ue.name,style:{width:"42px",height:"42px",borderRadius:"50%"}}),g.jsxs("div",{children:[g.jsx("strong",{children:ue.name}),g.jsxs("p",{style:{fontSize:"12px",margin:0},children:[ue.count," new message",ue.count>1&&"s"]})]})]},H))})]}),g.jsx(Le,{className:"icon-circle",to:"/settings",children:g.jsx(sl,{})}),g.jsx("img",{src:re.profileImage||"/default-profile.png",alt:"admin",className:"profile-img"})]})]}),g.jsxs("div",{className:"google-dashboard",style:{display:"flex"},children:[g.jsxs("div",{className:"google-sidebar",children:[g.jsxs("div",{className:"sidebar-profile",children:[g.jsx("div",{className:"sidebar-img-circle",children:g.jsx("img",{src:re.profileImage||"/default-profile.png",alt:"profile"})}),g.jsx("h3",{children:re.name}),g.jsx("p",{children:re.username})]}),g.jsxs("div",{className:"sidebar-menu",children:[g.jsxs(Le,{className:"sidebar-btn",to:"/dashboard",children:[" ",g.jsx(ll,{style:{width:"28px",height:"28px"}})," Home"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/my-posts",children:[g.jsx(al,{})," My Posts"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/teachers",children:[g.jsx(Jt,{})," Teachers"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/students",style:{backgroundColor:"#4b6cb7",color:"#fff"},children:[" ",g.jsx(Jt,{})," Students"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/schedule",children:[g.jsx(ol,{})," Schedule"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/parents",children:[g.jsx(Jt,{})," Parents"]}),g.jsxs("button",{className:"sidebar-btn logout-btn",onClick:()=>{localStorage.removeItem("admin"),window.location.href="/login"},children:[g.jsx(cl,{})," Logout"]})]})]}),g.jsxs("div",{className:"main-content",style:{padding:"30px",width:"65%",marginLeft:"200px"},children:[g.jsx("h2",{style:{marginBottom:"20px",textAlign:"center"},children:"Students"}),g.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"25px",gap:"12px"},children:["All","9","10","11","12"].map(H=>g.jsx("button",{onClick:()=>r(H),style:{padding:"10px 20px",borderRadius:"8px",background:n===H?"#4b6cb7":"#ddd",color:n===H?"#fff":"#000",cursor:"pointer",border:"none"},children:H==="All"?"All Grades":`Grade ${H}`},H))}),n!=="All"&&s.length>0&&g.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"25px",gap:"12px"},children:["All",...s].map(H=>g.jsx("button",{onClick:()=>o(H),style:{padding:"8px 16px",borderRadius:"8px",background:i===H?"#4b6cb7":"#ddd",color:i===H?"#fff":"#000",cursor:"pointer",border:"none"},children:H==="All"?"All Sections":`Section ${H}`},H))}),yt.length===0?g.jsx("p",{style:{textAlign:"center",color:"#555"},children:"No students found for this selection."}):g.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"20px"},children:yt.map(H=>g.jsxs("div",{onClick:()=>He(H),style:{width:"700px",height:"100px",borderRadius:"12px",padding:"15px",background:(l==null?void 0:l.studentId)===H.studentId?"#e0e7ff":"#fff",border:(l==null?void 0:l.studentId)===H.studentId?"2px solid #4b6cb7":"1px solid #ddd",display:"flex",alignItems:"center",gap:"20px",cursor:"pointer"},children:[g.jsx("img",{src:H.profileImage,alt:H.name,style:{width:"50px",height:"50px",borderRadius:"50%",objectFit:"cover"}}),g.jsxs("div",{children:[g.jsx("h3",{style:{margin:0},children:H.name}),g.jsxs("p",{style:{margin:"4px 0",color:"#555"},children:["Grade ",H.grade," - Section ",H.section]})]})]},H.userId))})]}),l&&g.jsxs("div",{style:{width:"30%",height:"100vh",display:"flex",flexDirection:"column",position:"fixed",right:0,top:0,background:"#fff",boxShadow:"0 0 15px rgba(0,0,0,0.05)",zIndex:10},children:[g.jsxs("div",{style:{overflowY:"auto",padding:"25px",flex:1},children:[g.jsxs("div",{style:{textAlign:"center",marginBottom:"20px"},children:[g.jsxs("div",{style:{background:"#becff7ff",padding:"25px 10px",height:"200px",margin:"50px 1px 20px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)"},children:[g.jsx("div",{style:{width:"100px",height:"100px",margin:"-20px auto 15px",borderRadius:"50%",overflow:"hidden",border:"4px solid #4b6cb7",boxShadow:"0 4px 15px rgba(0,0,0,0.1)"},children:g.jsx("img",{src:l.profileImage,alt:l.name,style:{width:"100%",height:"100%",objectFit:"cover"}})}),g.jsx("h2",{style:{margin:0,fontSize:"22px",marginTop:"-10px",color:"#333"},children:l.name}),g.jsx("h2",{style:{margin:0,fontSize:"16px",color:"#585656ff"},children:l.email||"default.student@example.com"})]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Grade:"})," ",l.grade]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Section:"})," ",l.section]})]}),g.jsxs("div",{style:{marginBottom:"20px"},children:[g.jsx("div",{style:{display:"flex",marginBottom:"10px",borderBottom:"1px solid #eee"},children:["details","attendance","performance"].map(H=>g.jsx("button",{onClick:()=>R(H),style:{flex:1,padding:"10px",border:"none",background:"none",cursor:"pointer",fontWeight:"600",color:P===H?"#4b6cb7":"#777",borderBottom:P===H?"3px solid #4b6cb7":"3px solid transparent"},children:H.toUpperCase()},H))}),k?g.jsx("p",{style:{textAlign:"center",color:"#888"},children:"Loading..."}):g.jsxs(g.Fragment,{children:[P==="details"&&l&&g.jsxs("div",{style:{padding:"26px",maxHeight:"70vh",overflowY:"auto",background:"#f9fafb",borderRadius:"20px"},children:[g.jsx("div",{style:{position:"sticky",top:0,background:"#f9fafb",paddingBottom:"16px",zIndex:10,borderBottom:"1px solid #e5e7eb"},children:g.jsx("h2",{style:{fontSize:"22px",fontWeight:"900",color:"#2563eb",letterSpacing:"0.5px"},children:" Student Information"})}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginTop:"20px"},children:[g.jsxs("div",{style:{background:"#fff",borderRadius:"16px",padding:"16px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[g.jsx("div",{style:{fontSize:"14px",color:"#64748b"},children:" Email"}),g.jsx("div",{style:{fontSize:"16px",fontWeight:"700",color:"#111"},children:l.email||"N/A"})]}),g.jsxs("div",{style:{background:"#fff",borderRadius:"16px",padding:"16px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[g.jsx("div",{style:{fontSize:"14px",color:"#64748b"},children:" Age"}),g.jsx("div",{style:{fontSize:"16px",fontWeight:"700",color:"#111"},children:l.age||"N/A"})]}),g.jsxs("div",{style:{background:"#fff",borderRadius:"16px",padding:"16px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[g.jsx("div",{style:{fontSize:"14px",color:"#64748b"},children:" Parent Name"}),g.jsx("div",{style:{fontSize:"16px",fontWeight:"700",color:"#111"},children:l.parentName||"N/A"})]}),g.jsxs("div",{style:{background:"#fff",borderRadius:"16px",padding:"16px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[g.jsx("div",{style:{fontSize:"14px",color:"#64748b"},children:" Parent Phone"}),g.jsx("div",{style:{fontSize:"16px",fontWeight:"700",color:"#111"},children:l.parentPhone||"N/A"})]}),g.jsxs("div",{style:{background:"#fff",borderRadius:"16px",padding:"16px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[g.jsx("div",{style:{fontSize:"14px",color:"#64748b"},children:" Grade"}),g.jsx("div",{style:{fontSize:"16px",fontWeight:"700",color:"#111"},children:l.grade||"N/A"})]}),g.jsxs("div",{style:{background:"#fff",borderRadius:"16px",padding:"16px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[g.jsx("div",{style:{fontSize:"14px",color:"#64748b"},children:" Section"}),g.jsx("div",{style:{fontSize:"16px",fontWeight:"700",color:"#111"},children:l.section||"N/A"})]}),g.jsxs("div",{style:{background:"#f0f9ff",borderRadius:"16px",padding:"16px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[g.jsx("div",{style:{fontSize:"14px",color:"#2563eb"},children:" Student ID"}),g.jsx("div",{style:{fontSize:"16px",fontWeight:"700",color:"#111"},children:l.studentId||"N/A"})]}),g.jsxs("div",{style:{background:"#fff7ed",borderRadius:"16px",padding:"16px",boxShadow:"0 4px 15px rgba(0,0,0,0.05)"},children:[g.jsx("div",{style:{fontSize:"14px",color:"#ea580c"},children:" Notes"}),g.jsx("div",{style:{fontSize:"16px",fontWeight:"700",color:"#111"},children:l.notes||"No notes available"})]})]})]}),P==="attendance"&&l&&g.jsxs("div",{style:{padding:"20px",maxHeight:"70vh",overflowY:"auto",background:"#f7f8fa",fontFamily:"'Inter', sans-serif"},children:[g.jsxs("div",{style:{position:"sticky",top:0,zIndex:30,background:"#ffffff",padding:"12px 0 20px",boxShadow:"0 1px 6px rgba(0,0,0,0.06)",borderBottomLeftRadius:"12px",borderBottomRightRadius:"12px"},children:[g.jsx("div",{style:{display:"flex",gap:"10px",justifyContent:"center",marginBottom:"12px"},children:["daily","weekly","monthly"].map(H=>g.jsx("button",{onClick:()=>Oe(H),style:{padding:"8px 20px",borderRadius:"10px",border:"1px solid #d1d5db",fontWeight:600,cursor:"pointer",fontSize:"13px",background:pe===H?"#2563eb":"#f3f4f6",color:pe===H?"#ffffff":"#374151",transition:"all 0.3s"},children:H.toUpperCase()},H))}),g.jsx("div",{style:{display:"flex",justifyContent:"center"},children:g.jsxs("select",{value:F,onChange:H=>Q(H.target.value),style:{padding:"8px 14px",borderRadius:"10px",border:"1px solid #d1d5db",fontWeight:500,background:"#ffffff",fontSize:"13px",transition:"all 0.3s",cursor:"pointer"},children:[g.jsx("option",{value:"All",children:"All Subjects"}),[...new Set(l.attendance.map(H=>H.courseId))].map(H=>g.jsx("option",{value:H,children:H.replace("course_","").replace(/_/g," ")},H))]})})]}),(()=>{const H=l.attendance,ue=H.length,K=H.filter(Se=>Se.status==="present").length,oe=ue?Math.round(K/ue*100):0,de=oe>=90?{label:"Excellent",color:"#16a34a"}:oe>=75?{label:"Good",color:"#2563eb"}:{label:"At Risk",color:"#dc2626"};return g.jsxs("div",{style:{background:"#ffffff",borderRadius:"16px",padding:"16px 20px",margin:"16px 0",display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0 2px 12px rgba(0,0,0,0.05)",borderLeft:`4px solid ${de.color}`},children:[g.jsxs("div",{children:[g.jsx("div",{style:{fontSize:"12px",color:"#6b7280",letterSpacing:"0.5px"},children:"Attendance Health"}),g.jsx("div",{style:{fontSize:"22px",fontWeight:700,color:de.color,marginTop:"2px"},children:de.label})]}),g.jsxs("div",{style:{width:"60px",height:"60px",borderRadius:"50%",border:"5px solid #e5e7eb",display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},children:[g.jsx("div",{style:{position:"absolute",top:0,left:0,width:"60px",height:"60px",borderRadius:"50%",clip:"rect(0, 60px, 60px, 30px)",background:"transparent"},children:g.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",border:`5px solid ${de.color}`,clip:"rect(0, 30px, 60px, 0)",transform:`rotate(${oe/100*360}deg)`,transformOrigin:"center",transition:"transform 0.5s ease-in-out"}})}),g.jsxs("div",{style:{fontSize:"16px",fontWeight:600,color:"#374151"},children:[oe,"%"]})]})]})})(),Object.entries(Xe).map(([H,ue])=>{const K=F==="All"?ue:ue.filter(oe=>oe.courseId===F||oe.courseId.replace("course_","").replace(/_/g," ").toLowerCase()===F.toLowerCase());return K.length?g.jsxs("div",{style:{background:"#ffffff",borderRadius:"14px",padding:"16px 18px",marginBottom:"16px",boxShadow:"0 2px 12px rgba(0,0,0,0.04)",borderLeft:"4px solid #2563eb"},children:[g.jsxs("h3",{style:{color:"#1e40af",marginBottom:"12px",fontSize:"14px"},children:[" ",H]}),K.map((oe,de)=>g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",padding:"10px 0",borderBottom:de!==K.length-1?"1px solid #f3f4f6":"none",alignItems:"center",gap:"10px"},children:[g.jsxs("div",{children:[g.jsx("div",{style:{fontWeight:700,fontSize:"15px",color:"#111827"},children:oe.courseId.replace("course_","").replace(/_/g," ")}),g.jsxs("div",{style:{fontSize:"12px",color:"#6b7280"},children:[" ",oe.teacherName]})]}),g.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"5px 12px",borderRadius:"999px",fontWeight:600,fontSize:"13px",background:oe.status==="present"?"#d1fae5":"#fee2e2",color:oe.status==="present"?"#166534":"#991b1b",boxShadow:"inset 0 1px 3px rgba(0,0,0,0.05)",transition:"all 0.2s"},children:[oe.status==="present"?"":""," ",oe.status.toUpperCase()]})]},de))]},H):null})]}),P==="performance"&&g.jsx("div",{children:l.marks&&Object.keys(l.marks).length===0?g.jsx("p",{style:{textAlign:"center",color:"#555"},children:" No Performance Records"}):g.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:Object.entries(l.marks).map(([H,ue],K)=>{const oe=(Number(ue.mark20)||0)+(Number(ue.mark30)||0)+(Number(ue.mark50)||0),de=Math.min(oe,100),Se=de>=75?"#16a34a":de>=50?"#f59e0b":"#dc2626";return g.jsxs("div",{style:{padding:"18px",borderRadius:"20px",background:"#fff",boxShadow:"0 12px 30px rgba(0,0,0,0.08)"},children:[g.jsx("div",{style:{fontSize:"16px",fontWeight:"800",marginBottom:"14px",color:"#2563eb"},children:H.replace("course_","").replace(/_/g," ")}),g.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"16px"},children:g.jsx("div",{style:{width:"90px",height:"90px",borderRadius:"50%",background:`conic-gradient(${Se} ${de*3.6}deg, #e5e7eb 0deg)`,display:"flex",alignItems:"center",justifyContent:"center"},children:g.jsxs("div",{style:{width:"66px",height:"66px",borderRadius:"50%",background:"#fff",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[g.jsx("div",{style:{fontSize:"18px",fontWeight:"800",color:Se},children:oe}),g.jsx("div",{style:{fontSize:"11px",color:"#64748b"},children:"/100"})]})})}),[{key:"mark20",label:"Quiz",max:20,color:"#2563eb"},{key:"mark30",label:"Test",max:30,color:"#16a34a"},{key:"mark50",label:"Final",max:50,color:"#ea580c"}].map(({key:Ae,label:je,max:De,color:_e})=>g.jsxs("div",{style:{marginBottom:"10px"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"13px",fontWeight:"600",color:"#334155"},children:[g.jsx("span",{children:je}),g.jsxs("span",{children:[ue[Ae]||0," / ",De]})]}),g.jsx("div",{style:{height:"6px",borderRadius:"999px",background:"#e5e7eb",marginTop:"5px",overflow:"hidden"},children:g.jsx("div",{style:{width:`${(ue[Ae]||0)/De*100}%`,height:"100%",background:_e}})})]},Ae)),g.jsx("div",{style:{marginTop:"12px",textAlign:"center",fontSize:"13px",fontWeight:"700",color:Se},children:de>=75?"Excellent":de>=50?"Good":"Needs Improvement"}),g.jsxs("div",{style:{marginTop:"6px",textAlign:"center",fontSize:"12px",color:"#64748b"},children:[" ",ue.teacherName]})]},K)})})})]})]})]}),g.jsx("div",{onClick:()=>d(!0),style:{position:"fixed",bottom:"20px",right:"20px",width:"48px",height:"48px",background:"linear-gradient(135deg, #833ab4, #fd1d1d, #fcb045)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",cursor:"pointer",zIndex:9999,boxShadow:"0 8px 18px rgba(0,0,0,0.25)",transition:"transform 0.2s ease, box-shadow 0.2s ease"},onMouseEnter:H=>{H.currentTarget.style.transform="scale(1.08)",H.currentTarget.style.boxShadow="0 12px 26px rgba(0,0,0,0.35)"},onMouseLeave:H=>{H.currentTarget.style.transform="scale(1)",H.currentTarget.style.boxShadow="0 8px 18px rgba(0,0,0,0.25)"},children:g.jsx(Y_,{size:22})})]}),c&&l&&g.jsxs("div",{style:{position:"fixed",bottom:"6px",right:"22px",width:"320px",background:"#fff",borderRadius:"12px",boxShadow:"0 8px 25px rgba(0,0,0,0.15)",padding:"15px",zIndex:999,animation:"fadeIn 0.3s ease"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #ddd",paddingBottom:"10px"},children:[g.jsx("strong",{children:l.name}),g.jsxs("div",{style:{display:"flex",gap:"10px"},children:[g.jsx("button",{onClick:()=>{d(!1),ee("/all-chat",{state:{user:{userId:l.userId,name:l.name,profileImage:l.profileImage||"/default-profile.png"},userType:"student"}})},children:g.jsx("img",{width:"30",height:"30",src:"https://img.icons8.com/ios-glyphs/30/expand--v1.png",alt:"expand"})}),g.jsx("button",{onClick:()=>d(!1),style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer"},children:""})]})]}),g.jsx("div",{style:{height:"260px",overflowY:"auto",padding:"10px"},children:f.length===0?g.jsx("p",{style:{color:"#aaa",textAlign:"center"},children:"No messages yet"}):f.map(H=>g.jsx("div",{style:{marginBottom:"10px",textAlign:H.senderId===re.userId?"right":"left"},children:g.jsxs("span",{style:{background:H.senderId===re.userId?"#4b6cb7":"#eee",color:H.senderId===re.userId?"#fff":"#000",padding:"6px 12px",borderRadius:"12px",display:"inline-block",maxWidth:"80%"},children:[H.text,H.edited&&g.jsx("span",{style:{fontSize:"10px",opacity:.7},children:" (edited)"})]})},H.id))}),g.jsxs("div",{style:{display:"flex",marginTop:"8px",gap:"5px"},children:[g.jsx("input",{type:"text",value:m,onChange:H=>v(H.target.value),onKeyDown:H=>H.key==="Enter"&&handleSendMessage(),placeholder:"Type a message...",style:{flex:1,padding:"8px 12px",borderRadius:"8px",border:"1px solid #ddd"}}),g.jsx("button",{onClick:()=>dt(newMessageText),style:{background:"none",border:"none",color:"#3654dada",cursor:"pointer",fontSize:"30px"},children:""})]})]})]})]})}const ok=(e,t)=>[e,t].sort().join("_");function Qge(){const[e,t]=b.useState([]),[n,r]=b.useState(null),[i,o]=b.useState("details"),[s,a]=b.useState(!1),[l,u]=b.useState(null),[c,d]=b.useState([]),[f,p]=b.useState({}),[m,v]=b.useState(!1),[y,w]=b.useState([]),[_,S]=b.useState(!1),[P,R]=b.useState([]),[M,C]=b.useState(!1),[I,T]=b.useState(null),[k,A]=b.useState(!1),[j,O]=b.useState([]),[ee,re]=b.useState(""),pe=b.useRef(null),[Oe,F]=b.useState(!1),Q=gi(),le=(I==null?void 0:I.userId)||null;b.useEffect(()=>{const D=JSON.parse(localStorage.getItem("admin"));if(!D){Q("/login");return}T(D)},[Q]),b.useEffect(()=>{pe.current&&pe.current.scrollIntoView({behavior:"smooth"})},[j]),b.useEffect(()=>{if(!n||!I||!k)return;const D=ok(I.userId,n.userId),V=gr(mr,`Chats/${D}/messages`);return fg(V,L=>{const J=L.val();if(J){const Z=Object.entries(J).map(([$,B])=>({messageId:$,...B}));Z.sort(($,B)=>$.timeStamp-B.timeStamp),O(Z)}else O([])}),we(D),()=>Dfe(V)},[n,I,k]);const be=async D=>{var B;if(!D.trim())return;const V=I.userId,L=n.userId,J=ok(V,L),Z=Date.now(),$={senderId:V,receiverId:L,type:"text",text:D,imageUrl:null,replyTo:null,seen:!1,edited:!1,deleted:!1,timeStamp:Z};try{await z.post(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${J}/messages.json`,$),await z.patch(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${J}.json`,{participants:{[V]:!0,[L]:!0},lastMessage:{text:D,senderId:V,seen:!1,timeStamp:Z},unread:{[V]:0,[L]:1}}),re("")}catch(W){console.error("Send message error:",((B=W.response)==null?void 0:B.data)||W)}},we=async D=>{try{await z.patch(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${D}/unread.json`,{[I.userId]:0}),await z.patch(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${D}/lastMessage.json`,{seen:!0})}catch(V){console.error("Mark as seen error:",V)}},X=async()=>{try{const V=((await z.get(`http://127.0.0.1:5000/api/get_post_notifications/${le}`)).data||[]).map(L=>({...L,notificationId:L.notificationId||L.id}));R(V)}catch(D){console.error("Post notification fetch failed",D)}};b.useEffect(()=>{if(!le)return;X();const D=setInterval(X,5e3);return()=>clearInterval(D)},[le]);const ie=async D=>{await z.post("http://127.0.0.1:5000/api/mark_post_notification_read",{notificationId:D.notificationId}),R(V=>V.filter(L=>L.notificationId!==D.notificationId)),C(!1),Q("/dashboard",{state:{postId:D.postId}})};b.useEffect(()=>{const D=V=>{!V.target.closest(".icon-circle")&&!V.target.closest(".notification-dropdown")&&C(!1)};return document.addEventListener("click",D),()=>document.removeEventListener("click",D)},[]),b.useEffect(()=>{(async()=>{try{const L=(await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Users.json")).data||{},J=Object.keys(L).filter(Z=>L[Z].role==="parent").map(Z=>({userId:Z,name:L[Z].name||L[Z].username||"No Name",email:L[Z].email||"N/A",profileImage:L[Z].profileImage||"/default-profile.png"}));t(J)}catch(V){console.error("Error fetching parents:",V)}})()},[]),b.useEffect(()=>{(async()=>{const L=await(await fetch("/api/unreadSenders")).json();w(L)})()},[]),b.useEffect(()=>{if(!n)return;(async()=>{try{const L=(await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Parents.json")).data||{},J=Object.values(L).find(ce=>ce.userId===n.userId);if(!J){u(null),d([]);return}const $=(await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Users.json")).data||{},B=$[n.userId]||{};u({userId:n.userId,name:B.name||B.username||"No Name",email:B.email||"N/A",phone:J.phone||"N/A",status:J.status||"N/A",additionalInfo:J.additionalInfo||"N/A",createdAt:J.createdAt||"N/A",profileImage:B.profileImage||"/default-profile.png"});const ae=(await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Students.json")).data||{},ne=Object.values(J.children||{}).map(ce=>{const he=ae[ce.studentId];if(!he)return console.warn("Student record not found for:",ce.studentId),null;const xe=he.use||he.userId;xe||console.warn("Student userId missing in studentRecord:",he);const ze=$[xe]||{};return{studentId:ce.studentId,name:ze.name||ze.username||"No Name",email:ze.email||"N/A",grade:he.grade||"N/A",section:he.section||"N/A",parentPhone:J.phone||"N/A",relationship:ce.relationship||"N/A",profileImage:ze.profileImage||"/default-profile.png"}}).filter(Boolean);d(ne),console.log("Fetched children:",ne)}catch(V){console.error("Error fetching parent info and children:",V),u(null),d([])}})()},[n]);const Ie=async()=>{if(!I.userId)return;const D={};try{const L=(await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Users.json")).data||{},J=ae=>Object.values(L).find(ne=>ne.userId===ae),Z=async ae=>{const ne=`${I.userId}_${ae}`,ce=`${ae}_${I.userId}`,[he,xe]=await Promise.all([z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${ne}/messages.json`),z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${ce}/messages.json`)]);return[...Object.values(he.data||{}),...Object.values(xe.data||{})].filter(He=>He.receiverId===I.userId&&!He.seen).length},$=await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Teachers.json");for(const ae in $.data||{}){const ne=$.data[ae],ce=await Z(ne.userId);if(ce>0){const he=J(ne.userId);D[ne.userId]={type:"teacher",name:(he==null?void 0:he.name)||"Teacher",profileImage:(he==null?void 0:he.profileImage)||"/default-profile.png",count:ce}}}const B=await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Students.json");for(const ae in B.data||{}){const ne=B.data[ae],ce=await Z(ne.userId);if(ce>0){const he=J(ne.userId);D[ne.userId]={type:"student",name:(he==null?void 0:he.name)||ne.name||"Student",profileImage:(he==null?void 0:he.profileImage)||ne.profileImage||"/default-profile.png",count:ce}}}const W=await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Parents.json");for(const ae in W.data||{}){const ne=W.data[ae],ce=await Z(ne.userId);if(ce>0){const he=J(ne.userId);D[ne.userId]={type:"parent",name:(he==null?void 0:he.name)||ne.name||"Parent",profileImage:(he==null?void 0:he.profileImage)||ne.profileImage||"/default-profile.png",count:ce}}}w(D)}catch(V){console.error("Unread fetch failed:",V)}};b.useEffect(()=>{const D=V=>{!V.target.closest(".icon-circle")&&!V.target.closest(".messenger-dropdown")&&S(!1)};return document.addEventListener("click",D),()=>document.removeEventListener("click",D)},[]),b.useEffect(()=>{if(!I.userId)return;Ie();const D=setInterval(Ie,5e3);return()=>clearInterval(D)},[I.userId]);const te=async D=>{const V=`${I.userId}_${D}`,L=`${D}_${I.userId}`,[J,Z]=await Promise.all([z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${V}/messages.json`),z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${L}/messages.json`)]),$={},B=(W,ae)=>{Object.entries(W||{}).forEach(([ne,ce])=>{ce.receiverId===I.userId&&!ce.seen&&($[`${ae}/${ne}/seen`]=!0)})};B(J.data,`Chats/${V}/messages`),B(Z.data,`Chats/${L}/messages`),Object.keys($).length>0&&await z.patch("https://ethiostore-17d9f-default-rtdb.firebaseio.com/.json",$)};return g.jsxs("div",{className:"dashboard-page",children:[g.jsxs("nav",{className:"top-navbar",children:[g.jsx("h2",{children:"Gojo Dashboard"}),g.jsxs("div",{className:"nav-search",children:[g.jsx(ul,{className:"search-icon"}),g.jsx("input",{type:"text",placeholder:"Search Parents..."})]}),g.jsxs("div",{className:"nav-right",children:[g.jsxs("div",{className:"icon-circle",style:{position:"relative",cursor:"pointer"},onClick:D=>{D.stopPropagation(),C(V=>!V)},children:[g.jsx(il,{}),P.length>0&&g.jsx("span",{style:{position:"absolute",top:"-5px",right:"-5px",background:"red",color:"#fff",borderRadius:"50%",padding:"2px 6px",fontSize:"10px",fontWeight:"bold"},children:P.length}),M&&g.jsx("div",{className:"notification-dropdown",style:{position:"absolute",top:"40px",right:"0",width:"350px",maxHeight:"400px",overflowY:"auto",background:"#fff",borderRadius:"10px",boxShadow:"0 4px 15px rgba(0,0,0,0.25)",zIndex:1e3},onClick:D=>D.stopPropagation(),children:P.length===0?g.jsx("p",{style:{padding:"12px",textAlign:"center"},children:"No new notifications"}):P.map(D=>g.jsxs("div",{style:{display:"flex",gap:"10px",padding:"10px",cursor:"pointer",borderBottom:"1px solid #eee"},onClick:()=>ie(D),children:[g.jsx("img",{src:D.adminProfile||"/default-profile.png",alt:D.adminName,style:{width:"40px",height:"40px",borderRadius:"50%"}}),g.jsxs("div",{children:[g.jsx("strong",{children:D.adminName}),g.jsx("p",{style:{margin:0},children:D.message})]})]},D.notificationId))})]}),g.jsxs("div",{className:"icon-circle",style:{position:"relative",cursor:"pointer"},onClick:D=>{D.stopPropagation(),S(V=>!V)},children:[g.jsx(rl,{}),Object.keys(y).length>0&&g.jsx("span",{style:{position:"absolute",top:"-5px",right:"-5px",background:"red",color:"#fff",borderRadius:"50%",padding:"2px 6px",fontSize:"10px",fontWeight:"bold"},children:Object.values(y).reduce((D,V)=>D+V.count,0)}),_&&g.jsx("div",{style:{position:"absolute",top:"40px",right:"0",width:"300px",background:"#fff",borderRadius:"10px",boxShadow:"0 4px 15px rgba(0,0,0,0.25)",zIndex:1e3},children:Object.keys(y).length===0?g.jsx("p",{style:{padding:"12px",textAlign:"center",color:"#777"},children:"No new messages"}):Object.entries(y).map(([D,V])=>g.jsxs("div",{style:{padding:"12px",display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",borderBottom:"1px solid #eee"},onClick:async()=>{S(!1),await te(D),w(L=>{const J={...L};return delete J[D],J}),Q("/all-chat",{state:{user:{userId:D,name:V.name,profileImage:V.profileImage,type:V.type}}})},children:[g.jsx("img",{src:V.profileImage,alt:V.name,style:{width:"42px",height:"42px",borderRadius:"50%"}}),g.jsxs("div",{children:[g.jsx("strong",{children:V.name}),g.jsxs("p",{style:{fontSize:"12px",margin:0},children:[V.count," new message",V.count>1&&"s"]})]})]},D))})]}),g.jsx(Le,{className:"icon-circle",to:"/settings",children:g.jsx(sl,{})}),g.jsx("img",{src:I.profileImage||"/default-profile.png",alt:"admin",className:"profile-img"})]})]}),g.jsxs("div",{className:"google-dashboard",style:{display:"flex"},children:[g.jsxs("div",{className:"google-sidebar",children:[g.jsxs("div",{className:"sidebar-profile",children:[g.jsx("div",{className:"sidebar-img-circle",children:g.jsx("img",{src:I.profileImage||"/default-profile.png",alt:"profile"})}),g.jsx("h3",{children:I.name}),g.jsx("p",{children:I.username})]}),g.jsxs("div",{className:"sidebar-menu",children:[g.jsxs(Le,{className:"sidebar-btn",to:"/dashboard",children:[g.jsx(ll,{})," Home"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/my-posts",children:[g.jsx(al,{})," My Posts"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/teachers",children:[g.jsx(Jt,{})," Teachers"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/students",children:[g.jsx(Jt,{})," Students"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/schedule",children:[g.jsx(ol,{})," Schedule"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/parents",style:{backgroundColor:"#4b6cb7",color:"#fff"},children:[g.jsx(Jt,{})," Parents"]}),g.jsxs("button",{className:"sidebar-btn logout-btn",onClick:()=>{localStorage.removeItem("admin"),window.location.href="/login"},children:[g.jsx(cl,{})," Logout"]})]})]}),g.jsxs("div",{className:"main-content",style:{padding:"30px",width:"65%",marginLeft:"200px"},children:[g.jsx("h2",{style:{marginBottom:"20px",textAlign:"center"},children:"Parents"}),g.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"20px"},children:e.length===0?g.jsx("p",{children:"No parents found."}):e.map(D=>g.jsxs("div",{onClick:()=>r(D),style:{width:"700px",height:"100px",borderRadius:"12px",padding:"15px",background:(n==null?void 0:n.userId)===D.userId?"#e0e7ff":"#fff",border:(n==null?void 0:n.userId)===D.userId?"2px solid #4b6cb7":"1px solid #ddd",display:"flex",alignItems:"center",gap:"20px",boxShadow:(n==null?void 0:n.userId)===D.userId?"0 6px 15px rgba(75,108,183,0.3)":"0 4px 10px rgba(0,0,0,0.1)",cursor:"pointer",transition:"all 0.3s ease"},children:[g.jsx("img",{src:D.profileImage,alt:D.name,style:{width:"50px",height:"50px",borderRadius:"50%",objectFit:"cover"}}),g.jsxs("div",{children:[g.jsx("h3",{style:{margin:0},children:D.name}),g.jsx("p",{style:{margin:"4px 0",color:"#555"},children:D.email})]})]},D.userId))})]}),n&&g.jsx("div",{className:"parent-info-sidebar",style:{width:"30%",padding:"25px",background:"#fff",boxShadow:"0 0 15px rgba(0,0,0,0.05)",position:"fixed",right:0,top:"60px",height:"calc(100vh - 60px)",overflowY:"auto",zIndex:10},children:g.jsxs("div",{style:{textAlign:"center"},children:[g.jsxs("div",{style:{background:"#becff7ff",padding:"25px 10px",height:"200px",margin:"-25px -25px 20px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)"},children:[g.jsx("div",{style:{width:"100px",height:"100px",margin:"-20px auto 15px",borderRadius:"50%",overflow:"hidden",border:"4px solid #4b6cb7"},children:g.jsx("img",{src:n.profileImage,alt:n.name,style:{width:"100%",height:"100%",objectFit:"cover"}})}),g.jsx("h2",{style:{margin:0,fontSize:"22px",marginTop:"-10px",color:"#333"},children:n.name}),g.jsx("h2",{style:{margin:0,fontSize:"16px",marginTop:"0",color:"#585656ff"},children:n.email})]}),g.jsxs("div",{style:{background:"#fff",borderRadius:"10px",padding:"15px",boxShadow:"0 4px 12px rgba(0,0,0,0.05)",width:"100%",textAlign:"left"},children:[g.jsx("div",{style:{display:"flex",borderBottom:"1px solid #eee",marginBottom:"15px"},children:["details","children","status"].map(D=>g.jsx("button",{onClick:()=>o(D),style:{flex:1,padding:"10px",border:"none",background:"none",cursor:"pointer",fontWeight:"600",color:i===D?"#4b6cb7":"#777",borderBottom:i===D?"3px solid #4b6cb7":"3px solid transparent"},children:D.toUpperCase()},D))}),i==="details"&&l&&g.jsx("div",{style:{padding:"15px",background:"#f8f9ff",borderRadius:"12px",boxShadow:"0 4px 15px rgba(0,0,0,0.08)"},children:g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px",color:"#555"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 12px",background:"#fff",borderRadius:"8px",boxShadow:"0 2px 6px rgba(0,0,0,0.05)"},children:[g.jsx("span",{children:g.jsx("strong",{children:"User ID:"})}),g.jsx("span",{children:l.userId})]}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 12px",background:"#fff",borderRadius:"8px",boxShadow:"0 2px 6px rgba(0,0,0,0.05)"},children:[g.jsx("span",{children:g.jsx("strong",{children:"Email:"})}),g.jsx("span",{children:l.email})]}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 12px",background:"#fff",borderRadius:"8px",boxShadow:"0 2px 6px rgba(0,0,0,0.05)"},children:[g.jsx("span",{children:g.jsx("strong",{children:"Phone:"})}),g.jsx("span",{children:l.phone})]}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 12px",background:"#fff",borderRadius:"8px",boxShadow:"0 2px 6px rgba(0,0,0,0.05)"},children:[g.jsx("span",{children:g.jsx("strong",{children:"Status:"})}),g.jsx("span",{children:l.status})]}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 12px",background:"#fff",borderRadius:"8px",boxShadow:"0 2px 6px rgba(0,0,0,0.05)"},children:[g.jsx("span",{children:g.jsx("strong",{children:"Additional Info:"})}),g.jsx("span",{children:l.additionalInfo})]}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 12px",background:"#fff",borderRadius:"8px",boxShadow:"0 2px 6px rgba(0,0,0,0.05)"},children:[g.jsx("span",{children:g.jsx("strong",{children:"Created At:"})}),g.jsx("span",{children:l.createdAt})]})]})}),i==="children"&&g.jsxs("div",{style:{padding:"30px"},children:[g.jsx("h4",{style:{marginBottom:"30px",color:"#4b6cb7",fontSize:"26px",fontWeight:"700",borderBottom:"3px solid #4b6cb7",paddingBottom:"10px"},children:"Children"}),c.length===0?g.jsx("p",{style:{color:"#777",fontStyle:"italic",textAlign:"center",fontSize:"16px"},children:"No children found"}):g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"25px"},children:c.map(D=>(f[D.studentId],g.jsxs("div",{style:{background:"#ffffff",borderRadius:"16px",padding:"20px",boxShadow:"0 8px 24px rgba(0,0,0,0.08)",transition:"0.3s",borderLeft:"6px solid #4b6cb7"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"16px"},children:[g.jsx("img",{src:D.profileImage||"/default-profile.png",alt:D.name,style:{width:"64px",height:"64px",borderRadius:"50%",objectFit:"cover",border:"2px solid #4b6cb7"}}),g.jsxs("div",{style:{flex:1},children:[g.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600",color:"#1f2937"},children:D.name}),g.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"6px"},children:[g.jsxs("span",{style:{background:"#eef2ff",color:"#4b6cb7",padding:"4px 10px",borderRadius:"8px",fontSize:"12px",fontWeight:"600"},children:["Grade ",D.grade]}),g.jsxs("span",{style:{background:"#f1f5f9",color:"#334155",padding:"4px 10px",borderRadius:"8px",fontSize:"12px",fontWeight:"600"},children:["Section ",D.section]})]})]}),g.jsx("button",{onClick:()=>p(V=>({...V,[D.studentId]:!f[D.studentId]})),style:{padding:"8px 14px",borderRadius:"10px",border:"none",background:f[D.studentId]?"#1e293b":"#4b6cb7",color:"#fff",cursor:"pointer",fontSize:"13px",fontWeight:"600"},children:f[D.studentId]?"Hide":"Details"})]}),f[D.studentId]&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:"12px",fontSize:"14px",color:"#475569",lineHeight:"1.7"},children:[g.jsxs("p",{children:[g.jsx("strong",{children:"Email:"})," ",g.jsx("a",{href:`mailto:${D.email}`,style:{color:"#4b6cb7"},children:D.email})]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Parent Phone:"})," ",g.jsx("a",{href:`tel:${D.parentPhone}`,style:{color:"#16a34a"},children:D.parentPhone})]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Relationship:"})," ",D.relationship]})]}),g.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"14px"},children:[g.jsx("a",{href:`mailto:${D.email}`,style:{flex:1,textAlign:"center",padding:"8px",background:"#4b6cb7",color:"#fff",borderRadius:"10px",textDecoration:"none",fontSize:"14px",fontWeight:"600"},children:"Email"}),g.jsx("a",{href:`tel:${D.parentPhone}`,style:{flex:1,textAlign:"center",padding:"8px",background:"#16a34a",color:"#fff",borderRadius:"10px",textDecoration:"none",fontSize:"14px",fontWeight:"600"},children:"Call"})]})]})]},D.studentId)))})]}),i==="status"&&g.jsx("div",{children:g.jsx("p",{style:{color:"#555"},children:"Parent account status and activity info will be displayed here."})})]}),!s&&g.jsx("div",{onClick:()=>a(!0),style:{position:"fixed",bottom:"20px",right:"20px",width:"48px",height:"48px",background:"linear-gradient(135deg, #833ab4, #fd1d1d, #fcb045)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",cursor:"pointer",zIndex:1e3,boxShadow:"0 8px 18px rgba(0,0,0,0.25)",transition:"transform 0.2s ease"},children:g.jsx(Y_,{size:22})}),k&&n&&g.jsxs("div",{style:{position:"fixed",bottom:"20px",right:"20px",width:"360px",height:"480px",background:"#fff",borderRadius:"16px",boxShadow:"0 12px 30px rgba(0,0,0,0.25)",zIndex:2e3,display:"flex",flexDirection:"column",overflow:"hidden"},children:[g.jsxs("div",{style:{padding:"14px",borderBottom:"1px solid #eee",display:"flex",justifyContent:"space-between",alignItems:"center",background:"#fafafa"},children:[g.jsx("strong",{children:n.name}),g.jsxs("div",{style:{display:"flex",gap:"10px"},children:[g.jsx("button",{onClick:()=>{A(!1),Q("/all-chat",{state:{user:n,tab:"parent"}})},style:{background:"none",border:"none",cursor:"pointer",fontSize:"18px"},children:""}),g.jsx("button",{onClick:()=>A(!1),style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer"},children:""})]})]}),g.jsxs("div",{style:{flex:1,padding:"12px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"6px",background:"#f9f9f9"},children:[j.length===0?g.jsxs("p",{style:{textAlign:"center",color:"#aaa"},children:["Start chatting with ",n.name]}):j.map(D=>g.jsx("div",{style:{display:"flex",justifyContent:D.senderId===I.userId?"flex-end":"flex-start"},children:g.jsx("span",{style:{display:"inline-block",padding:"8px 14px",borderRadius:"20px",background:D.senderId===I.userId?"#4b6cb7":"#e5e5ea",color:D.senderId===I.userId?"#fff":"#000",maxWidth:"70%",wordWrap:"break-word",transition:"all 0.2s"},children:D.text})},D.messageId)),g.jsx("div",{ref:pe})]}),g.jsxs("div",{style:{padding:"10px",borderTop:"1px solid #eee",display:"flex",gap:"8px",background:"#fff"},children:[g.jsx("input",{value:ee,onChange:D=>re(D.target.value),placeholder:"Type a message...",style:{flex:1,padding:"10px 14px",borderRadius:"999px",border:"1px solid #ccc",outline:"none"},onKeyDown:D=>{D.key==="Enter"&&be(ee)}}),g.jsx("button",{onClick:()=>be(ee),style:{background:"linear-gradient(135deg, #833ab4, #fd1d1d, #fcb045)",border:"none",borderRadius:"50%",width:"42px",height:"42px",color:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px"},children:""})]})]})]})})]})]})}function Xge(){const[e,t]=b.useState(localStorage.getItem("darkMode")==="true");return b.useEffect(()=>{e?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode"),localStorage.setItem("darkMode",e)},[e]),[e,()=>t(r=>!r)]}function Jge(){const[e,t]=b.useState(JSON.parse(localStorage.getItem("admin"))||{}),[n,r]=b.useState(null),[i,o]=b.useState(e.profileImage||"/default-profile.png"),[s,a]=Xge(),[l,u]=b.useState(e.name||""),[c,d]=b.useState(e.username||""),[f,p]=b.useState(""),[m,v]=b.useState(""),y=gi(),[w,_]=b.useState([]),[S,P]=b.useState(!1),[R,M]=b.useState([]),[C,I]=b.useState(!1),T=e.userId,k=async()=>{try{const Q=((await z.get(`http://127.0.0.1:5000/api/get_post_notifications/${T}`)).data||[]).map(le=>({...le,notificationId:le.notificationId||le.id}));M(Q)}catch(F){console.error("Post notification fetch failed",F)}};b.useEffect(()=>{if(!T)return;k();const F=setInterval(k,5e3);return()=>clearInterval(F)},[T]);const A=async F=>{await z.post("http://127.0.0.1:5000/api/mark_post_notification_read",{notificationId:F.notificationId}),M(Q=>Q.filter(le=>le.notificationId!==F.notificationId)),I(!1),y("/dashboard",{state:{postId:F.postId}})};b.useEffect(()=>{const F=Q=>{!Q.target.closest(".icon-circle")&&!Q.target.closest(".notification-dropdown")&&I(!1)};return document.addEventListener("click",F),()=>document.removeEventListener("click",F)},[]);const j=F=>r(F.target.files[0]),O=async()=>{if(!n)return alert("Select an image first.");try{const F=new FileReader;F.readAsDataURL(n),F.onloadend=async()=>{const Q=F.result;await z.patch(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Users/${e.userId}.json`,{profileImage:Q});const le={...e,profileImage:Q};localStorage.setItem("admin",JSON.stringify(le)),o(Q),r(null),alert("Profile image updated!")}}catch(F){console.error("Error updating profile image:",F)}},ee=async()=>{if(!l||!c)return alert("Name and Username required!");try{await z.patch(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Users/${e.userId}.json`,{name:l,username:c});const F={...e,name:l,username:c};localStorage.setItem("admin",JSON.stringify(F)),t(F),alert("Profile info updated!")}catch(F){console.error("Error updating info:",F)}},re=async()=>{if(!f||!m)return alert("Fill both password fields.");if(f!==m)return alert("Passwords do not match!");try{await z.patch(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Users/${e.userId}.json`,{password:f}),p(""),v(""),alert("Password updated successfully!")}catch(F){console.error("Error updating password:",F)}};b.useEffect(()=>{const F=Q=>{P(!1)};return document.addEventListener("click",F),()=>document.removeEventListener("click",F)},[]),b.useEffect(()=>{(async()=>{const le=await(await fetch("/api/unreadSenders")).json();_(le)})()},[]);const pe=async()=>{if(!e.userId)return;const F={};try{const le=(await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Users.json")).data||{},be=te=>Object.values(le).find(D=>D.userId===te),we=async te=>{const D=`${e.userId}_${te}`,V=`${te}_${e.userId}`,[L,J]=await Promise.all([z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${D}/messages.json`),z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${V}/messages.json`)]);return[...Object.values(L.data||{}),...Object.values(J.data||{})].filter($=>$.receiverId===e.userId&&!$.seen).length},X=await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Teachers.json");for(const te in X.data||{}){const D=X.data[te],V=await we(D.userId);if(V>0){const L=be(D.userId);F[D.userId]={type:"teacher",name:(L==null?void 0:L.name)||"Teacher",profileImage:(L==null?void 0:L.profileImage)||"/default-profile.png",count:V}}}const ie=await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Students.json");for(const te in ie.data||{}){const D=ie.data[te],V=await we(D.userId);if(V>0){const L=be(D.userId);F[D.userId]={type:"student",name:(L==null?void 0:L.name)||D.name||"Student",profileImage:(L==null?void 0:L.profileImage)||D.profileImage||"/default-profile.png",count:V}}}const Ie=await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Parents.json");for(const te in Ie.data||{}){const D=Ie.data[te],V=await we(D.userId);if(V>0){const L=be(D.userId);F[D.userId]={type:"parent",name:(L==null?void 0:L.name)||D.name||"Parent",profileImage:(L==null?void 0:L.profileImage)||D.profileImage||"/default-profile.png",count:V}}}_(F)}catch(Q){console.error("Unread fetch failed:",Q)}};b.useEffect(()=>{const F=Q=>{!Q.target.closest(".icon-circle")&&!Q.target.closest(".messenger-dropdown")&&P(!1)};return document.addEventListener("click",F),()=>document.removeEventListener("click",F)},[]),b.useEffect(()=>{if(!e.userId)return;pe();const F=setInterval(pe,5e3);return()=>clearInterval(F)},[e.userId]);const Oe=async F=>{const Q=`${e.userId}_${F}`,le=`${F}_${e.userId}`,[be,we]=await Promise.all([z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${Q}/messages.json`),z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${le}/messages.json`)]),X={},ie=(Ie,te)=>{Object.entries(Ie||{}).forEach(([D,V])=>{V.receiverId===e.userId&&!V.seen&&(X[`${te}/${D}/seen`]=!0)})};ie(be.data,`Chats/${Q}/messages`),ie(we.data,`Chats/${le}/messages`),Object.keys(X).length>0&&await z.patch("https://ethiostore-17d9f-default-rtdb.firebaseio.com/.json",X)};return g.jsxs("div",{className:"dashboard-page",children:[g.jsxs("nav",{className:"top-navbar",children:[g.jsx("h2",{children:"Gojo Dashboard"}),g.jsxs("div",{className:"nav-search",children:[g.jsx(ul,{className:"search-icon"}),g.jsx("input",{type:"text",placeholder:"Search Teacher and Student..."})]}),g.jsxs("div",{className:"nav-right",children:[g.jsxs("div",{className:"icon-circle",style:{position:"relative",cursor:"pointer"},onClick:F=>{F.stopPropagation(),I(Q=>!Q)},children:[g.jsx(il,{}),R.length>0&&g.jsx("span",{style:{position:"absolute",top:"-5px",right:"-5px",background:"red",color:"#fff",borderRadius:"50%",padding:"2px 6px",fontSize:"10px",fontWeight:"bold"},children:R.length}),C&&g.jsx("div",{className:"notification-dropdown",style:{position:"absolute",top:"40px",right:"0",width:"350px",maxHeight:"400px",overflowY:"auto",background:"#fff",borderRadius:"10px",boxShadow:"0 4px 15px rgba(0,0,0,0.25)",zIndex:1e3},onClick:F=>F.stopPropagation(),children:R.length===0?g.jsx("p",{style:{padding:"12px",textAlign:"center"},children:"No new notifications"}):R.map(F=>g.jsxs("div",{style:{display:"flex",gap:"10px",padding:"10px",cursor:"pointer",borderBottom:"1px solid #eee"},onClick:()=>A(F),children:[g.jsx("img",{src:F.adminProfile||"/default-profile.png",alt:F.adminName,style:{width:"40px",height:"40px",borderRadius:"50%"}}),g.jsxs("div",{children:[g.jsx("strong",{children:F.adminName}),g.jsx("p",{style:{margin:0},children:F.message})]})]},F.notificationId))})]}),g.jsxs("div",{className:"icon-circle",style:{position:"relative",cursor:"pointer"},onClick:F=>{F.stopPropagation(),P(Q=>!Q)},children:[g.jsx(rl,{}),Object.keys(w).length>0&&g.jsx("span",{style:{position:"absolute",top:"-5px",right:"-5px",background:"red",color:"#fff",borderRadius:"50%",padding:"2px 6px",fontSize:"10px",fontWeight:"bold"},children:Object.values(w).reduce((F,Q)=>F+Q.count,0)}),S&&g.jsx("div",{style:{position:"absolute",top:"40px",right:"0",width:"300px",background:"#fff",borderRadius:"10px",boxShadow:"0 4px 15px rgba(0,0,0,0.25)",zIndex:1e3},children:Object.keys(w).length===0?g.jsx("p",{style:{padding:"12px",textAlign:"center",color:"#777"},children:"No new messages"}):Object.entries(w).map(([F,Q])=>g.jsxs("div",{style:{padding:"12px",display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",borderBottom:"1px solid #eee"},onClick:async()=>{P(!1),await Oe(F),_(le=>{const be={...le};return delete be[F],be}),y("/all-chat",{state:{user:{userId:F,name:Q.name,profileImage:Q.profileImage,type:Q.type}}})},children:[g.jsx("img",{src:Q.profileImage,alt:Q.name,style:{width:"42px",height:"42px",borderRadius:"50%"}}),g.jsxs("div",{children:[g.jsx("strong",{children:Q.name}),g.jsxs("p",{style:{fontSize:"12px",margin:0},children:[Q.count," new message",Q.count>1&&"s"]})]})]},F))})]}),g.jsx(Le,{className:"icon-circle",to:"/settings",children:g.jsx(sl,{})}),g.jsx("img",{src:e.profileImage||"/default-profile.png",alt:"admin",className:"profile-img"})]})]}),g.jsxs("div",{className:"google-dashboard",style:{background:s?"#2c2c2c":"#f1f1f1"},children:[g.jsxs("div",{className:"google-sidebar",style:{background:s?"#1a1a1a":"#fff"},children:[g.jsxs("div",{className:"sidebar-profile",children:[g.jsx("div",{className:"sidebar-img-circle",children:g.jsx("img",{src:e.profileImage||"/default-profile.png",alt:"profile"})}),g.jsx("h3",{children:e.name}),g.jsx("p",{children:e.username})]}),g.jsxs("div",{className:"sidebar-menu",children:[g.jsxs(Le,{className:"sidebar-btn",to:"/dashboard",children:[" ",g.jsx(ll,{style:{width:"28px",height:"28px"}})," Home"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/my-posts",children:[g.jsx(al,{})," My Posts"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/teachers",children:[g.jsx(Jt,{})," Teachers"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/students",children:[" ",g.jsx(Jt,{})," Students"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/schedule",children:[g.jsx(ol,{})," Schedule"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/parents",children:[g.jsx(Jt,{})," Parents"]}),g.jsxs("button",{className:"sidebar-btn logout-btn",onClick:()=>{localStorage.removeItem("admin"),window.location.href="/login"},children:[g.jsx(cl,{})," Logout"]})]})]}),g.jsxs("div",{className:"main-content",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"50px",width:"100%",gap:"30px"},children:[g.jsx("h2",{children:"Settings"}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"30px",borderRadius:"12px",background:s?"#3a3a3a":"#fff",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},children:[g.jsx("img",{src:i,alt:"profile",style:{width:"150px",height:"150px",borderRadius:"50%",objectFit:"cover",marginBottom:"15px",border:"3px solid #4b6cb7"}}),g.jsx("input",{type:"file",onChange:j}),g.jsx("button",{onClick:O,style:{marginTop:"15px",padding:"10px 20px",borderRadius:"8px",border:"none",background:"#4b6cb7",color:"#fff",cursor:"pointer"},children:"Update Profile Image"})]}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",padding:"30px",borderRadius:"12px",background:s?"#3a3a3a":"#fff",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},children:[g.jsx("input",{type:"text",placeholder:"Name",value:l,onChange:F=>u(F.target.value),style:{padding:"10px",borderRadius:"6px",border:"1px solid #ccc"}}),g.jsx("input",{type:"text",placeholder:"Username",value:c,onChange:F=>d(F.target.value),style:{padding:"10px",borderRadius:"6px",border:"1px solid #ccc"}}),g.jsx("button",{onClick:ee,style:{padding:"10px 20px",borderRadius:"8px",border:"none",background:"#4b6cb7",color:"#fff",cursor:"pointer"},children:"Update Info"})]}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",padding:"30px",borderRadius:"12px",background:s?"#3a3a3a":"#fff",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},children:[g.jsx("input",{type:"password",placeholder:"New Password",value:f,onChange:F=>p(F.target.value),style:{padding:"10px",borderRadius:"6px",border:"1px solid #ccc"}}),g.jsx("input",{type:"password",placeholder:"Confirm Password",value:m,onChange:F=>v(F.target.value),style:{padding:"10px",borderRadius:"6px",border:"1px solid #ccc"}}),g.jsx("button",{onClick:re,style:{padding:"10px 20px",borderRadius:"8px",border:"none",background:"#4b6cb7",color:"#fff",cursor:"pointer"},children:"Change Password"})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",padding:"20px",borderRadius:"12px",background:s?"#3a3a3a":"#fff",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},children:[g.jsx("label",{style:{fontSize:"18px",fontWeight:"500"},children:"Dark Mode"}),g.jsx("input",{type:"checkbox",checked:s,onChange:a})]})]})]})]})}function Zge(){var Ie;const e=nl(),t=gi(),[n,r]=b.useState([]),[i,o]=b.useState(""),[s,a]=b.useState([]),[l,u]=b.useState([]),[c,d]=b.useState([]),[f,p]=b.useState("teacher"),[m,v]=b.useState(null),[y,w]=b.useState(null),[_,S]=b.useState(!1),[P,R]=b.useState(null),[M,C]=b.useState(""),{userId:I,userType:T,name:k,profileImage:A}=e.state||{},O=(JSON.parse(localStorage.getItem("admin"))||{}).userId,ee=((Ie=e.state)==null?void 0:Ie.user)||null,[re,pe]=b.useState(ee);b.useEffect(()=>{if(!re){const te=s[0]||l[0]||c[0]||null;pe(te)}},[s,l,c]);const Oe=b.useRef(null),F=b.useRef(null),Q=b.useRef({});b.useEffect(()=>{if(!re||!O)return;(async()=>{try{const D=`${re.userId}_${O}`,V=await z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${D}/messages.json`);r(Object.values(V.data||{}))}catch(D){console.error(D)}})()},[re,O]),b.useEffect(()=>{(async()=>{try{const[D,V,L,J,Z]=await Promise.all([fetch("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Teachers.json").then(ae=>ae.json()),fetch("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Students.json").then(ae=>ae.json()),fetch("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Parents.json").then(ae=>ae.json()),fetch("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Users.json").then(ae=>ae.json()),fetch("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats.json").then(ae=>ae.json())]),$=J||{},B=Z||{},W=ae=>Object.keys(ae||{}).map(ne=>{const ce=ae[ne].userId,he=$[ce]||{},xe=`${ce}_${O}`,ze=B[xe]?Object.values(B[xe].messages||{}):[],He=ze.length>0?ze.sort((Xe,yt)=>yt.timeStamp-Xe.timeStamp)[0]:null;return{id:ne,userId:ce,name:he.name||"No Name",profileImage:he.profileImage||"/default-profile.png",lastMsgTime:He?He.timeStamp:0,lastMsgText:He?He.text:"",lastSeen:he.lastSeen||null}}).sort((ne,ce)=>ce.lastMsgTime-ne.lastMsgTime);a(W(D)),u(W(V)),d(W(L))}catch(D){console.error("Error fetching users:",D)}})()},[O]),b.useEffect(()=>{if(!re)return;const te=`${re.userId}_${O}`,D=gr(mr,`Chats/${te}/messages`),V=fg(D,B=>{const W=B.val(),ae=W?Object.entries(W).map(([ne,ce])=>({...ce,id:ne,timeStamp:Number(ce.timeStamp)||null,sender:ce.senderId===O?"admin":"user"})):[];r(ae.sort((ne,ce)=>ne.timeStamp-ce.timeStamp))}),L=gr(mr,`Chats/${te}/typing`),J=fg(L,B=>{const W=B.val();S(W&&W.userId===re.userId)}),Z=gr(mr,`Users/${re.userId}/lastSeen`),$=fg(Z,B=>{R(B.val())});return()=>{V(),J(),$()}},[re,O]);const le=async()=>{if(!i.trim())return;const te=`${re.userId}_${O}`;m?(await aD(gr(mr,`Chats/${te}/messages/${m}`),{text:i,edited:!0}),v(null)):await Ofe(gr(mr,`Chats/${te}/messages`),{senderId:O,receiverId:re.userId,text:i,timeStamp:Date.now(),seen:!1,edited:!1,deleted:!1}),o("")},be=async te=>{if(o(te.target.value),!re)return;const D=`${re.userId}_${O}`,V=gr(mr,`Chats/${D}/typing`);await Ym(V,{userId:O}),F.current&&clearTimeout(F.current),F.current=setTimeout(async()=>{await Ym(V,{userId:null})},2e3)};b.useEffect(()=>{!I||!O||z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${O}_${I}/messages.json`).then(te=>r(Object.values(te.data||{})))},[I,O]),b.useEffect(()=>{var te;(te=Oe.current)==null||te.scrollIntoView({behavior:"smooth"})},[n,_]);const we=te=>!te||isNaN(te)?"":new Date(Number(te)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),X={flex:1,overflowY:"auto",padding:"15px",display:"flex",flexDirection:"column",gap:"10px",background:"#e5ddd5",borderRadius:"10px"},ie=te=>te.filter(D=>D.name.toLowerCase().includes(M.toLowerCase())).map(D=>{var V;return g.jsxs("div",{onClick:()=>pe(D),style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px",borderRadius:"8px",background:(re==null?void 0:re.userId)===D.userId?"#d0e6ff":"#fff",cursor:"pointer",marginBottom:"8px",transition:"0.2s all"},children:[g.jsx("img",{src:D.profileImage,alt:D.name,style:{width:"40px",height:"40px",borderRadius:"50%"}}),g.jsxs("div",{style:{flex:1},children:[g.jsx("div",{style:{fontWeight:"500"},children:D.name}),g.jsxs("div",{style:{fontSize:"12px",color:"#888"},children:[(V=D.lastMsgText)==null?void 0:V.slice(0,30),"..."]})]}),g.jsx("span",{style:{width:"10px",height:"10px",borderRadius:"50%",background:D.lastSeen&&Date.now()-D.lastSeen<6e4?"green":"gray"}})]},D.userId)});return g.jsxs("div",{style:{display:"flex",height:"100vh",background:"#e5ddd5"},children:[g.jsxs("div",{style:{width:"300px",background:"#fff",borderRight:"1px solid #ddd",overflowY:"auto",padding:"15px"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"15px"},children:[g.jsx("button",{onClick:()=>t(-1),style:{background:"#0084ff",color:"#fff",border:"none",padding:"6px 10px",borderRadius:"6px",cursor:"pointer",marginRight:"10px"},children:g.jsx(jW,{})}),g.jsx("input",{type:"text",placeholder:"Search...",value:M,onChange:te=>C(te.target.value),style:{flex:1,padding:"8px",borderRadius:"20px",border:"1px solid #ccc",outline:"none"}})]}),g.jsx("div",{style:{display:"flex",marginBottom:"15px",gap:"5px"},children:["teacher","student","parent"].map(te=>g.jsx("button",{onClick:()=>p(te),style:{flex:1,padding:"8px",borderRadius:"20px",border:"none",cursor:"pointer",background:f===te?"#0084ff":"#f0f0f0",color:f===te?"#fff":"#000"},children:te.charAt(0).toUpperCase()+te.slice(1)},te))}),f==="teacher"&&ie(s),f==="student"&&ie(l),f==="parent"&&ie(c)]}),g.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",padding:"15px"},children:re?g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{padding:"10px",borderBottom:"1px solid #ddd",display:"flex",alignItems:"center",gap:"10px",background:"#f0f2f5",borderRadius:"10px",marginBottom:"10px"},children:[g.jsx("img",{src:re.profileImage,alt:re.name,style:{width:"40px",height:"40px",borderRadius:"50%"}}),g.jsxs("div",{children:[g.jsx("strong",{children:re.name}),g.jsx("div",{style:{fontSize:"12px",color:"#666"},children:_?"Typing...":P?`Last seen: ${new Date(P).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:""})]})]}),g.jsxs("div",{style:X,children:[n.length===0?g.jsxs("p",{style:{color:"#888",textAlign:"center",marginTop:"20px"},children:["Start chatting with ",re.name,"..."]}):n.map(te=>{const D=te.sender==="admin",V=y===te.id;return g.jsx("div",{style:{marginBottom:12,display:"flex",flexDirection:"column",alignItems:D?"flex-end":"flex-start"},children:!te.deleted&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{"data-id":te.id,ref:L=>Q.current[te.id]=L,onClick:()=>w(te.id),style:{background:D?"#0084ff":"#e4e6eb",color:D?"#fff":"#000",padding:"8px 12px",borderRadius:16,borderTopRightRadius:D?0:16,borderTopLeftRadius:D?16:0,maxWidth:"45%",cursor:"pointer",marginBottom:4,boxShadow:"0 1px 2px rgba(0,0,0,0.2)",display:"flex",flexDirection:"column",wordBreak:"break-word",transition:"all 0.2s"},children:[g.jsx("div",{children:te.text}),te.edited&&g.jsx("div",{style:{fontSize:10,opacity:.6,marginTop:2},children:"edited"}),g.jsxs("div",{style:{fontSize:10,opacity:.7,display:"flex",alignItems:"center",justifyContent:"flex-end",gap:6,marginTop:4},children:[g.jsx("span",{children:we(te.timeStamp)}),D&&g.jsx("span",{children:te.seen?"":""})]})]}),V&&D&&g.jsxs("div",{style:{display:"flex",gap:8,marginTop:4},children:[g.jsx("button",{style:{fontSize:12,padding:"4px 10px",borderRadius:6,border:"none",background:"#fff",boxShadow:"0 1px 3px rgba(0,0,0,0.2)",cursor:"pointer",color:"#0084ff",transition:"all 0.2s"},onClick:L=>{L.stopPropagation(),o(te.text),v(te.id)},children:"Edit"}),g.jsx("button",{style:{fontSize:12,padding:"4px 10px",borderRadius:6,border:"none",background:"#fff",boxShadow:"0 1px 3px rgba(0,0,0,0.2)",cursor:"pointer",color:"#ff3b30",transition:"all 0.2s"},onClick:async L=>{L.stopPropagation(),window.confirm("Delete this message?")&&await aD(gr(mr,`Chats/${re.userId}_${O}/messages/${te.id}`),{deleted:!0})},children:"Delete"})]})]})},te.id)}),g.jsx("div",{ref:Oe})]}),g.jsxs("div",{style:{display:"flex",gap:"8px",paddingTop:"10px",borderTop:"1px solid #ddd"},children:[g.jsx("input",{value:i,onChange:be,onKeyDown:te=>te.key==="Enter"&&le(),placeholder:"Type a message...",style:{flex:1,padding:"12px 16px",borderRadius:"30px",border:"1px solid #ccc",outline:"none",background:"#fff"}}),g.jsx("button",{onClick:le,style:{background:"#0084ff",border:"none",color:"#fff",borderRadius:"50%",width:"45px",height:"45px",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",boxShadow:"0 2px 5px rgba(0,0,0,0.2)"},children:g.jsx(FW,{})})]})]}):g.jsx("p",{style:{color:"#555",textAlign:"center",marginTop:"50%"},children:"Select a user to start chatting..."})})]})}function eme(){const e=nl(),t=gi(),{studentId:n}=e.state||{},[r,i]=b.useState([]),[o,s]=b.useState(null),[a,l]=b.useState([]),[u,c]=b.useState(""),d=JSON.parse(localStorage.getItem("admin"))||{};b.useEffect(()=>{(async()=>{try{const m=await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Students.json"),v=await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Users.json"),y=m.data||{},w=v.data||{},_=Object.keys(y).map(S=>{const P=y[S],R=w[P.userId]||{};return{studentId:S,name:R.name||R.username||"No Name",profileImage:R.profileImage||"/default-profile.png"}});if(i(_),n){const S=_.find(P=>P.studentId===n);S&&s(S)}}catch(m){console.error("Error fetching students:",m)}})()},[n]),b.useEffect(()=>{(async()=>{if(o)try{const v=(await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/StudentMessages.json")).data||{},y=Object.values(v).filter(w=>w.studentId===o.studentId&&w.adminId===d.adminId||w.studentId===d.adminId&&w.adminId===o.studentId);l(y)}catch(m){console.error("Error fetching messages:",m)}})()},[o,d.adminId]);const f=async()=>{if(!u.trim()||!o)return;const p={studentId:o.studentId,adminId:d.adminId,content:u,timestamp:new Date().toISOString()};try{await z.post("https://ethiostore-17d9f-default-rtdb.firebaseio.com/StudentMessages.json",p),l(m=>[...m,p]),c("")}catch(m){console.error("Error sending message:",m)}};return g.jsxs("div",{style:{display:"flex",height:"100vh",background:"#f1f4f8"},children:[g.jsxs("div",{style:{width:"280px",background:"#fff",borderRight:"1px solid #ddd",overflowY:"auto"},children:[g.jsxs("div",{style:{padding:"15px",borderBottom:"1px solid #ddd",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[g.jsx("strong",{children:"Students"}),g.jsx("button",{onClick:()=>t("/students"),style:{cursor:"pointer",fontSize:"16px",background:"none",border:"none"},children:" Back"})]}),r.map(p=>g.jsxs("div",{onClick:()=>s(p),style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px",cursor:"pointer",background:(o==null?void 0:o.studentId)===p.studentId?"#e0e7ff":"#fff",borderBottom:"1px solid #eee"},children:[g.jsx("img",{src:p.profileImage,alt:p.name,style:{width:"40px",height:"40px",borderRadius:"50%"}}),g.jsx("span",{children:p.name})]},p.studentId))]}),g.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column"},children:o?g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{padding:"15px",borderBottom:"1px solid #ddd",display:"flex",alignItems:"center",gap:"15px"},children:[g.jsx("img",{src:o.profileImage,alt:o.name,style:{width:"50px",height:"50px",borderRadius:"50%"}}),g.jsx("strong",{children:o.name})]}),g.jsx("div",{style:{flex:1,padding:"15px",overflowY:"auto"},children:a.map((p,m)=>g.jsx("div",{style:{marginBottom:"10px",display:"flex",justifyContent:p.adminId===d.adminId?"flex-end":"flex-start"},children:g.jsx("div",{style:{background:p.adminId===d.adminId?"#4b6cb7":"#e0e7ff",color:p.adminId===d.adminId?"#fff":"#000",padding:"10px 15px",borderRadius:"12px",maxWidth:"70%"},children:p.content})},m))}),g.jsxs("div",{style:{display:"flex",padding:"15px",gap:"10px",borderTop:"1px solid #ddd"},children:[g.jsx("input",{type:"text",value:u,onChange:p=>c(p.target.value),placeholder:"Type a message...",style:{flex:1,padding:"10px",borderRadius:"8px",border:"1px solid #ccc"}}),g.jsx("button",{onClick:f,style:{background:"#4b6cb7",color:"#fff",padding:"10px 15px",borderRadius:"8px",border:"none",cursor:"pointer"},children:"Send"})]})]}):g.jsx("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center",color:"#555"},children:"Select a student to start chatting"})})]})}function V1(e,t){return V1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},V1(e,t)}function HB(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,V1(e,t)}function Me(){return Me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Me.apply(null,arguments)}function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function tme(e,t){if(kf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nme(e){var t=tme(e,"string");return kf(t)=="symbol"?t:t+""}function rme(e,t,n){return(t=nme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ak(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sk(Object(n),!0).forEach(function(r){rme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hr(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var lk=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),uk=function(){return Math.random().toString(36).substring(7).split("").join(".")},ck={INIT:"@@redux/INIT"+uk(),REPLACE:"@@redux/REPLACE"+uk()};function ime(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function qB(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(hr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(hr(1));return n(qB)(e,t)}if(typeof e!="function")throw new Error(hr(2));var i=e,o=t,s=[],a=s,l=!1;function u(){a===s&&(a=s.slice())}function c(){if(l)throw new Error(hr(3));return o}function d(v){if(typeof v!="function")throw new Error(hr(4));if(l)throw new Error(hr(5));var y=!0;return u(),a.push(v),function(){if(y){if(l)throw new Error(hr(6));y=!1,u();var _=a.indexOf(v);a.splice(_,1),s=null}}}function f(v){if(!ime(v))throw new Error(hr(7));if(typeof v.type>"u")throw new Error(hr(8));if(l)throw new Error(hr(9));try{l=!0,o=i(o,v)}finally{l=!1}for(var y=s=a,w=0;w<y.length;w++){var _=y[w];_()}return v}function p(v){if(typeof v!="function")throw new Error(hr(10));i=v,f({type:ck.REPLACE})}function m(){var v,y=d;return v={subscribe:function(_){if(typeof _!="object"||_===null)throw new Error(hr(11));function S(){_.next&&_.next(c())}S();var P=y(S);return{unsubscribe:P}}},v[lk]=function(){return this},v}return f({type:ck.INIT}),r={dispatch:f,subscribe:d,getState:c,replaceReducer:p},r[lk]=m,r}function dk(e,t){return function(){return t(e.apply(this,arguments))}}function fk(e,t){if(typeof e=="function")return dk(e,t);if(typeof e!="object"||e===null)throw new Error(hr(16));var n={};for(var r in e){var i=e[r];typeof i=="function"&&(n[r]=dk(i,t))}return n}function GB(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function ome(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(hr(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=t.map(function(l){return l(s)});return o=GB.apply(void 0,a)(i.dispatch),ak(ak({},i),{},{dispatch:o})}}}var KB=st.createContext(null);function sme(e){e()}var YB=sme,ame=function(t){return YB=t},lme=function(){return YB};function ume(){var e=lme(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e(function(){for(var i=t;i;)i.callback(),i=i.next})},get:function(){for(var i=[],o=t;o;)i.push(o),o=o.next;return i},subscribe:function(i){var o=!0,s=n={callback:i,next:null,prev:n};return s.prev?s.prev.next=s:t=s,function(){!o||t===null||(o=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var hk={notify:function(){},get:function(){return[]}};function QB(e,t){var n,r=hk;function i(d){return l(),r.subscribe(d)}function o(){r.notify()}function s(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function l(){n||(n=t?t.addNestedSub(s):e.subscribe(s),r=ume())}function u(){n&&(n(),n=void 0,r.clear(),r=hk)}var c={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:s,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:function(){return r}};return c}var XB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?b.useLayoutEffect:b.useEffect;function cme(e){var t=e.store,n=e.context,r=e.children,i=b.useMemo(function(){var a=QB(t);return{store:t,subscription:a}},[t]),o=b.useMemo(function(){return t.getState()},[t]);XB(function(){var a=i.subscription;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),o!==t.getState()&&a.notifyNestedSubs(),function(){a.tryUnsubscribe(),a.onStateChange=null}},[i,o]);var s=n||KB;return st.createElement(s.Provider,{value:i},r)}function rv(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var JB={exports:{}},vt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jn=typeof Symbol=="function"&&Symbol.for,KI=jn?Symbol.for("react.element"):60103,YI=jn?Symbol.for("react.portal"):60106,Zy=jn?Symbol.for("react.fragment"):60107,e0=jn?Symbol.for("react.strict_mode"):60108,t0=jn?Symbol.for("react.profiler"):60114,n0=jn?Symbol.for("react.provider"):60109,r0=jn?Symbol.for("react.context"):60110,QI=jn?Symbol.for("react.async_mode"):60111,i0=jn?Symbol.for("react.concurrent_mode"):60111,o0=jn?Symbol.for("react.forward_ref"):60112,s0=jn?Symbol.for("react.suspense"):60113,dme=jn?Symbol.for("react.suspense_list"):60120,a0=jn?Symbol.for("react.memo"):60115,l0=jn?Symbol.for("react.lazy"):60116,fme=jn?Symbol.for("react.block"):60121,hme=jn?Symbol.for("react.fundamental"):60117,pme=jn?Symbol.for("react.responder"):60118,gme=jn?Symbol.for("react.scope"):60119;function Yr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case KI:switch(e=e.type,e){case QI:case i0:case Zy:case t0:case e0:case s0:return e;default:switch(e=e&&e.$$typeof,e){case r0:case o0:case l0:case a0:case n0:return e;default:return t}}case YI:return t}}}function ZB(e){return Yr(e)===i0}vt.AsyncMode=QI;vt.ConcurrentMode=i0;vt.ContextConsumer=r0;vt.ContextProvider=n0;vt.Element=KI;vt.ForwardRef=o0;vt.Fragment=Zy;vt.Lazy=l0;vt.Memo=a0;vt.Portal=YI;vt.Profiler=t0;vt.StrictMode=e0;vt.Suspense=s0;vt.isAsyncMode=function(e){return ZB(e)||Yr(e)===QI};vt.isConcurrentMode=ZB;vt.isContextConsumer=function(e){return Yr(e)===r0};vt.isContextProvider=function(e){return Yr(e)===n0};vt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===KI};vt.isForwardRef=function(e){return Yr(e)===o0};vt.isFragment=function(e){return Yr(e)===Zy};vt.isLazy=function(e){return Yr(e)===l0};vt.isMemo=function(e){return Yr(e)===a0};vt.isPortal=function(e){return Yr(e)===YI};vt.isProfiler=function(e){return Yr(e)===t0};vt.isStrictMode=function(e){return Yr(e)===e0};vt.isSuspense=function(e){return Yr(e)===s0};vt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Zy||e===i0||e===t0||e===e0||e===s0||e===dme||typeof e=="object"&&e!==null&&(e.$$typeof===l0||e.$$typeof===a0||e.$$typeof===n0||e.$$typeof===r0||e.$$typeof===o0||e.$$typeof===hme||e.$$typeof===pme||e.$$typeof===gme||e.$$typeof===fme)};vt.typeOf=Yr;JB.exports=vt;var mme=JB.exports,XI=mme,vme={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},yme={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},bme={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},e9={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},JI={};JI[XI.ForwardRef]=bme;JI[XI.Memo]=e9;function pk(e){return XI.isMemo(e)?e9:JI[e.$$typeof]||vme}var xme=Object.defineProperty,wme=Object.getOwnPropertyNames,gk=Object.getOwnPropertySymbols,_me=Object.getOwnPropertyDescriptor,Sme=Object.getPrototypeOf,mk=Object.prototype;function t9(e,t,n){if(typeof t!="string"){if(mk){var r=Sme(t);r&&r!==mk&&t9(e,r,n)}var i=wme(t);gk&&(i=i.concat(gk(t)));for(var o=pk(e),s=pk(t),a=0;a<i.length;++a){var l=i[a];if(!yme[l]&&!(n&&n[l])&&!(s&&s[l])&&!(o&&o[l])){var u=_me(t,l);try{xme(e,l,u)}catch{}}}}return e}var Eme=t9;const vk=ji(Eme);var Ime=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Cme=["reactReduxForwardedRef"],Pme=[],Tme=[null,null];function Ame(e,t){var n=e[1];return[t.payload,n+1]}function yk(e,t,n){XB(function(){return e.apply(void 0,t)},n)}function Ome(e,t,n,r,i,o,s){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,s())}function Rme(e,t,n,r,i,o,s,a,l,u){if(e){var c=!1,d=null,f=function(){if(!c){var v=t.getState(),y,w;try{y=r(v,i.current)}catch(_){w=_,d=_}w||(d=null),y===o.current?s.current||l():(o.current=y,a.current=y,s.current=!0,u({type:"STORE_UPDATED",payload:{error:w}}))}};n.onStateChange=f,n.trySubscribe(),f();var p=function(){if(c=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d};return p}}var Dme=function(){return[null,0]};function kme(e,t){t===void 0&&(t={});var n=t,r=n.getDisplayName,i=r===void 0?function(S){return"ConnectAdvanced("+S+")"}:r,o=n.methodName,s=o===void 0?"connectAdvanced":o,a=n.renderCountProp,l=a===void 0?void 0:a,u=n.shouldHandleStateChanges,c=u===void 0?!0:u,d=n.storeKey,f=d===void 0?"store":d;n.withRef;var p=n.forwardRef,m=p===void 0?!1:p,v=n.context,y=v===void 0?KB:v,w=rv(n,Ime),_=y;return function(P){var R=P.displayName||P.name||"Component",M=i(R),C=Me({},w,{getDisplayName:i,methodName:s,renderCountProp:l,shouldHandleStateChanges:c,storeKey:f,displayName:M,wrappedComponentName:R,WrappedComponent:P}),I=w.pure;function T(ee){return e(ee.dispatch,C)}var k=I?b.useMemo:function(ee){return ee()};function A(ee){var re=b.useMemo(function(){var xe=ee.reactReduxForwardedRef,ze=rv(ee,Cme);return[ee.context,xe,ze]},[ee]),pe=re[0],Oe=re[1],F=re[2],Q=b.useMemo(function(){return pe&&pe.Consumer&&O5.isContextConsumer(st.createElement(pe.Consumer,null))?pe:_},[pe,_]),le=b.useContext(Q),be=!!ee.store&&!!ee.store.getState&&!!ee.store.dispatch;le&&le.store;var we=be?ee.store:le.store,X=b.useMemo(function(){return T(we)},[we]),ie=b.useMemo(function(){if(!c)return Tme;var xe=QB(we,be?null:le.subscription),ze=xe.notifyNestedSubs.bind(xe);return[xe,ze]},[we,be,le]),Ie=ie[0],te=ie[1],D=b.useMemo(function(){return be?le:Me({},le,{subscription:Ie})},[be,le,Ie]),V=b.useReducer(Ame,Pme,Dme),L=V[0],J=L[0],Z=V[1];if(J&&J.error)throw J.error;var $=b.useRef(),B=b.useRef(F),W=b.useRef(),ae=b.useRef(!1),ne=k(function(){return W.current&&F===B.current?W.current:X(we.getState(),F)},[we,J,F]);yk(Ome,[B,$,ae,F,ne,W,te]),yk(Rme,[c,we,Ie,X,B,$,ae,W,te,Z],[we,Ie,X]);var ce=b.useMemo(function(){return st.createElement(P,Me({},ne,{ref:Oe}))},[Oe,P,ne]),he=b.useMemo(function(){return c?st.createElement(Q.Provider,{value:D},ce):ce},[Q,ce,D]);return he}var j=I?st.memo(A):A;if(j.WrappedComponent=P,j.displayName=A.displayName=M,m){var O=st.forwardRef(function(re,pe){return st.createElement(j,Me({},re,{reactReduxForwardedRef:pe}))});return O.displayName=M,O.WrappedComponent=P,vk(O,P)}return vk(j,P)}}function bk(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Xb(e,t){if(bk(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!bk(e[n[i]],t[n[i]]))return!1;return!0}function Nme(e,t){var n={},r=function(s){var a=e[s];typeof a=="function"&&(n[s]=function(){return t(a.apply(void 0,arguments))})};for(var i in e)r(i);return n}function ZI(e){return function(n,r){var i=e(n,r);function o(){return i}return o.dependsOnOwnProps=!1,o}}function xk(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function n9(e,t){return function(r,i){i.displayName;var o=function(a,l){return o.dependsOnOwnProps?o.mapToProps(a,l):o.mapToProps(a)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,l){o.mapToProps=e,o.dependsOnOwnProps=xk(e);var u=o(a,l);return typeof u=="function"&&(o.mapToProps=u,o.dependsOnOwnProps=xk(u),u=o(a,l)),u},o}}function jme(e){return typeof e=="function"?n9(e):void 0}function Mme(e){return e?void 0:ZI(function(t){return{dispatch:t}})}function Lme(e){return e&&typeof e=="object"?ZI(function(t){return Nme(e,t)}):void 0}const Fme=[jme,Mme,Lme];function $me(e){return typeof e=="function"?n9(e):void 0}function Bme(e){return e?void 0:ZI(function(){return{}})}const Vme=[$me,Bme];function Ume(e,t,n){return Me({},n,e,t)}function zme(e){return function(n,r){r.displayName;var i=r.pure,o=r.areMergedPropsEqual,s=!1,a;return function(u,c,d){var f=e(u,c,d);return s?(!i||!o(f,a))&&(a=f):(s=!0,a=f),a}}}function Wme(e){return typeof e=="function"?zme(e):void 0}function Hme(e){return e?void 0:function(){return Ume}}const qme=[Wme,Hme];var Gme=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Kme(e,t,n,r){return function(o,s){return n(e(o,s),t(r,s),s)}}function Yme(e,t,n,r,i){var o=i.areStatesEqual,s=i.areOwnPropsEqual,a=i.areStatePropsEqual,l=!1,u,c,d,f,p;function m(S,P){return u=S,c=P,d=e(u,c),f=t(r,c),p=n(d,f,c),l=!0,p}function v(){return d=e(u,c),t.dependsOnOwnProps&&(f=t(r,c)),p=n(d,f,c),p}function y(){return e.dependsOnOwnProps&&(d=e(u,c)),t.dependsOnOwnProps&&(f=t(r,c)),p=n(d,f,c),p}function w(){var S=e(u,c),P=!a(S,d);return d=S,P&&(p=n(d,f,c)),p}function _(S,P){var R=!s(P,c),M=!o(S,u,P,c);return u=S,c=P,R&&M?v():R?y():M?w():p}return function(P,R){return l?_(P,R):m(P,R)}}function Qme(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=rv(t,Gme),s=n(e,o),a=r(e,o),l=i(e,o),u=o.pure?Yme:Kme;return u(s,a,l,e,o)}var Xme=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Jb(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(o,s){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+s.wrappedComponentName+".")}}function Jme(e,t){return e===t}function Zme(e){var t=e===void 0?{}:e,n=t.connectHOC,r=n===void 0?kme:n,i=t.mapStateToPropsFactories,o=i===void 0?Vme:i,s=t.mapDispatchToPropsFactories,a=s===void 0?Fme:s,l=t.mergePropsFactories,u=l===void 0?qme:l,c=t.selectorFactory,d=c===void 0?Qme:c;return function(p,m,v,y){y===void 0&&(y={});var w=y,_=w.pure,S=_===void 0?!0:_,P=w.areStatesEqual,R=P===void 0?Jme:P,M=w.areOwnPropsEqual,C=M===void 0?Xb:M,I=w.areStatePropsEqual,T=I===void 0?Xb:I,k=w.areMergedPropsEqual,A=k===void 0?Xb:k,j=rv(w,Xme),O=Jb(p,o,"mapStateToProps"),ee=Jb(m,a,"mapDispatchToProps"),re=Jb(v,u,"mergeProps");return r(d,Me({methodName:"connect",getDisplayName:function(Oe){return"Connect("+Oe+")"},shouldHandleStateChanges:!!p,initMapStateToProps:O,initMapDispatchToProps:ee,initMergeProps:re,pure:S,areStatesEqual:R,areOwnPropsEqual:C,areStatePropsEqual:T,areMergedPropsEqual:A},j))}}const r9=Zme();ame(Wf.unstable_batchedUpdates);function eve(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function i9(e,t){var n=b.useState(function(){return{inputs:t,result:e()}})[0],r=b.useRef(!0),i=b.useRef(n),o=r.current||!!(t&&i.current.inputs&&eve(t,i.current.inputs)),s=o?i.current:{inputs:t,result:e()};return b.useEffect(function(){r.current=!1,i.current=s},[s]),s.result}function tve(e,t){return i9(function(){return e},t)}var ut=i9,ke=tve,Ti=function(t){var n=t.top,r=t.right,i=t.bottom,o=t.left,s=r-o,a=i-n,l={top:n,right:r,bottom:i,left:o,width:s,height:a,x:o,y:n,center:{x:(r+o)/2,y:(i+n)/2}};return l},eC=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},wk=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},nve=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},Zb={top:0,right:0,bottom:0,left:0},tC=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?Zb:r,o=t.border,s=o===void 0?Zb:o,a=t.padding,l=a===void 0?Zb:a,u=Ti(eC(n,i)),c=Ti(wk(n,s)),d=Ti(wk(c,l));return{marginBox:u,borderBox:Ti(n),paddingBox:c,contentBox:d,margin:i,border:s,padding:l}},Jr=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&eae(),i},rve=function(){return{x:window.pageXOffset,y:window.pageYOffset}},iv=function(t,n){var r=t.borderBox,i=t.border,o=t.margin,s=t.padding,a=nve(r,n);return tC({borderBox:a,border:i,margin:o,padding:s})},ov=function(t,n){return n===void 0&&(n=rve()),iv(t,n)},o9=function(t,n){var r={top:Jr(n.marginTop),right:Jr(n.marginRight),bottom:Jr(n.marginBottom),left:Jr(n.marginLeft)},i={top:Jr(n.paddingTop),right:Jr(n.paddingRight),bottom:Jr(n.paddingBottom),left:Jr(n.paddingLeft)},o={top:Jr(n.borderTopWidth),right:Jr(n.borderRightWidth),bottom:Jr(n.borderBottomWidth),left:Jr(n.borderLeftWidth)};return tC({borderBox:t,margin:r,padding:i,border:o})},s9=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return o9(n,r)},_k=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function ive(e,t){return!!(e===t||_k(e)&&_k(t))}function ove(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!ive(e[n],t[n]))return!1;return!0}function Rn(e,t){t===void 0&&(t=ove);var n,r=[],i,o=!1;function s(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return o&&n===this&&t(a,r)||(i=e.apply(this,a),o=!0,n=this,r=a),i}return s}var Nf=function(t){var n=[],r=null,i=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];n=a,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function a9(e,t){}a9.bind(null,"warn");a9.bind(null,"error");function Ts(){}function sve(e,t){return Me({},e,{},t)}function si(e,t,n){var r=t.map(function(i){var o=sve(n,i.options);return e.addEventListener(i.eventName,i.fn,o),function(){e.removeEventListener(i.eventName,i.fn,o)}});return function(){r.forEach(function(o){o()})}}var ave="Invariant failed";function sv(e){this.message=e}sv.prototype.toString=function(){return this.message};function me(e,t){throw new sv(ave)}var lve=function(e){HB(t,e);function t(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o))||this,r.callbacks=null,r.unbind=Ts,r.onWindowError=function(a){var l=r.getCallbacks();l.isDragging()&&l.tryAbort();var u=a.error;u instanceof sv&&a.preventDefault()},r.getCallbacks=function(){if(!r.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return r.callbacks},r.setCallbacks=function(a){r.callbacks=a},r}var n=t.prototype;return n.componentDidMount=function(){this.unbind=si(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(i){if(i instanceof sv){this.setState({});return}throw i},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(st.Component),uve=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,av=function(t){return t+1},cve=function(t){return`
  You have lifted an item in position `+av(t.source.index)+`
`},l9=function(t,n){var r=t.droppableId===n.droppableId,i=av(t.index),o=av(n.index);return r?`
      You have moved the item from position `+i+`
      to position `+o+`
    `:`
    You have moved the item from position `+i+`
    in list `+t.droppableId+`
    to list `+n.droppableId+`
    in position `+o+`
  `},u9=function(t,n,r){var i=n.droppableId===r.droppableId;return i?`
      The item `+t+`
      has been combined with `+r.draggableId:`
      The item `+t+`
      in list `+n.droppableId+`
      has been combined with `+r.draggableId+`
      in list `+r.droppableId+`
    `},dve=function(t){var n=t.destination;if(n)return l9(t.source,n);var r=t.combine;return r?u9(t.draggableId,t.source,r):"You are over an area that cannot be dropped on"},Sk=function(t){return`
  The item has returned to its starting position
  of `+av(t.index)+`
`},fve=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+Sk(t.source)+`
    `;var n=t.destination,r=t.combine;return n?`
      You have dropped the item.
      `+l9(t.source,n)+`
    `:r?`
      You have dropped the item.
      `+u9(t.draggableId,t.source,r)+`
    `:`
    The item has been dropped while not over a drop area.
    `+Sk(t.source)+`
  `},yg={dragHandleUsageInstructions:uve,onDragStart:cve,onDragUpdate:dve,onDragEnd:fve},Dn={x:0,y:0},Un=function(t,n){return{x:t.x+n.x,y:t.y+n.y}},Lr=function(t,n){return{x:t.x-n.x,y:t.y-n.y}},As=function(t,n){return t.x===n.x&&t.y===n.y},cc=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},Xa=function(t,n,r){var i;return r===void 0&&(r=0),i={},i[t]=n,i[t==="x"?"y":"x"]=r,i},jf=function(t,n){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))},Ek=function(t,n){return Math.min.apply(Math,n.map(function(r){return jf(t,r)}))},c9=function(t){return function(n){return{x:t(n.x),y:t(n.y)}}},hve=function(e,t){var n=Ti({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n},Bh=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},Ik=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},pve={top:0,right:0,bottom:0,left:0},gve=function(t,n){return n?Bh(t,n.scroll.diff.displacement):t},mve=function(t,n,r){if(r&&r.increasedBy){var i;return Me({},t,(i={},i[n.end]=t[n.end]+r.increasedBy[n.line],i))}return t},vve=function(t,n){return n&&n.shouldClipSubject?hve(n.pageMarginBox,t):Ti(t)},Fu=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,i=e.frame,o=gve(t.marginBox,i),s=mve(o,r,n),a=vve(s,i);return{page:t,withPlaceholder:n,active:a}},nC=function(e,t){e.frame||me();var n=e.frame,r=Lr(t,n.scroll.initial),i=cc(r),o=Me({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}}),s=Fu({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o}),a=Me({},e,{frame:o,subject:s});return a};function lv(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function rC(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function ra(e,t){if(e.find)return e.find(t);var n=rC(e,t);if(n!==-1)return e[n]}function d9(e){return Array.prototype.slice.call(e)}var f9=Rn(function(e){return e.reduce(function(t,n){return t[n.descriptor.id]=n,t},{})}),h9=Rn(function(e){return e.reduce(function(t,n){return t[n.descriptor.id]=n,t},{})}),u0=Rn(function(e){return lv(e)}),yve=Rn(function(e){return lv(e)}),dc=Rn(function(e,t){var n=yve(t).filter(function(r){return e===r.descriptor.droppableId}).sort(function(r,i){return r.descriptor.index-i.descriptor.index});return n});function iC(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function c0(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var d0=Rn(function(e,t){return t.filter(function(n){return n.descriptor.id!==e.descriptor.id})}),bve=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.previousImpact;if(!r.isCombineEnabled)return null;var s=iC(o);if(!s)return null;function a(v){var y={type:"COMBINE",combine:{draggableId:v,droppableId:r.descriptor.id}};return Me({},o,{at:y})}var l=o.displaced.all,u=l.length?l[0]:null;if(t)return u?a(u):null;var c=d0(n,i);if(!u){if(!c.length)return null;var d=c[c.length-1];return a(d.descriptor.id)}var f=rC(c,function(v){return v.descriptor.id===u});f===-1&&me();var p=f-1;if(p<0)return null;var m=c[p];return a(m.descriptor.id)},fc=function(e,t){return e.descriptor.droppableId===t.descriptor.id},p9={point:Dn,value:0},Mf={invisible:{},visible:{},all:[]},xve={displaced:Mf,displacedBy:p9,at:null},li=function(e,t){return function(n){return e<=n&&n<=t}},g9=function(e){var t=li(e.top,e.bottom),n=li(e.left,e.right);return function(r){var i=t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right);if(i)return!0;var o=t(r.top)||t(r.bottom),s=n(r.left)||n(r.right),a=o&&s;if(a)return!0;var l=r.top<e.top&&r.bottom>e.bottom,u=r.left<e.left&&r.right>e.right,c=l&&u;if(c)return!0;var d=l&&s||u&&o;return d}},wve=function(e){var t=li(e.top,e.bottom),n=li(e.left,e.right);return function(r){var i=t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right);return i}},oC={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},m9={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},_ve=function(e){return function(t){var n=li(t.top,t.bottom),r=li(t.left,t.right);return function(i){return e===oC?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)}}},Sve=function(t,n){var r=n.frame?n.frame.scroll.diff.displacement:Dn;return Bh(t,r)},Eve=function(t,n,r){return n.subject.active?r(n.subject.active)(t):!1},Ive=function(t,n,r){return r(n)(t)},sC=function(t){var n=t.target,r=t.destination,i=t.viewport,o=t.withDroppableDisplacement,s=t.isVisibleThroughFrameFn,a=o?Sve(n,r):n;return Eve(a,r,s)&&Ive(a,i,s)},Cve=function(t){return sC(Me({},t,{isVisibleThroughFrameFn:g9}))},v9=function(t){return sC(Me({},t,{isVisibleThroughFrameFn:wve}))},Pve=function(t){return sC(Me({},t,{isVisibleThroughFrameFn:_ve(t.destination.axis)}))},Tve=function(t,n,r){if(typeof r=="boolean")return r;if(!n)return!0;var i=n.invisible,o=n.visible;if(i[t])return!1;var s=o[t];return s?s.shouldAnimate:!0};function Ave(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Ti(eC(n,r))}function Lf(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,i=e.viewport,o=e.forceShouldAnimate,s=e.last;return t.reduce(function(l,u){var c=Ave(u,r),d=u.descriptor.id;l.all.push(d);var f=Cve({target:c,destination:n,viewport:i,withDroppableDisplacement:!0});if(!f)return l.invisible[u.descriptor.id]=!0,l;var p=Tve(d,s,o),m={draggableId:d,shouldAnimate:p};return l.visible[d]=m,l},{all:[],visible:{},invisible:{}})}function Ove(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function Ck(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,i=e.destination,o=Ove(t,{inHomeList:n});return{displaced:Mf,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function uv(e){var t=e.draggable,n=e.insideDestination,r=e.destination,i=e.viewport,o=e.displacedBy,s=e.last,a=e.index,l=e.forceShouldAnimate,u=fc(t,r);if(a==null)return Ck({insideDestination:n,inHomeList:u,displacedBy:o,destination:r});var c=ra(n,function(v){return v.descriptor.index===a});if(!c)return Ck({insideDestination:n,inHomeList:u,displacedBy:o,destination:r});var d=d0(t,n),f=n.indexOf(c),p=d.slice(f),m=Lf({afterDragging:p,destination:r,displacedBy:o,last:s,viewport:i.frame,forceShouldAnimate:l});return{displaced:m,displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:a}}}}function qs(e,t){return!!t.effected[e]}var Rve=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,i=e.combine,o=e.afterCritical;if(!n.isCombineEnabled)return null;var s=i.draggableId,a=r[s],l=a.descriptor.index,u=qs(s,o);return u?t?l:l-1:t?l+1:l},Dve=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,i=e.location;if(!r.length)return null;var o=i.index,s=t?o+1:o-1,a=r[0].descriptor.index,l=r[r.length-1].descriptor.index,u=n?l:l+1;return s<a||s>u?null:s},kve=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,i=e.draggables,o=e.destination,s=e.insideDestination,a=e.previousImpact,l=e.viewport,u=e.afterCritical,c=a.at;if(c||me(),c.type==="REORDER"){var d=Dve({isMovingForward:t,isInHomeList:n,location:c.destination,insideDestination:s});return d==null?null:uv({draggable:r,insideDestination:s,destination:o,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:d})}var f=Rve({isMovingForward:t,destination:o,displaced:a.displaced,draggables:i,combine:c.combine,afterCritical:u});return f==null?null:uv({draggable:r,insideDestination:s,destination:o,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:f})},Nve=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,i=e.displacedBy,o=!!(t.visible[r]||t.invisible[r]);return qs(r,n)?o?Dn:cc(i.point):o?i.point:Dn},jve=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,i=c0(n);i||me();var o=i.draggableId,s=r[o].page.borderBox.center,a=Nve({displaced:n.displaced,afterCritical:t,combineWith:o,displacedBy:n.displacedBy});return Un(s,a)},y9=function(t,n){return n.margin[t.start]+n.borderBox[t.size]/2},Mve=function(t,n){return n.margin[t.end]+n.borderBox[t.size]/2},aC=function(t,n,r){return n[t.crossAxisStart]+r.margin[t.crossAxisStart]+r.borderBox[t.crossAxisSize]/2},Pk=function(t){var n=t.axis,r=t.moveRelativeTo,i=t.isMoving;return Xa(n.line,r.marginBox[n.end]+y9(n,i),aC(n,r.marginBox,i))},Tk=function(t){var n=t.axis,r=t.moveRelativeTo,i=t.isMoving;return Xa(n.line,r.marginBox[n.start]-Mve(n,i),aC(n,r.marginBox,i))},Lve=function(t){var n=t.axis,r=t.moveInto,i=t.isMoving;return Xa(n.line,r.contentBox[n.start]+y9(n,i),aC(n,r.contentBox,i))},Fve=function(e){var t=e.impact,n=e.draggable,r=e.draggables,i=e.droppable,o=e.afterCritical,s=dc(i.descriptor.id,r),a=n.page,l=i.axis;if(!s.length)return Lve({axis:l,moveInto:i.page,isMoving:a});var u=t.displaced,c=t.displacedBy,d=u.all[0];if(d){var f=r[d];if(qs(d,o))return Tk({axis:l,moveRelativeTo:f.page,isMoving:a});var p=iv(f.page,c.point);return Tk({axis:l,moveRelativeTo:p,isMoving:a})}var m=s[s.length-1];if(m.descriptor.id===n.descriptor.id)return a.borderBox.center;if(qs(m.descriptor.id,o)){var v=iv(m.page,cc(o.displacedBy.point));return Pk({axis:l,moveRelativeTo:v,isMoving:a})}return Pk({axis:l,moveRelativeTo:m.page,isMoving:a})},U1=function(e,t){var n=e.frame;return n?Un(t,n.scroll.diff.displacement):t},$ve=function(t){var n=t.impact,r=t.draggable,i=t.droppable,o=t.draggables,s=t.afterCritical,a=r.page.borderBox.center,l=n.at;return!i||!l?a:l.type==="REORDER"?Fve({impact:n,draggable:r,draggables:o,droppable:i,afterCritical:s}):jve({impact:n,draggables:o,afterCritical:s})},f0=function(e){var t=$ve(e),n=e.droppable,r=n?U1(n,t):t;return r},b9=function(e,t){var n=Lr(t,e.scroll.initial),r=cc(n),i=Ti({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),o={frame:i,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}};return o};function Ak(e,t){return e.map(function(n){return t[n]})}function Bve(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}var Vve=function(e){var t=e.impact,n=e.viewport,r=e.destination,i=e.draggables,o=e.maxScrollChange,s=b9(n,Un(n.scroll.current,o)),a=r.frame?nC(r,Un(r.frame.scroll.current,o)):r,l=t.displaced,u=Lf({afterDragging:Ak(l.all,i),destination:r,displacedBy:t.displacedBy,viewport:s.frame,last:l,forceShouldAnimate:!1}),c=Lf({afterDragging:Ak(l.all,i),destination:a,displacedBy:t.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),d={},f={},p=[l,u,c];l.all.forEach(function(v){var y=Bve(v,p);if(y){f[v]=y;return}d[v]=!0});var m=Me({},t,{displaced:{all:l.all,invisible:d,visible:f}});return m},Uve=function(e,t){return Un(e.scroll.diff.displacement,t)},lC=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=e.viewport,i=Uve(r,t),o=Lr(i,n.page.borderBox.center);return Un(n.client.borderBox.center,o)},x9=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,i=e.viewport,o=e.withDroppableDisplacement,s=e.onlyOnMainAxis,a=s===void 0?!1:s,l=Lr(r,t.page.borderBox.center),u=Bh(t.page.borderBox,l),c={target:u,destination:n,withDroppableDisplacement:o,viewport:i};return a?Pve(c):v9(c)},zve=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.draggables,o=e.previousImpact,s=e.viewport,a=e.previousPageBorderBoxCenter,l=e.previousClientSelection,u=e.afterCritical;if(!r.isEnabled)return null;var c=dc(r.descriptor.id,i),d=fc(n,r),f=bve({isMovingForward:t,draggable:n,destination:r,insideDestination:c,previousImpact:o})||kve({isMovingForward:t,isInHomeList:d,draggable:n,draggables:i,destination:r,insideDestination:c,previousImpact:o,viewport:s,afterCritical:u});if(!f)return null;var p=f0({impact:f,draggable:n,droppable:r,draggables:i,afterCritical:u}),m=x9({draggable:n,destination:r,newPageBorderBoxCenter:p,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(m){var v=lC({pageBorderBoxCenter:p,draggable:n,viewport:s});return{clientSelection:v,impact:f,scrollJumpRequest:null}}var y=Lr(p,a),w=Vve({impact:f,viewport:s,destination:r,draggables:i,maxScrollChange:y});return{clientSelection:l,impact:w,scrollJumpRequest:y}},rr=function(t){var n=t.subject.active;return n||me(),n},Wve=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,i=e.droppables,o=e.viewport,s=r.subject.active;if(!s)return null;var a=r.axis,l=li(s[a.start],s[a.end]),u=u0(i).filter(function(d){return d!==r}).filter(function(d){return d.isEnabled}).filter(function(d){return!!d.subject.active}).filter(function(d){return g9(o.frame)(rr(d))}).filter(function(d){var f=rr(d);return t?s[a.crossAxisEnd]<f[a.crossAxisEnd]:f[a.crossAxisStart]<s[a.crossAxisStart]}).filter(function(d){var f=rr(d),p=li(f[a.start],f[a.end]);return l(f[a.start])||l(f[a.end])||p(s[a.start])||p(s[a.end])}).sort(function(d,f){var p=rr(d)[a.crossAxisStart],m=rr(f)[a.crossAxisStart];return t?p-m:m-p}).filter(function(d,f,p){return rr(d)[a.crossAxisStart]===rr(p[0])[a.crossAxisStart]});if(!u.length)return null;if(u.length===1)return u[0];var c=u.filter(function(d){var f=li(rr(d)[a.start],rr(d)[a.end]);return f(n[a.line])});return c.length===1?c[0]:c.length>1?c.sort(function(d,f){return rr(d)[a.start]-rr(f)[a.start]})[0]:u.sort(function(d,f){var p=Ek(n,Ik(rr(d))),m=Ek(n,Ik(rr(f)));return p!==m?p-m:rr(d)[a.start]-rr(f)[a.start]})[0]},Ok=function(t,n){var r=t.page.borderBox.center;return qs(t.descriptor.id,n)?Lr(r,n.displacedBy.point):r},Hve=function(t,n){var r=t.page.borderBox;return qs(t.descriptor.id,n)?Bh(r,cc(n.displacedBy.point)):r},qve=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,i=e.insideDestination,o=e.afterCritical,s=i.filter(function(a){return v9({target:Hve(a,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(a,l){var u=jf(t,U1(r,Ok(a,o))),c=jf(t,U1(r,Ok(l,o)));return u<c?-1:c<u?1:a.descriptor.index-l.descriptor.index});return s[0]||null},Vh=Rn(function(t,n){var r=n[t.line];return{value:r,point:Xa(t.line,r)}}),Gve=function(t,n,r){var i=t.axis;if(t.descriptor.mode==="virtual")return Xa(i.line,n[i.line]);var o=t.subject.page.contentBox[i.size],s=dc(t.descriptor.id,r),a=s.reduce(function(c,d){return c+d.client.marginBox[i.size]},0),l=a+n[i.line],u=l-o;return u<=0?null:Xa(i.line,u)},w9=function(t,n){return Me({},t,{scroll:Me({},t.scroll,{max:n})})},_9=function(t,n,r){var i=t.frame;fc(n,t)&&me(),t.subject.withPlaceholder&&me();var o=Vh(t.axis,n.displaceBy).point,s=Gve(t,o,r),a={placeholderSize:o,increasedBy:s,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!i){var l=Fu({page:t.subject.page,withPlaceholder:a,axis:t.axis,frame:t.frame});return Me({},t,{subject:l})}var u=s?Un(i.scroll.max,s):i.scroll.max,c=w9(i,u),d=Fu({page:t.subject.page,withPlaceholder:a,axis:t.axis,frame:c});return Me({},t,{subject:d,frame:c})},Kve=function(t){var n=t.subject.withPlaceholder;n||me();var r=t.frame;if(!r){var i=Fu({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return Me({},t,{subject:i})}var o=n.oldFrameMaxScroll;o||me();var s=w9(r,o),a=Fu({page:t.subject.page,axis:t.axis,frame:s,withPlaceholder:null});return Me({},t,{subject:a,frame:s})},Yve=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,i=e.draggable,o=e.draggables,s=e.destination,a=e.viewport,l=e.afterCritical;if(!n){if(r.length)return null;var u={displaced:Mf,displacedBy:p9,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},c=f0({impact:u,draggable:i,droppable:s,draggables:o,afterCritical:l}),d=fc(i,s)?s:_9(s,i,o),f=x9({draggable:i,destination:d,newPageBorderBoxCenter:c,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return f?u:null}var p=t[s.axis.line]<=n.page.borderBox.center[s.axis.line],m=function(){var y=n.descriptor.index;return n.descriptor.id===i.descriptor.id||p?y:y+1}(),v=Vh(s.axis,i.displaceBy);return uv({draggable:i,insideDestination:r,destination:s,viewport:a,displacedBy:v,last:Mf,index:m})},Qve=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,i=e.isOver,o=e.draggables,s=e.droppables,a=e.viewport,l=e.afterCritical,u=Wve({isMovingForward:t,pageBorderBoxCenter:n,source:i,droppables:s,viewport:a});if(!u)return null;var c=dc(u.descriptor.id,o),d=qve({pageBorderBoxCenter:n,viewport:a,destination:u,insideDestination:c,afterCritical:l}),f=Yve({previousPageBorderBoxCenter:n,destination:u,draggable:r,draggables:o,moveRelativeTo:d,insideDestination:c,viewport:a,afterCritical:l});if(!f)return null;var p=f0({impact:f,draggable:r,droppable:u,draggables:o,afterCritical:l}),m=lC({pageBorderBoxCenter:p,draggable:r,viewport:a});return{clientSelection:m,impact:f,scrollJumpRequest:null}},Vr=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},Xve=function(t,n){var r=Vr(t);return r?n[r]:null},Jve=function(e){var t=e.state,n=e.type,r=Xve(t.impact,t.dimensions.droppables),i=!!r,o=t.dimensions.droppables[t.critical.droppable.id],s=r||o,a=s.axis.direction,l=a==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||a==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(l&&!i)return null;var u=n==="MOVE_DOWN"||n==="MOVE_RIGHT",c=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,f=t.dimensions,p=f.draggables,m=f.droppables;return l?zve({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:c,destination:s,draggables:p,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Qve({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:c,isOver:s,draggables:p,droppables:m,viewport:t.viewport,afterCritical:t.afterCritical})};function va(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function S9(e){var t=li(e.top,e.bottom),n=li(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function Zve(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function eye(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,i=n.page.borderBox.center,o=r.map(function(s){var a=s.axis,l=Xa(s.axis.line,t.center[a.line],s.page.borderBox.center[a.crossAxisLine]);return{id:s.descriptor.id,distance:jf(i,l)}}).sort(function(s,a){return a.distance-s.distance});return o[0]?o[0].id:null}function tye(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,i=u0(r).filter(function(o){if(!o.isEnabled)return!1;var s=o.subject.active;if(!s||!Zve(t,s))return!1;if(S9(s)(t.center))return!0;var a=o.axis,l=s.center[a.crossAxisLine],u=t[a.crossAxisStart],c=t[a.crossAxisEnd],d=li(s[a.crossAxisStart],s[a.crossAxisEnd]),f=d(u),p=d(c);return!f&&!p?!0:f?u<l:c>l});return i.length?i.length===1?i[0].descriptor.id:eye({pageBorderBox:t,draggable:n,candidates:i}):null}var E9=function(t,n){return Ti(Bh(t,n))},nye=function(e,t){var n=e.frame;return n?E9(t,n.scroll.diff.value):t};function I9(e){var t=e.displaced,n=e.id;return!!(t.visible[n]||t.invisible[n])}function rye(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var iye=function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.last,s=e.viewport,a=e.afterCritical,l=r.axis,u=Vh(r.axis,n.displaceBy),c=u.value,d=t[l.start],f=t[l.end],p=d0(n,i),m=ra(p,function(y){var w=y.descriptor.id,_=y.page.borderBox.center[l.line],S=qs(w,a),P=I9({displaced:o,id:w});return S?P?f<=_:d<_-c:P?f<=_+c:d<_}),v=rye({draggable:n,closest:m,inHomeList:fc(n,r)});return uv({draggable:n,insideDestination:i,destination:r,viewport:s,last:o,displacedBy:u,index:v})},oye=4,sye=function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,i=e.destination,o=e.insideDestination,s=e.afterCritical;if(!i.isCombineEnabled)return null;var a=i.axis,l=Vh(i.axis,t.displaceBy),u=l.value,c=n[a.start],d=n[a.end],f=d0(t,o),p=ra(f,function(v){var y=v.descriptor.id,w=v.page.borderBox,_=w[a.size],S=_/oye,P=qs(y,s),R=I9({displaced:r.displaced,id:y});return P?R?d>w[a.start]+S&&d<w[a.end]-S:c>w[a.start]-u+S&&c<w[a.end]-u-S:R?d>w[a.start]+u+S&&d<w[a.end]+u-S:c>w[a.start]+S&&c<w[a.end]-S});if(!p)return null;var m={displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:i.descriptor.id}}};return m},C9=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,i=e.droppables,o=e.previousImpact,s=e.viewport,a=e.afterCritical,l=E9(n.page.borderBox,t),u=tye({pageBorderBox:l,draggable:n,droppables:i});if(!u)return xve;var c=i[u],d=dc(c.descriptor.id,r),f=nye(c,l);return sye({pageBorderBoxWithDroppableScroll:f,draggable:n,previousImpact:o,destination:c,insideDestination:d,afterCritical:a})||iye({pageBorderBoxWithDroppableScroll:f,draggable:n,destination:c,insideDestination:d,last:o.displaced,viewport:s,afterCritical:a})},uC=function(e,t){var n;return Me({},e,(n={},n[t.descriptor.id]=t,n))},aye=function(t){var n=t.previousImpact,r=t.impact,i=t.droppables,o=Vr(n),s=Vr(r);if(!o||o===s)return i;var a=i[o];if(!a.subject.withPlaceholder)return i;var l=Kve(a);return uC(i,l)},lye=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,i=e.previousImpact,o=e.impact,s=aye({previousImpact:i,impact:o,droppables:r}),a=Vr(o);if(!a)return s;var l=r[a];if(fc(t,l)||l.subject.withPlaceholder)return s;var u=_9(l,t,n);return uC(s,u)},Od=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,i=e.viewport,o=e.impact,s=e.scrollJumpRequest,a=i||t.viewport,l=r||t.dimensions,u=n||t.current.client.selection,c=Lr(u,t.initial.client.selection),d={offset:c,selection:u,borderBoxCenter:Un(t.initial.client.borderBoxCenter,c)},f={selection:Un(d.selection,a.scroll.current),borderBoxCenter:Un(d.borderBoxCenter,a.scroll.current),offset:Un(d.offset,a.scroll.diff.value)},p={client:d,page:f};if(t.phase==="COLLECTING")return Me({phase:"COLLECTING"},t,{dimensions:l,viewport:a,current:p});var m=l.draggables[t.critical.draggable.id],v=o||C9({pageOffset:f.offset,draggable:m,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:a,afterCritical:t.afterCritical}),y=lye({draggable:m,impact:v,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables}),w=Me({},t,{current:p,dimensions:{draggables:l.draggables,droppables:y},impact:v,viewport:a,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null});return w};function uye(e,t){return e.map(function(n){return t[n]})}var P9=function(e){var t=e.impact,n=e.viewport,r=e.draggables,i=e.destination,o=e.forceShouldAnimate,s=t.displaced,a=uye(s.all,r),l=Lf({afterDragging:a,destination:i,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:s});return Me({},t,{displaced:l})},T9=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,o=e.viewport,s=e.afterCritical,a=f0({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:s});return lC({pageBorderBoxCenter:a,draggable:n,viewport:o})},A9=function(e){var t=e.state,n=e.dimensions,r=e.viewport;t.movementMode!=="SNAP"&&me();var i=t.impact,o=r||t.viewport,s=n||t.dimensions,a=s.draggables,l=s.droppables,u=a[t.critical.draggable.id],c=Vr(i);c||me();var d=l[c],f=P9({impact:i,viewport:o,destination:d,draggables:a}),p=T9({impact:f,draggable:u,droppable:d,draggables:a,viewport:o,afterCritical:t.afterCritical});return Od({impact:f,clientSelection:p,state:t,dimensions:s,viewport:o})},cye=function(e){return{index:e.index,droppableId:e.droppableId}},O9=function(e){var t=e.draggable,n=e.home,r=e.draggables,i=e.viewport,o=Vh(n.axis,t.displaceBy),s=dc(n.descriptor.id,r),a=s.indexOf(t);a===-1&&me();var l=s.slice(a+1),u=l.reduce(function(p,m){return p[m.descriptor.id]=!0,p},{}),c={inVirtualList:n.descriptor.mode==="virtual",displacedBy:o,effected:u},d=Lf({afterDragging:l,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),f={displaced:d,displacedBy:o,at:{type:"REORDER",destination:cye(t.descriptor)}};return{impact:f,afterCritical:c}},dye=function(e,t){return{draggables:e.draggables,droppables:uC(e.droppables,t)}},fye=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,i=iv(t.client,n),o=ov(i,r),s=Me({},t,{placeholder:Me({},t.placeholder,{client:i}),client:i,page:o});return s},hye=function(e){var t=e.frame;return t||me(),t},pye=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,i=r.scroll.diff.value;return t.map(function(o){var s=o.descriptor.droppableId,a=n[s],l=hye(a),u=l.scroll.diff.value,c=Un(i,u),d=fye({draggable:o,offset:c,initialWindowScroll:r.scroll.initial});return d})},gye=function(e){var t=e.state,n=e.published,r=n.modified.map(function(S){var P=t.dimensions.droppables[S.droppableId],R=nC(P,S.scroll);return R}),i=Me({},t.dimensions.droppables,{},f9(r)),o=h9(pye({additions:n.additions,updatedDroppables:i,viewport:t.viewport})),s=Me({},t.dimensions.draggables,{},o);n.removals.forEach(function(S){delete s[S]});var a={droppables:i,draggables:s},l=Vr(t.impact),u=l?a.droppables[l]:null,c=a.draggables[t.critical.draggable.id],d=a.droppables[t.critical.droppable.id],f=O9({draggable:c,home:d,draggables:s,viewport:t.viewport}),p=f.impact,m=f.afterCritical,v=u&&u.isCombineEnabled?t.impact:p,y=C9({pageOffset:t.current.page.offset,draggable:a.draggables[t.critical.draggable.id],draggables:a.draggables,droppables:a.droppables,previousImpact:v,viewport:t.viewport,afterCritical:m}),w=Me({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:y,onLiftImpact:p,dimensions:a,afterCritical:m,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return w;var _=Me({phase:"DROP_PENDING"},w,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return _},z1=function(t){return t.movementMode==="SNAP"},ex=function(t,n,r){var i=dye(t.dimensions,n);return!z1(t)||r?Od({state:t,dimensions:i}):A9({state:t,dimensions:i})};function tx(e){return e.isDragging&&e.movementMode==="SNAP"?Me({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Rk={phase:"IDLE",completed:null,shouldFlush:!1},mye=function(e,t){if(e===void 0&&(e=Rk),t.type==="FLUSH")return Me({},Rk,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&me();var n=t.payload,r=n.critical,i=n.clientSelection,o=n.viewport,s=n.dimensions,a=n.movementMode,l=s.draggables[r.draggable.id],u=s.droppables[r.droppable.id],c={selection:i,borderBoxCenter:l.client.borderBox.center,offset:Dn},d={client:c,page:{selection:Un(c.selection,o.scroll.initial),borderBoxCenter:Un(c.selection,o.scroll.initial),offset:Un(c.selection,o.scroll.diff.value)}},f=u0(s.droppables).every(function(Z){return!Z.isFixedOnPage}),p=O9({draggable:l,home:u,draggables:s.draggables,viewport:o}),m=p.impact,v=p.afterCritical,y={phase:"DRAGGING",isDragging:!0,critical:r,movementMode:a,dimensions:s,initial:d,current:d,isWindowScrollAllowed:f,impact:m,afterCritical:v,onLiftImpact:m,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null};return y}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&me();var w=Me({phase:"COLLECTING"},e,{phase:"COLLECTING"});return w}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||me(),gye({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;va(e)||me();var _=t.payload.client;return As(_,e.current.client.selection)?e:Od({state:e,clientSelection:_,impact:z1(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return tx(e);va(e)||me();var S=t.payload,P=S.id,R=S.newScroll,M=e.dimensions.droppables[P];if(!M)return e;var C=nC(M,R);return ex(e,C,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;va(e)||me();var I=t.payload,T=I.id,k=I.isEnabled,A=e.dimensions.droppables[T];A||me(),A.isEnabled===k&&me();var j=Me({},A,{isEnabled:k});return ex(e,j,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;va(e)||me();var O=t.payload,ee=O.id,re=O.isCombineEnabled,pe=e.dimensions.droppables[ee];pe||me(),pe.isCombineEnabled===re&&me();var Oe=Me({},pe,{isCombineEnabled:re});return ex(e,Oe,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;va(e)||me(),e.isWindowScrollAllowed||me();var F=t.payload.newScroll;if(As(e.viewport.scroll.current,F))return tx(e);var Q=b9(e.viewport,F);return z1(e)?A9({state:e,viewport:Q}):Od({state:e,viewport:Q})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!va(e))return e;var le=t.payload.maxScroll;if(As(le,e.viewport.scroll.max))return e;var be=Me({},e.viewport,{scroll:Me({},e.viewport.scroll,{max:le})});return Me({phase:"DRAGGING"},e,{viewport:be})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&me();var we=Jve({state:e,type:t.type});return we?Od({state:e,impact:we.impact,clientSelection:we.clientSelection,scrollJumpRequest:we.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var X=t.payload.reason;e.phase!=="COLLECTING"&&me();var ie=Me({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:X});return ie}if(t.type==="DROP_ANIMATE"){var Ie=t.payload,te=Ie.completed,D=Ie.dropDuration,V=Ie.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||me();var L={phase:"DROP_ANIMATING",completed:te,dropDuration:D,newHomeClientOffset:V,dimensions:e.dimensions};return L}if(t.type==="DROP_COMPLETE"){var J=t.payload.completed;return{phase:"IDLE",completed:J,shouldFlush:!1}}return e},vye=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},yye=function(t){return{type:"LIFT",payload:t}},bye=function(t){return{type:"INITIAL_PUBLISH",payload:t}},xye=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},wye=function(){return{type:"COLLECTION_STARTING",payload:null}},_ye=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},Sye=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},Eye=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},R9=function(t){return{type:"MOVE",payload:t}},Iye=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},Cye=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},Pye=function(){return{type:"MOVE_UP",payload:null}},Tye=function(){return{type:"MOVE_DOWN",payload:null}},Aye=function(){return{type:"MOVE_RIGHT",payload:null}},Oye=function(){return{type:"MOVE_LEFT",payload:null}},cC=function(){return{type:"FLUSH",payload:null}},Rye=function(t){return{type:"DROP_ANIMATE",payload:t}},dC=function(t){return{type:"DROP_COMPLETE",payload:t}},D9=function(t){return{type:"DROP",payload:t}},Dye=function(t){return{type:"DROP_PENDING",payload:t}},k9=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},kye=function(e){return function(t){var n=t.getState,r=t.dispatch;return function(i){return function(o){if(o.type!=="LIFT"){i(o);return}var s=o.payload,a=s.id,l=s.clientSelection,u=s.movementMode,c=n();c.phase==="DROP_ANIMATING"&&r(dC({completed:c.completed})),n().phase!=="IDLE"&&me(),r(cC()),r(vye({draggableId:a,movementMode:u}));var d={shouldPublishImmediately:u==="SNAP"},f={draggableId:a,scrollOptions:d},p=e.startPublishing(f),m=p.critical,v=p.dimensions,y=p.viewport;r(bye({critical:m,dimensions:v,clientSelection:l,movementMode:u,viewport:y}))}}}},Nye=function(e){return function(){return function(t){return function(n){n.type==="INITIAL_PUBLISH"&&e.dragging(),n.type==="DROP_ANIMATE"&&e.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&e.resting(),t(n)}}}},fC={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Ff={opacity:{drop:0,combining:.7},scale:{drop:.75}},hC={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},la=hC.outOfTheWay+"s "+fC.outOfTheWay,Rd={fluid:"opacity "+la,snap:"transform "+la+", opacity "+la,drop:function(t){var n=t+"s "+fC.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+la,placeholder:"height "+la+", width "+la+", margin "+la},Dk=function(t){return As(t,Dn)?null:"translate("+t.x+"px, "+t.y+"px)"},W1={moveTo:Dk,drop:function(t,n){var r=Dk(t);return r?n?r+" scale("+Ff.scale.drop+")":r:null}},H1=hC.minDropTime,N9=hC.maxDropTime,jye=N9-H1,kk=1500,Mye=.6,Lye=function(e){var t=e.current,n=e.destination,r=e.reason,i=jf(t,n);if(i<=0)return H1;if(i>=kk)return N9;var o=i/kk,s=H1+jye*o,a=r==="CANCEL"?s*Mye:s;return Number(a.toFixed(2))},Fye=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,i=e.viewport,o=e.afterCritical,s=r.draggables,a=r.droppables,l=Vr(t),u=l?a[l]:null,c=a[n.descriptor.droppableId],d=T9({impact:t,draggable:n,draggables:s,afterCritical:o,droppable:u||c,viewport:i}),f=Lr(d,n.client.borderBox.center);return f},$ye=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,i=e.home,o=e.viewport,s=e.onLiftImpact;if(!r.at||n!=="DROP"){var a=P9({draggables:t,impact:s,destination:i,viewport:o,forceShouldAnimate:!0});return{impact:a,didDropInsideDroppable:!1}}if(r.at.type==="REORDER")return{impact:r,didDropInsideDroppable:!0};var l=Me({},r,{displaced:Mf});return{impact:l,didDropInsideDroppable:!0}},Bye=function(e){var t=e.getState,n=e.dispatch;return function(r){return function(i){if(i.type!=="DROP"){r(i);return}var o=t(),s=i.payload.reason;if(o.phase==="COLLECTING"){n(Dye({reason:s}));return}if(o.phase!=="IDLE"){var a=o.phase==="DROP_PENDING"&&o.isWaiting;a&&me(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||me();var l=o.critical,u=o.dimensions,c=u.draggables[o.critical.draggable.id],d=$ye({reason:s,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),f=d.impact,p=d.didDropInsideDroppable,m=p?iC(f):null,v=p?c0(f):null,y={index:l.draggable.index,droppableId:l.droppable.id},w={draggableId:c.descriptor.id,type:c.descriptor.type,source:y,reason:s,mode:o.movementMode,destination:m,combine:v},_=Fye({impact:f,draggable:c,dimensions:u,viewport:o.viewport,afterCritical:o.afterCritical}),S={critical:o.critical,afterCritical:o.afterCritical,result:w,impact:f},P=!As(o.current.client.offset,_)||!!w.combine;if(!P){n(dC({completed:S}));return}var R=Lye({current:o.current.client.offset,destination:_,reason:s}),M={newHomeClientOffset:_,dropDuration:R,completed:S};n(Rye(M))}}}},j9=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function Vye(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||e()}}}function Uye(e){var t=e.onWindowScroll;function n(){t(j9())}var r=Nf(n),i=Vye(r),o=Ts;function s(){return o!==Ts}function a(){s()&&me(),o=si(window,[i])}function l(){s()||me(),r.cancel(),o(),o=Ts}return{start:a,stop:l,isActive:s}}var zye=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},Wye=function(e){var t=Uye({onWindowScroll:function(r){e.dispatch(Iye({newScroll:r}))}});return function(n){return function(r){!t.isActive()&&r.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&zye(r)&&t.stop(),n(r)}}},Hye=function(e){var t=!1,n=!1,r=setTimeout(function(){n=!0}),i=function(s){t||n||(t=!0,e(s),clearTimeout(r))};return i.wasCalled=function(){return t},i},qye=function(){var e=[],t=function(o){var s=rC(e,function(u){return u.timerId===o});s===-1&&me();var a=e.splice(s,1),l=a[0];l.callback()},n=function(o){var s=setTimeout(function(){return t(s)}),a={timerId:s,callback:o};e.push(a)},r=function(){if(e.length){var o=[].concat(e);e.length=0,o.forEach(function(s){clearTimeout(s.timerId),s.callback()})}};return{add:n,flush:r}},Gye=function(t,n){return t==null&&n==null?!0:t==null||n==null?!1:t.droppableId===n.droppableId&&t.index===n.index},Kye=function(t,n){return t==null&&n==null?!0:t==null||n==null?!1:t.draggableId===n.draggableId&&t.droppableId===n.droppableId},Yye=function(t,n){if(t===n)return!0;var r=t.draggable.id===n.draggable.id&&t.draggable.droppableId===n.draggable.droppableId&&t.draggable.type===n.draggable.type&&t.draggable.index===n.draggable.index,i=t.droppable.id===n.droppable.id&&t.droppable.type===n.droppable.type;return r&&i},Qc=function(t,n){n()},Bp=function(t,n){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:n}},nx=function(t,n,r,i){if(!t){r(i(n));return}var o=Hye(r),s={announce:o};t(n,s),o.wasCalled()||r(i(n))},Qye=function(e,t){var n=qye(),r=null,i=function(f,p){r&&me(),Qc("onBeforeCapture",function(){var m=e().onBeforeCapture;if(m){var v={draggableId:f,mode:p};m(v)}})},o=function(f,p){r&&me(),Qc("onBeforeDragStart",function(){var m=e().onBeforeDragStart;m&&m(Bp(f,p))})},s=function(f,p){r&&me();var m=Bp(f,p);r={mode:p,lastCritical:f,lastLocation:m.source,lastCombine:null},n.add(function(){Qc("onDragStart",function(){return nx(e().onDragStart,m,t,yg.onDragStart)})})},a=function(f,p){var m=iC(p),v=c0(p);r||me();var y=!Yye(f,r.lastCritical);y&&(r.lastCritical=f);var w=!Gye(r.lastLocation,m);w&&(r.lastLocation=m);var _=!Kye(r.lastCombine,v);if(_&&(r.lastCombine=v),!(!y&&!w&&!_)){var S=Me({},Bp(f,r.mode),{combine:v,destination:m});n.add(function(){Qc("onDragUpdate",function(){return nx(e().onDragUpdate,S,t,yg.onDragUpdate)})})}},l=function(){r||me(),n.flush()},u=function(f){r||me(),r=null,Qc("onDragEnd",function(){return nx(e().onDragEnd,f,t,yg.onDragEnd)})},c=function(){if(r){var f=Me({},Bp(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});u(f)}};return{beforeCapture:i,beforeStart:o,start:s,update:a,flush:l,drop:u,abort:c}},Xye=function(e,t){var n=Qye(e,t);return function(r){return function(i){return function(o){if(o.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(o.type==="INITIAL_PUBLISH"){var s=o.payload.critical;n.beforeStart(s,o.payload.movementMode),i(o),n.start(s,o.payload.movementMode);return}if(o.type==="DROP_COMPLETE"){var a=o.payload.completed.result;n.flush(),i(o),n.drop(a);return}if(i(o),o.type==="FLUSH"){n.abort();return}var l=r.getState();l.phase==="DRAGGING"&&n.update(l.critical,l.impact)}}}},Jye=function(e){return function(t){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){t(n);return}var r=e.getState();r.phase!=="DROP_ANIMATING"&&me(),e.dispatch(dC({completed:r.completed}))}}},Zye=function(e){var t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return function(i){return function(o){if((o.type==="FLUSH"||o.type==="DROP_COMPLETE"||o.type==="DROP_ANIMATION_FINISHED")&&r(),i(o),o.type==="DROP_ANIMATE"){var s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var l=e.getState();l.phase==="DROP_ANIMATING"&&e.dispatch(k9())}};n=requestAnimationFrame(function(){n=null,t=si(window,[s])})}}}},e0e=function(e){return function(){return function(t){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&e.stopPublishing(),t(n)}}}},t0e=function(e){var t=!1;return function(){return function(n){return function(r){if(r.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(r.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){t=!1;var i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},n0e=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},r0e=function(e){return function(t){return function(n){return function(r){if(n0e(r)){e.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);var i=t.getState();i.phase!=="DRAGGING"&&me(),e.start(i);return}n(r),e.scroll(t.getState())}}}},i0e=function(e){return function(t){return function(n){if(t(n),n.type==="PUBLISH_WHILE_DRAGGING"){var r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(D9({reason:r.reason})))}}}},o0e=GB,s0e=function(e){var t=e.dimensionMarshal,n=e.focusMarshal,r=e.styleMarshal,i=e.getResponders,o=e.announce,s=e.autoScroller;return qB(mye,o0e(ome(Nye(r),e0e(t),kye(t),Bye,Jye,Zye,i0e,r0e(s),Wye,t0e(n),Xye(i,o))))},rx=function(){return{additions:{},removals:{},modified:{}}};function a0e(e){var t=e.registry,n=e.callbacks,r=rx(),i=null,o=function(){i||(n.collectionStarting(),i=requestAnimationFrame(function(){i=null;var c=r,d=c.additions,f=c.removals,p=c.modified,m=Object.keys(d).map(function(w){return t.draggable.getById(w).getDimension(Dn)}).sort(function(w,_){return w.descriptor.index-_.descriptor.index}),v=Object.keys(p).map(function(w){var _=t.droppable.getById(w),S=_.callbacks.getScrollWhileDragging();return{droppableId:w,scroll:S}}),y={additions:m,removals:Object.keys(f),modified:v};r=rx(),n.publish(y)}))},s=function(c){var d=c.descriptor.id;r.additions[d]=c,r.modified[c.descriptor.droppableId]=!0,r.removals[d]&&delete r.removals[d],o()},a=function(c){var d=c.descriptor;r.removals[d.id]=!0,r.modified[d.droppableId]=!0,r.additions[d.id]&&delete r.additions[d.id],o()},l=function(){i&&(cancelAnimationFrame(i),i=null,r=rx())};return{add:s,remove:a,stop:l}}var M9=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,i=e.width,o=Lr({x:n,y:t},{x:i,y:r}),s={x:Math.max(0,o.x),y:Math.max(0,o.y)};return s},L9=function(){var e=document.documentElement;return e||me(),e},F9=function(){var e=L9(),t=M9({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},l0e=function(){var e=j9(),t=F9(),n=e.y,r=e.x,i=L9(),o=i.clientWidth,s=i.clientHeight,a=r+o,l=n+s,u=Ti({top:n,left:r,right:a,bottom:l}),c={frame:u,scroll:{initial:e,current:e,max:t,diff:{value:Dn,displacement:Dn}}};return c},u0e=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry,i=l0e(),o=i.scroll.current,s=t.droppable,a=r.droppable.getAllByType(s.type).map(function(d){return d.callbacks.getDimensionAndWatchScroll(o,n)}),l=r.draggable.getAllByType(t.draggable.type).map(function(d){return d.getDimension(o)}),u={draggables:h9(l),droppables:f9(a)},c={dimensions:u,critical:t,viewport:i};return c};function Nk(e,t,n){if(n.descriptor.id===t.id||n.descriptor.type!==t.type)return!1;var r=e.droppable.getById(n.descriptor.droppableId);return r.descriptor.mode==="virtual"}var c0e=function(e,t){var n=null,r=a0e({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=function(p,m){e.droppable.exists(p)||me(),n&&t.updateDroppableIsEnabled({id:p,isEnabled:m})},o=function(p,m){n&&(e.droppable.exists(p)||me(),t.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:m}))},s=function(p,m){n&&(e.droppable.exists(p)||me(),t.updateDroppableScroll({id:p,newScroll:m}))},a=function(p,m){n&&e.droppable.getById(p).callbacks.scroll(m)},l=function(){if(n){r.stop();var p=n.critical.droppable;e.droppable.getAllByType(p.type).forEach(function(m){return m.callbacks.dragStopped()}),n.unsubscribe(),n=null}},u=function(p){n||me();var m=n.critical.draggable;p.type==="ADDITION"&&Nk(e,m,p.value)&&r.add(p.value),p.type==="REMOVAL"&&Nk(e,m,p.value)&&r.remove(p.value)},c=function(p){n&&me();var m=e.draggable.getById(p.draggableId),v=e.droppable.getById(m.descriptor.droppableId),y={draggable:m.descriptor,droppable:v.descriptor},w=e.subscribe(u);return n={critical:y,unsubscribe:w},u0e({critical:y,registry:e,scrollOptions:p.scrollOptions})},d={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:o,scrollDroppable:a,updateDroppableScroll:s,startPublishing:c,stopPublishing:l};return d},$9=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},d0e=function(e){window.scrollBy(e.x,e.y)},f0e=Rn(function(e){return u0(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),h0e=function(t,n){var r=ra(f0e(n),function(i){return i.frame||me(),S9(i.frame.pageMarginBox)(t)});return r},p0e=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var i=r[n];return i.frame?i:null}var o=h0e(t,r);return o},Os={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},g0e=function(e,t){var n=e[t.size]*Os.startFromPercentage,r=e[t.size]*Os.maxScrollAtPercentage,i={startScrollingFrom:n,maxScrollValueAt:r};return i},B9=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,i=n-t;if(i===0)return 0;var o=r-t,s=o/i;return s},pC=1,m0e=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return Os.maxPixelScroll;if(e===t.startScrollingFrom)return pC;var n=B9({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=1-n,i=Os.maxPixelScroll*Os.ease(r);return Math.ceil(i)},jk=Os.durationDampening.accelerateAt,Mk=Os.durationDampening.stopDampeningAt,v0e=function(e,t){var n=t,r=Mk,i=Date.now(),o=i-n;if(o>=Mk)return e;if(o<jk)return pC;var s=B9({startOfRange:jk,endOfRange:r,current:o}),a=e*Os.ease(s);return Math.ceil(a)},Lk=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,i=e.shouldUseTimeDampening,o=m0e(t,n);return o===0?0:i?Math.max(v0e(o,r),pC):o},Fk=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,i=e.axis,o=e.shouldUseTimeDampening,s=g0e(t,i),a=n[i.end]<n[i.start];return a?Lk({distanceToEdge:n[i.end],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o}):-1*Lk({distanceToEdge:n[i.start],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o})},y0e=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,i=n.height>t.height,o=n.width>t.width;return!o&&!i?r:o&&i?null:{x:o?0:r.x,y:i?0:r.y}},b0e=c9(function(e){return e===0?0:e}),V9=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,i=e.center,o=e.shouldUseTimeDampening,s={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},a=Fk({container:n,distanceToEdges:s,dragStartTime:t,axis:oC,shouldUseTimeDampening:o}),l=Fk({container:n,distanceToEdges:s,dragStartTime:t,axis:m9,shouldUseTimeDampening:o}),u=b0e({x:l,y:a});if(As(u,Dn))return null;var c=y0e({container:n,subject:r,proposedScroll:u});return c?As(c,Dn)?null:c:null},x0e=c9(function(e){return e===0?0:e>0?1:-1}),gC=function(){var e=function(n,r){return n<0?n:n>r?n-r:0};return function(t){var n=t.current,r=t.max,i=t.change,o=Un(n,i),s={x:e(o.x,r.x),y:e(o.y,r.y)};return As(s,Dn)?null:s}}(),U9=function(t){var n=t.max,r=t.current,i=t.change,o={x:Math.max(r.x,n.x),y:Math.max(r.y,n.y)},s=x0e(i),a=gC({max:o,current:r,change:s});return!a||s.x!==0&&a.x===0||s.y!==0&&a.y===0},mC=function(t,n){return U9({current:t.scroll.current,max:t.scroll.max,change:n})},w0e=function(t,n){if(!mC(t,n))return null;var r=t.scroll.max,i=t.scroll.current;return gC({current:i,max:r,change:n})},vC=function(t,n){var r=t.frame;return r?U9({current:r.scroll.current,max:r.scroll.max,change:n}):!1},_0e=function(t,n){var r=t.frame;return!r||!vC(t,n)?null:gC({current:r.scroll.current,max:r.scroll.max,change:n})},S0e=function(e){var t=e.viewport,n=e.subject,r=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,s=V9({dragStartTime:i,container:t.frame,subject:n,center:r,shouldUseTimeDampening:o});return s&&mC(t,s)?s:null},E0e=function(e){var t=e.droppable,n=e.subject,r=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,s=t.frame;if(!s)return null;var a=V9({dragStartTime:i,container:s.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o});return a&&vC(t,a)?a:null},$k=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,i=e.scrollWindow,o=e.scrollDroppable,s=t.current.page.borderBoxCenter,a=t.dimensions.draggables[t.critical.draggable.id],l=a.page.marginBox;if(t.isWindowScrollAllowed){var u=t.viewport,c=S0e({dragStartTime:n,viewport:u,subject:l,center:s,shouldUseTimeDampening:r});if(c){i(c);return}}var d=p0e({center:s,destination:Vr(t.impact),droppables:t.dimensions.droppables});if(d){var f=E0e({dragStartTime:n,droppable:d,subject:l,center:s,shouldUseTimeDampening:r});f&&o(d.descriptor.id,f)}},I0e=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=Nf(t),i=Nf(n),o=null,s=function(c){o||me();var d=o,f=d.shouldUseTimeDampening,p=d.dragStartTime;$k({state:c,scrollWindow:r,scrollDroppable:i,dragStartTime:p,shouldUseTimeDampening:f})},a=function(c){o&&me();var d=Date.now(),f=!1,p=function(){f=!0};$k({state:c,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p}),o={dragStartTime:d,shouldUseTimeDampening:f},f&&s(c)},l=function(){o&&(r.cancel(),i.cancel(),o=null)};return{start:a,stop:l,scroll:s}},C0e=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,i=function(u,c){var d=Un(u.current.client.selection,c);t({client:d})},o=function(u,c){if(!vC(u,c))return c;var d=_0e(u,c);if(!d)return n(u.descriptor.id,c),null;var f=Lr(c,d);n(u.descriptor.id,f);var p=Lr(c,f);return p},s=function(u,c,d){if(!u||!mC(c,d))return d;var f=w0e(c,d);if(!f)return r(d),null;var p=Lr(d,f);r(p);var m=Lr(d,p);return m},a=function(u){var c=u.scrollJumpRequest;if(c){var d=Vr(u.impact);d||me();var f=o(u.dimensions.droppables[d],c);if(f){var p=u.viewport,m=s(u.isWindowScrollAllowed,p,f);m&&i(u,m)}}};return a},P0e=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,i=I0e({scrollWindow:n,scrollDroppable:t}),o=C0e({move:r,scrollWindow:n,scrollDroppable:t}),s=function(u){if(u.phase==="DRAGGING"){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&o(u)}},a={scroll:s,start:i.start,stop:i.stop};return a},$u="data-rbd",Bu=function(){var e=$u+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),q1=function(){var e=$u+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),T0e=function(){var e=$u+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Bk={contextId:$u+"-scroll-container-context-id"},A0e=function(t){return function(n){return"["+n+'="'+t+'"]'}},Xc=function(t,n){return t.map(function(r){var i=r.styles[n];return i?r.selector+" { "+i+" }":""}).join(" ")},O0e="pointer-events: none;",R0e=function(e){var t=A0e(e),n=function(){var a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Bu.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:O0e,dropAnimating:a}}}(),r=function(){var a=`
      transition: `+Rd.outOfTheWay+`;
    `;return{selector:t(q1.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}}(),i={selector:t(T0e.contextId),styles:{always:"overflow-anchor: none;"}},o={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},s=[r,n,i,o];return{always:Xc(s,"always"),resting:Xc(s,"resting"),dragging:Xc(s,"dragging"),dropAnimating:Xc(s,"dropAnimating"),userCancel:Xc(s,"userCancel")}},Ur=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?b.useLayoutEffect:b.useEffect,ix=function(){var t=document.querySelector("head");return t||me(),t},Vk=function(t){var n=document.createElement("style");return t&&n.setAttribute("nonce",t),n.type="text/css",n};function D0e(e,t){var n=ut(function(){return R0e(e)},[e]),r=b.useRef(null),i=b.useRef(null),o=ke(Rn(function(d){var f=i.current;f||me(),f.textContent=d}),[]),s=ke(function(d){var f=r.current;f||me(),f.textContent=d},[]);Ur(function(){!r.current&&!i.current||me();var d=Vk(t),f=Vk(t);return r.current=d,i.current=f,d.setAttribute($u+"-always",e),f.setAttribute($u+"-dynamic",e),ix().appendChild(d),ix().appendChild(f),s(n.always),o(n.resting),function(){var p=function(v){var y=v.current;y||me(),ix().removeChild(y),v.current=null};p(r),p(i)}},[t,s,o,n.always,n.resting,e]);var a=ke(function(){return o(n.dragging)},[o,n.dragging]),l=ke(function(d){if(d==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),u=ke(function(){i.current&&o(n.resting)},[o,n.resting]),c=ut(function(){return{dragging:a,dropping:l,resting:u}},[a,l,u]);return c}var z9=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function h0(e){return e instanceof z9(e).HTMLElement}function k0e(e,t){var n="["+Bu.contextId+'="'+e+'"]',r=d9(document.querySelectorAll(n));if(!r.length)return null;var i=ra(r,function(o){return o.getAttribute(Bu.draggableId)===t});return!i||!h0(i)?null:i}function N0e(e){var t=b.useRef({}),n=b.useRef(null),r=b.useRef(null),i=b.useRef(!1),o=ke(function(f,p){var m={id:f,focus:p};return t.current[f]=m,function(){var y=t.current,w=y[f];w!==m&&delete y[f]}},[]),s=ke(function(f){var p=k0e(e,f);p&&p!==document.activeElement&&p.focus()},[e]),a=ke(function(f,p){n.current===f&&(n.current=p)},[]),l=ke(function(){r.current||i.current&&(r.current=requestAnimationFrame(function(){r.current=null;var f=n.current;f&&s(f)}))},[s]),u=ke(function(f){n.current=null;var p=document.activeElement;p&&p.getAttribute(Bu.draggableId)===f&&(n.current=f)},[]);Ur(function(){return i.current=!0,function(){i.current=!1;var f=r.current;f&&cancelAnimationFrame(f)}},[]);var c=ut(function(){return{register:o,tryRecordFocus:u,tryRestoreFocusRecorded:l,tryShiftRecord:a}},[o,u,l,a]);return c}function j0e(){var e={draggables:{},droppables:{}},t=[];function n(d){return t.push(d),function(){var p=t.indexOf(d);p!==-1&&t.splice(p,1)}}function r(d){t.length&&t.forEach(function(f){return f(d)})}function i(d){return e.draggables[d]||null}function o(d){var f=i(d);return f||me(),f}var s={register:function(f){e.draggables[f.descriptor.id]=f,r({type:"ADDITION",value:f})},update:function(f,p){var m=e.draggables[p.descriptor.id];m&&m.uniqueId===f.uniqueId&&(delete e.draggables[p.descriptor.id],e.draggables[f.descriptor.id]=f)},unregister:function(f){var p=f.descriptor.id,m=i(p);m&&f.uniqueId===m.uniqueId&&(delete e.draggables[p],r({type:"REMOVAL",value:f}))},getById:o,findById:i,exists:function(f){return!!i(f)},getAllByType:function(f){return lv(e.draggables).filter(function(p){return p.descriptor.type===f})}};function a(d){return e.droppables[d]||null}function l(d){var f=a(d);return f||me(),f}var u={register:function(f){e.droppables[f.descriptor.id]=f},unregister:function(f){var p=a(f.descriptor.id);p&&f.uniqueId===p.uniqueId&&delete e.droppables[f.descriptor.id]},getById:l,findById:a,exists:function(f){return!!a(f)},getAllByType:function(f){return lv(e.droppables).filter(function(p){return p.descriptor.type===f})}};function c(){e.draggables={},e.droppables={},t.length=0}return{draggable:s,droppable:u,subscribe:n,clean:c}}function M0e(){var e=ut(j0e,[]);return b.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var yC=st.createContext(null),cv=function(){var e=document.body;return e||me(),e},L0e={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},F0e=function(t){return"rbd-announcement-"+t};function $0e(e){var t=ut(function(){return F0e(e)},[e]),n=b.useRef(null);b.useEffect(function(){var o=document.createElement("div");return n.current=o,o.id=t,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),Me(o.style,L0e),cv().appendChild(o),function(){setTimeout(function(){var l=cv();l.contains(o)&&l.removeChild(o),o===n.current&&(n.current=null)})}},[t]);var r=ke(function(i){var o=n.current;if(o){o.textContent=i;return}},[]);return r}var B0e=0,V0e={separator:"::"};function bC(e,t){return t===void 0&&(t=V0e),ut(function(){return""+e+t.separator+B0e++},[t.separator,e])}function U0e(e){var t=e.contextId,n=e.uniqueId;return"rbd-hidden-text-"+t+"-"+n}function z0e(e){var t=e.contextId,n=e.text,r=bC("hidden-text",{separator:"-"}),i=ut(function(){return U0e({contextId:t,uniqueId:r})},[r,t]);return b.useEffect(function(){var s=document.createElement("div");return s.id=i,s.textContent=n,s.style.display="none",cv().appendChild(s),function(){var l=cv();l.contains(s)&&l.removeChild(s)}},[i,n]),i}var p0=st.createContext(null);function W9(e){var t=b.useRef(e);return b.useEffect(function(){t.current=e}),t}function W0e(){var e=null;function t(){return!!e}function n(s){return s===e}function r(s){e&&me();var a={abandon:s};return e=a,a}function i(){e||me(),e=null}function o(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:o}}var H0e=9,q0e=13,xC=27,H9=32,G0e=33,K0e=34,Y0e=35,Q0e=36,X0e=37,J0e=38,Z0e=39,ebe=40,Vp,tbe=(Vp={},Vp[q0e]=!0,Vp[H0e]=!0,Vp),q9=function(e){tbe[e.keyCode]&&e.preventDefault()},g0=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],n=ra(t,function(r){return"on"+r in document});return n||e}(),G9=0,Uk=5;function nbe(e,t){return Math.abs(t.x-e.x)>=Uk||Math.abs(t.y-e.y)>=Uk}var zk={type:"IDLE"};function rbe(e){var t=e.cancel,n=e.completed,r=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(s){var a=s.button,l=s.clientX,u=s.clientY;if(a===G9){var c={x:l,y:u},d=r();if(d.type==="DRAGGING"){s.preventDefault(),d.actions.move(c);return}d.type!=="PENDING"&&me();var f=d.point;if(nbe(f,c)){s.preventDefault();var p=d.actions.fluidLift(c);i({type:"DRAGGING",actions:p})}}}},{eventName:"mouseup",fn:function(s){var a=r();if(a.type!=="DRAGGING"){t();return}s.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(s){r().type==="DRAGGING"&&s.preventDefault(),t()}},{eventName:"keydown",fn:function(s){var a=r();if(a.type==="PENDING"){t();return}if(s.keyCode===xC){s.preventDefault(),t();return}q9(s)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){r().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(s){var a=r();if(a.type==="IDLE"&&me(),a.actions.shouldRespectForcePress()){t();return}s.preventDefault()}},{eventName:g0,fn:t}]}function ibe(e){var t=b.useRef(zk),n=b.useRef(Ts),r=ut(function(){return{eventName:"mousedown",fn:function(d){if(!d.defaultPrevented&&d.button===G9&&!(d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)){var f=e.findClosestDraggableId(d);if(f){var p=e.tryGetLock(f,s,{sourceEvent:d});if(p){d.preventDefault();var m={x:d.clientX,y:d.clientY};n.current(),u(p,m)}}}}}},[e]),i=ut(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(d){if(!d.defaultPrevented){var f=e.findClosestDraggableId(d);if(f){var p=e.findOptionsForDraggable(f);p&&(p.shouldRespectForcePress||e.canGetLock(f)&&d.preventDefault())}}}}},[e]),o=ke(function(){var d={passive:!1,capture:!0};n.current=si(window,[i,r],d)},[i,r]),s=ke(function(){var c=t.current;c.type!=="IDLE"&&(t.current=zk,n.current(),o())},[o]),a=ke(function(){var c=t.current;s(),c.type==="DRAGGING"&&c.actions.cancel({shouldBlockNextClick:!0}),c.type==="PENDING"&&c.actions.abort()},[s]),l=ke(function(){var d={capture:!0,passive:!1},f=rbe({cancel:a,completed:s,getPhase:function(){return t.current},setPhase:function(m){t.current=m}});n.current=si(window,f,d)},[a,s]),u=ke(function(d,f){t.current.type!=="IDLE"&&me(),t.current={type:"PENDING",point:f,actions:d},l()},[l]);Ur(function(){return o(),function(){n.current()}},[o])}var Cl;function obe(){}var sbe=(Cl={},Cl[K0e]=!0,Cl[G0e]=!0,Cl[Q0e]=!0,Cl[Y0e]=!0,Cl);function abe(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:function(o){if(o.keyCode===xC){o.preventDefault(),n();return}if(o.keyCode===H9){o.preventDefault(),r();return}if(o.keyCode===ebe){o.preventDefault(),e.moveDown();return}if(o.keyCode===J0e){o.preventDefault(),e.moveUp();return}if(o.keyCode===Z0e){o.preventDefault(),e.moveRight();return}if(o.keyCode===X0e){o.preventDefault(),e.moveLeft();return}if(sbe[o.keyCode]){o.preventDefault();return}q9(o)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:g0,fn:n}]}function lbe(e){var t=b.useRef(obe),n=ut(function(){return{eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==H9)return;var s=e.findClosestDraggableId(o);if(!s)return;var a=e.tryGetLock(s,c,{sourceEvent:o});if(!a)return;o.preventDefault();var l=!0,u=a.snapLift();t.current();function c(){l||me(),l=!1,t.current(),r()}t.current=si(window,abe(u,c),{capture:!0,passive:!1})}}},[e]),r=ke(function(){var o={passive:!1,capture:!0};t.current=si(window,[n],o)},[n]);Ur(function(){return r(),function(){t.current()}},[r])}var ox={type:"IDLE"},ube=120,cbe=.15;function dbe(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(n().type!=="DRAGGING"){t();return}i.keyCode===xC&&i.preventDefault(),t()}},{eventName:g0,fn:t}]}function fbe(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(o){var s=r();if(s.type!=="DRAGGING"){t();return}s.hasMoved=!0;var a=o.touches[0],l=a.clientX,u=a.clientY,c={x:l,y:u};o.preventDefault(),s.actions.move(c)}},{eventName:"touchend",fn:function(o){var s=r();if(s.type!=="DRAGGING"){t();return}o.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(o){if(r().type!=="DRAGGING"){t();return}o.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(o){var s=r();s.type==="IDLE"&&me();var a=o.touches[0];if(a){var l=a.force>=cbe;if(l){var u=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){u&&t();return}if(u){if(s.hasMoved){o.preventDefault();return}t();return}o.preventDefault()}}}},{eventName:g0,fn:t}]}function hbe(e){var t=b.useRef(ox),n=b.useRef(Ts),r=ke(function(){return t.current},[]),i=ke(function(p){t.current=p},[]),o=ut(function(){return{eventName:"touchstart",fn:function(p){if(!p.defaultPrevented){var m=e.findClosestDraggableId(p);if(m){var v=e.tryGetLock(m,a,{sourceEvent:p});if(v){var y=p.touches[0],w=y.clientX,_=y.clientY,S={x:w,y:_};n.current(),d(v,S)}}}}}},[e]),s=ke(function(){var p={capture:!0,passive:!1};n.current=si(window,[o],p)},[o]),a=ke(function(){var f=t.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),i(ox),n.current(),s())},[s,i]),l=ke(function(){var f=t.current;a(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[a]),u=ke(function(){var p={capture:!0,passive:!1},m={cancel:l,completed:a,getPhase:r},v=si(window,fbe(m),p),y=si(window,dbe(m),p);n.current=function(){v(),y()}},[l,r,a]),c=ke(function(){var p=r();p.type!=="PENDING"&&me();var m=p.actions.fluidLift(p.point);i({type:"DRAGGING",actions:m,hasMoved:!1})},[r,i]),d=ke(function(p,m){r().type!=="IDLE"&&me();var v=setTimeout(c,ube);i({type:"PENDING",point:m,actions:p,longPressTimerId:v}),u()},[u,r,i,c]);Ur(function(){return s(),function(){n.current();var m=r();m.type==="PENDING"&&(clearTimeout(m.longPressTimerId),i(ox))}},[r,s,i]),Ur(function(){var p=si(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return p},[])}var pbe={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function K9(e,t){if(t==null)return!1;var n=!!pbe[t.tagName.toLowerCase()];if(n)return!0;var r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:K9(e,t.parentElement)}function gbe(e,t){var n=t.target;return h0(n)?K9(e,n):!1}var mbe=function(e){return Ti(e.getBoundingClientRect()).center};function vbe(e){return e instanceof z9(e).Element}var ybe=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],n=ra(t,function(r){return r in Element.prototype});return n||e}();function Y9(e,t){return e==null?null:e[ybe](t)?e:Y9(e.parentElement,t)}function bbe(e,t){return e.closest?e.closest(t):Y9(e,t)}function xbe(e){return"["+Bu.contextId+'="'+e+'"]'}function wbe(e,t){var n=t.target;if(!vbe(n))return null;var r=xbe(e),i=bbe(n,r);return!i||!h0(i)?null:i}function _be(e,t){var n=wbe(e,t);return n?n.getAttribute(Bu.draggableId):null}function Sbe(e,t){var n="["+q1.contextId+'="'+e+'"]',r=d9(document.querySelectorAll(n)),i=ra(r,function(o){return o.getAttribute(q1.id)===t});return!i||!h0(i)?null:i}function Ebe(e){e.preventDefault()}function Up(e){var t=e.expected,n=e.phase,r=e.isLockActive;return e.shouldWarn,!(!r()||t!==n)}function Q9(e){var t=e.lockAPI,n=e.store,r=e.registry,i=e.draggableId;if(t.isClaimed())return!1;var o=r.draggable.findById(i);return!(!o||!o.options.isEnabled||!$9(n.getState(),i))}function Ibe(e){var t=e.lockAPI,n=e.contextId,r=e.store,i=e.registry,o=e.draggableId,s=e.forceSensorStop,a=e.sourceEvent,l=Q9({lockAPI:t,store:r,registry:i,draggableId:o});if(!l)return null;var u=i.draggable.getById(o),c=Sbe(n,u.descriptor.id);if(!c||a&&!u.options.canDragInteractiveElements&&gbe(c,a))return null;var d=t.claim(s||Ts),f="PRE_DRAG";function p(){return u.options.shouldRespectForcePress}function m(){return t.isActive(d)}function v(M,C){Up({expected:M,phase:f,isLockActive:m,shouldWarn:!0})&&r.dispatch(C())}var y=v.bind(null,"DRAGGING");function w(M){function C(){t.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(C(),f!=="PRE_DRAG"&&me()),r.dispatch(yye(M.liftActionArgs)),f="DRAGGING";function I(T,k){if(k===void 0&&(k={shouldBlockNextClick:!1}),M.cleanup(),k.shouldBlockNextClick){var A=si(window,[{eventName:"click",fn:Ebe,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(A)}C(),r.dispatch(D9({reason:T}))}return Me({isActive:function(){return Up({expected:"DRAGGING",phase:f,isLockActive:m,shouldWarn:!1})},shouldRespectForcePress:p,drop:function(k){return I("DROP",k)},cancel:function(k){return I("CANCEL",k)}},M.actions)}function _(M){var C=Nf(function(T){y(function(){return R9({client:T})})}),I=w({liftActionArgs:{id:o,clientSelection:M,movementMode:"FLUID"},cleanup:function(){return C.cancel()},actions:{move:C}});return Me({},I,{move:C})}function S(){var M={moveUp:function(){return y(Pye)},moveRight:function(){return y(Aye)},moveDown:function(){return y(Tye)},moveLeft:function(){return y(Oye)}};return w({liftActionArgs:{id:o,clientSelection:mbe(c),movementMode:"SNAP"},cleanup:Ts,actions:M})}function P(){var M=Up({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!0});M&&t.release()}var R={isActive:function(){return Up({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!1})},shouldRespectForcePress:p,fluidLift:_,snapLift:S,abort:P};return R}var Cbe=[ibe,lbe,hbe];function Pbe(e){var t=e.contextId,n=e.store,r=e.registry,i=e.customSensors,o=e.enableDefaultSensors,s=[].concat(o?Cbe:[],i||[]),a=b.useState(function(){return W0e()})[0],l=ke(function(_,S){_.isDragging&&!S.isDragging&&a.tryAbandon()},[a]);Ur(function(){var _=n.getState(),S=n.subscribe(function(){var P=n.getState();l(_,P),_=P});return S},[a,n,l]),Ur(function(){return a.tryAbandon},[a.tryAbandon]);for(var u=ke(function(w){return Q9({lockAPI:a,registry:r,store:n,draggableId:w})},[a,r,n]),c=ke(function(w,_,S){return Ibe({lockAPI:a,registry:r,contextId:t,store:n,draggableId:w,forceSensorStop:_,sourceEvent:S&&S.sourceEvent?S.sourceEvent:null})},[t,a,r,n]),d=ke(function(w){return _be(t,w)},[t]),f=ke(function(w){var _=r.draggable.findById(w);return _?_.options:null},[r.draggable]),p=ke(function(){a.isClaimed()&&(a.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(cC()))},[a,n]),m=ke(a.isClaimed,[a]),v=ut(function(){return{canGetLock:u,tryGetLock:c,findClosestDraggableId:d,findOptionsForDraggable:f,tryReleaseLock:p,isLockClaimed:m}},[u,c,d,f,p,m]),y=0;y<s.length;y++)s[y](v)}var Tbe=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function Jc(e){return e.current||me(),e.current}function Abe(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,i=e.nonce,o=e.dragHandleUsageInstructions,s=b.useRef(null),a=W9(e),l=ke(function(){return Tbe(a.current)},[a]),u=$0e(t),c=z0e({contextId:t,text:o}),d=D0e(t,i),f=ke(function(T){Jc(s).dispatch(T)},[]),p=ut(function(){return fk({publishWhileDragging:xye,updateDroppableScroll:_ye,updateDroppableIsEnabled:Sye,updateDroppableIsCombineEnabled:Eye,collectionStarting:wye},f)},[f]),m=M0e(),v=ut(function(){return c0e(m,p)},[m,p]),y=ut(function(){return P0e(Me({scrollWindow:d0e,scrollDroppable:v.scrollDroppable},fk({move:R9},f)))},[v.scrollDroppable,f]),w=N0e(t),_=ut(function(){return s0e({announce:u,autoScroller:y,dimensionMarshal:v,focusMarshal:w,getResponders:l,styleMarshal:d})},[u,y,v,w,l,d]);s.current=_;var S=ke(function(){var T=Jc(s),k=T.getState();k.phase!=="IDLE"&&T.dispatch(cC())},[]),P=ke(function(){var T=Jc(s).getState();return T.isDragging||T.phase==="DROP_ANIMATING"},[]),R=ut(function(){return{isDragging:P,tryAbort:S}},[P,S]);n(R);var M=ke(function(T){return $9(Jc(s).getState(),T)},[]),C=ke(function(){return va(Jc(s).getState())},[]),I=ut(function(){return{marshal:v,focus:w,contextId:t,canLift:M,isMovementAllowed:C,dragHandleUsageInstructionsId:c,registry:m}},[t,v,c,w,M,C,m]);return Pbe({contextId:t,store:_,registry:m,customSensors:r,enableDefaultSensors:e.enableDefaultSensors!==!1}),b.useEffect(function(){return S},[S]),st.createElement(p0.Provider,{value:I},st.createElement(cme,{context:yC,store:_},e.children))}var Obe=0;function Rbe(){return ut(function(){return""+Obe++},[])}function Dbe(e){var t=Rbe(),n=e.dragHandleUsageInstructions||yg.dragHandleUsageInstructions;return st.createElement(lve,null,function(r){return st.createElement(Abe,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var X9=function(t){return function(n){return t===n}},kbe=X9("scroll"),Nbe=X9("auto"),Wk=function(t,n){return n(t.overflowX)||n(t.overflowY)},jbe=function(t){var n=window.getComputedStyle(t),r={overflowX:n.overflowX,overflowY:n.overflowY};return Wk(r,kbe)||Wk(r,Nbe)},Mbe=function(){return!1},Lbe=function e(t){return t==null?null:t===document.body?Mbe()?t:null:t===document.documentElement?null:jbe(t)?t:e(t.parentElement)},G1=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Fbe=function e(t){if(!t)return!1;var n=window.getComputedStyle(t);return n.position==="fixed"?!0:e(t.parentElement)},$be=function(e){var t=Lbe(e),n=Fbe(e);return{closestScrollable:t,isFixedOnPage:n}},Bbe=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,i=e.isFixedOnPage,o=e.direction,s=e.client,a=e.page,l=e.closest,u=function(){if(!l)return null;var p=l.scrollSize,m=l.client,v=M9({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:m,scrollSize:p,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:v,diff:{value:Dn,displacement:Dn}}}}(),c=o==="vertical"?oC:m9,d=Fu({page:a,withPlaceholder:null,axis:c,frame:u}),f={descriptor:t,isCombineEnabled:r,isFixedOnPage:i,axis:c,isEnabled:n,client:s,page:a,frame:u,subject:d};return f},Vbe=function(t,n){var r=s9(t);if(!n||t!==n)return r;var i=r.paddingBox.top-n.scrollTop,o=r.paddingBox.left-n.scrollLeft,s=i+n.scrollHeight,a=o+n.scrollWidth,l={top:i,right:a,bottom:s,left:o},u=eC(l,r.border),c=tC({borderBox:u,margin:r.margin,border:r.border,padding:r.padding});return c},Ube=function(e){var t=e.ref,n=e.descriptor,r=e.env,i=e.windowScroll,o=e.direction,s=e.isDropDisabled,a=e.isCombineEnabled,l=e.shouldClipSubject,u=r.closestScrollable,c=Vbe(t,u),d=ov(c,i),f=function(){if(!u)return null;var m=s9(u),v={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:m,page:ov(m,i),scroll:G1(u),scrollSize:v,shouldClipSubject:l}}(),p=Bbe({descriptor:n,isEnabled:!s,isCombineEnabled:a,isFixedOnPage:r.isFixedOnPage,direction:o,client:c,page:d,closest:f});return p},zbe={passive:!1},Wbe={passive:!0},Hk=function(e){return e.shouldPublishImmediately?zbe:Wbe};function dv(e){var t=b.useContext(e);return t||me(),t}var zp=function(t){return t&&t.env.closestScrollable||null};function Hbe(e){var t=b.useRef(null),n=dv(p0),r=bC("droppable"),i=n.registry,o=n.marshal,s=W9(e),a=ut(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),l=b.useRef(a),u=ut(function(){return Rn(function(P,R){t.current||me();var M={x:P,y:R};o.updateDroppableScroll(a.id,M)})},[a.id,o]),c=ke(function(){var P=t.current;return!P||!P.env.closestScrollable?Dn:G1(P.env.closestScrollable)},[]),d=ke(function(){var P=c();u(P.x,P.y)},[c,u]),f=ut(function(){return Nf(d)},[d]),p=ke(function(){var P=t.current,R=zp(P);P&&R||me();var M=P.scrollOptions;if(M.shouldPublishImmediately){d();return}f()},[f,d]),m=ke(function(P,R){t.current&&me();var M=s.current,C=M.getDroppableRef();C||me();var I=$be(C),T={ref:C,descriptor:a,env:I,scrollOptions:R};t.current=T;var k=Ube({ref:C,descriptor:a,env:I,windowScroll:P,direction:M.direction,isDropDisabled:M.isDropDisabled,isCombineEnabled:M.isCombineEnabled,shouldClipSubject:!M.ignoreContainerClipping}),A=I.closestScrollable;return A&&(A.setAttribute(Bk.contextId,n.contextId),A.addEventListener("scroll",p,Hk(T.scrollOptions))),k},[n.contextId,a,p,s]),v=ke(function(){var P=t.current,R=zp(P);return P&&R||me(),G1(R)},[]),y=ke(function(){var P=t.current;P||me();var R=zp(P);t.current=null,R&&(f.cancel(),R.removeAttribute(Bk.contextId),R.removeEventListener("scroll",p,Hk(P.scrollOptions)))},[p,f]),w=ke(function(P){var R=t.current;R||me();var M=zp(R);M||me(),M.scrollTop+=P.y,M.scrollLeft+=P.x},[]),_=ut(function(){return{getDimensionAndWatchScroll:m,getScrollWhileDragging:v,dragStopped:y,scroll:w}},[y,m,v,w]),S=ut(function(){return{uniqueId:r,descriptor:a,callbacks:_}},[_,a,r]);Ur(function(){return l.current=S.descriptor,i.droppable.register(S),function(){t.current&&y(),i.droppable.unregister(S)}},[_,a,y,S,o,i.droppable]),Ur(function(){t.current&&o.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)},[e.isDropDisabled,o]),Ur(function(){t.current&&o.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)},[e.isCombineEnabled,o])}function sx(){}var qk={width:0,height:0,margin:pve},qbe=function(t){var n=t.isAnimatingOpenOnMount,r=t.placeholder,i=t.animate;return n||i==="close"?qk:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}},Gbe=function(t){var n=t.isAnimatingOpenOnMount,r=t.placeholder,i=t.animate,o=qbe({isAnimatingOpenOnMount:n,placeholder:r,animate:i});return{display:r.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?Rd.placeholder:null}};function Kbe(e){var t=b.useRef(null),n=ke(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),r=e.animate,i=e.onTransitionEnd,o=e.onClose,s=e.contextId,a=b.useState(e.animate==="open"),l=a[0],u=a[1];b.useEffect(function(){return l?r!=="open"?(n(),u(!1),sx):t.current?sx:(t.current=setTimeout(function(){t.current=null,u(!1)}),n):sx},[r,l,n]);var c=ke(function(f){f.propertyName==="height"&&(i(),r==="close"&&o())},[r,o,i]),d=Gbe({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return st.createElement(e.placeholder.tagName,{style:d,"data-rbd-placeholder-context-id":s,onTransitionEnd:c,ref:e.innerRef})}var Ybe=st.memo(Kbe),wC=st.createContext(null),Qbe=function(e){HB(t,e);function t(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o))||this,r.state={isVisible:!!r.props.on,data:r.props.on,animate:r.props.shouldAnimate&&r.props.on?"open":"none"},r.onClose=function(){r.state.animate==="close"&&r.setState({isVisible:!1})},r}t.getDerivedStateFromProps=function(i,o){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:o.isVisible?{isVisible:!0,data:o.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}};var n=t.prototype;return n.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},t}(st.PureComponent),Gk={dragging:5e3,dropAnimating:4500},Xbe=function(t,n){return n?Rd.drop(n.duration):t?Rd.snap:Rd.fluid},Jbe=function(t,n){return t?n?Ff.opacity.drop:Ff.opacity.combining:null},Zbe=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function exe(e){var t=e.dimension,n=t.client,r=e.offset,i=e.combineWith,o=e.dropping,s=!!i,a=Zbe(e),l=!!o,u=l?W1.drop(r,s):W1.moveTo(r),c={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:Xbe(a,o),transform:u,opacity:Jbe(s,l),zIndex:l?Gk.dropAnimating:Gk.dragging,pointerEvents:"none"};return c}function txe(e){return{transform:W1.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function nxe(e){return e.type==="DRAGGING"?exe(e):txe(e)}function rxe(e,t,n){n===void 0&&(n=Dn);var r=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=o9(i,r),s=ov(o,n),a={client:o,tagName:t.tagName.toLowerCase(),display:r.display},l={x:o.marginBox.width,y:o.marginBox.height},u={descriptor:e,placeholder:a,displaceBy:l,client:o,page:s};return u}function ixe(e){var t=bC("draggable"),n=e.descriptor,r=e.registry,i=e.getDraggableRef,o=e.canDragInteractiveElements,s=e.shouldRespectForcePress,a=e.isEnabled,l=ut(function(){return{canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:a}},[o,a,s]),u=ke(function(p){var m=i();return m||me(),rxe(n,m,p)},[n,i]),c=ut(function(){return{uniqueId:t,descriptor:n,options:l,getDimension:u}},[n,u,l,t]),d=b.useRef(c),f=b.useRef(!0);Ur(function(){return r.draggable.register(d.current),function(){return r.draggable.unregister(d.current)}},[r.draggable]),Ur(function(){if(f.current){f.current=!1;return}var p=d.current;d.current=c,r.draggable.update(c,p)},[c,r.draggable])}function oxe(e){e.preventDefault()}function sxe(e){var t=b.useRef(null),n=ke(function(T){t.current=T},[]),r=ke(function(){return t.current},[]),i=dv(p0),o=i.contextId,s=i.dragHandleUsageInstructionsId,a=i.registry,l=dv(wC),u=l.type,c=l.droppableId,d=ut(function(){return{id:e.draggableId,index:e.index,type:u,droppableId:c}},[e.draggableId,e.index,u,c]),f=e.children,p=e.draggableId,m=e.isEnabled,v=e.shouldRespectForcePress,y=e.canDragInteractiveElements,w=e.isClone,_=e.mapped,S=e.dropAnimationFinished;if(!w){var P=ut(function(){return{descriptor:d,registry:a,getDraggableRef:r,canDragInteractiveElements:y,shouldRespectForcePress:v,isEnabled:m}},[d,a,r,y,v,m]);ixe(P)}var R=ut(function(){return m?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":p,"data-rbd-drag-handle-context-id":o,draggable:!1,onDragStart:oxe}:null},[o,s,p,m]),M=ke(function(T){_.type==="DRAGGING"&&_.dropping&&T.propertyName==="transform"&&S()},[S,_]),C=ut(function(){var T=nxe(_),k=_.type==="DRAGGING"&&_.dropping?M:null,A={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":o,"data-rbd-draggable-id":p,style:T,onTransitionEnd:k},dragHandleProps:R};return A},[o,R,p,_,M,n]),I=ut(function(){return{draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}},[d.droppableId,d.id,d.index,d.type]);return f(C,_.snapshot,I)}var J9=function(e,t){return e===t},Z9=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null},axe=function(t){return t.combine?t.combine.draggableId:null},lxe=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function uxe(){var e=Rn(function(i,o){return{x:i,y:o}}),t=Rn(function(i,o,s,a,l){return{isDragging:!0,isClone:o,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:s,combineWith:a,combineTargetFor:null}}),n=Rn(function(i,o,s,a,l,u,c){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:u,mode:o,offset:i,dimension:s,forceShouldAnimate:c,snapshot:t(o,a,l,u,null)}}}),r=function(o,s){if(o.isDragging){if(o.critical.draggable.id!==s.draggableId)return null;var a=o.current.client.offset,l=o.dimensions.draggables[s.draggableId],u=Vr(o.impact),c=lxe(o.impact),d=o.forceShouldAnimate;return n(e(a.x,a.y),o.movementMode,l,s.isClone,u,c,d)}if(o.phase==="DROP_ANIMATING"){var f=o.completed;if(f.result.draggableId!==s.draggableId)return null;var p=s.isClone,m=o.dimensions.draggables[s.draggableId],v=f.result,y=v.mode,w=Z9(v),_=axe(v),S=o.dropDuration,P={duration:S,curve:fC.drop,moveTo:o.newHomeClientOffset,opacity:_?Ff.opacity.drop:null,scale:_?Ff.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:m,dropping:P,draggingOver:w,combineWith:_,mode:y,forceShouldAnimate:null,snapshot:t(y,p,w,_,P)}}}return null};return r}function eV(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var cxe={mapped:{type:"SECONDARY",offset:Dn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:eV(null)}};function dxe(){var e=Rn(function(s,a){return{x:s,y:a}}),t=Rn(eV),n=Rn(function(s,a,l){return a===void 0&&(a=null),{mapped:{type:"SECONDARY",offset:s,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:t(a)}}}),r=function(a){return a?n(Dn,a,!0):null},i=function(a,l,u,c){var d=u.displaced.visible[a],f=!!(c.inVirtualList&&c.effected[a]),p=c0(u),m=p&&p.draggableId===a?l:null;if(!d){if(!f)return r(m);if(u.displaced.invisible[a])return null;var v=cc(c.displacedBy.point),y=e(v.x,v.y);return n(y,m,!0)}if(f)return r(m);var w=u.displacedBy.point,_=e(w.x,w.y);return n(_,m,d.shouldAnimate)},o=function(a,l){if(a.isDragging)return a.critical.draggable.id===l.draggableId?null:i(l.draggableId,a.critical.draggable.id,a.impact,a.afterCritical);if(a.phase==="DROP_ANIMATING"){var u=a.completed;return u.result.draggableId===l.draggableId?null:i(l.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null};return o}var fxe=function(){var t=uxe(),n=dxe(),r=function(o,s){return t(o,s)||n(o,s)||cxe};return r},hxe={dropAnimationFinished:k9},pxe=r9(fxe,hxe,null,{context:yC,pure:!0,areStatePropsEqual:J9})(sxe);function tV(e){var t=dv(wC),n=t.isUsingCloneFor;return n===e.draggableId&&!e.isClone?null:st.createElement(pxe,e)}function gxe(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return st.createElement(tV,Me({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}function mxe(e){var t=b.useContext(p0);t||me();var n=t.contextId,r=t.isMovementAllowed,i=b.useRef(null),o=b.useRef(null),s=e.children,a=e.droppableId,l=e.type,u=e.mode,c=e.direction,d=e.ignoreContainerClipping,f=e.isDropDisabled,p=e.isCombineEnabled,m=e.snapshot,v=e.useClone,y=e.updateViewportMaxScroll,w=e.getContainerForClone,_=ke(function(){return i.current},[]),S=ke(function(A){i.current=A},[]);ke(function(){return o.current},[]);var P=ke(function(A){o.current=A},[]),R=ke(function(){r()&&y({maxScroll:F9()})},[r,y]);Hbe({droppableId:a,type:l,mode:u,direction:c,isDropDisabled:f,isCombineEnabled:p,ignoreContainerClipping:d,getDroppableRef:_});var M=st.createElement(Qbe,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(A){var j=A.onClose,O=A.data,ee=A.animate;return st.createElement(Ybe,{placeholder:O,onClose:j,innerRef:P,animate:ee,contextId:n,onTransitionEnd:R})}),C=ut(function(){return{innerRef:S,placeholder:M,droppableProps:{"data-rbd-droppable-id":a,"data-rbd-droppable-context-id":n}}},[n,a,M,S]),I=v?v.dragging.draggableId:null,T=ut(function(){return{droppableId:a,type:l,isUsingCloneFor:I}},[a,I,l]);function k(){if(!v)return null;var A=v.dragging,j=v.render,O=st.createElement(tV,{draggableId:A.draggableId,index:A.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(ee,re){return j(ee,re,A)});return YU.createPortal(O,w())}return st.createElement(wC.Provider,{value:T},s(C,m),k())}var ax=function(t,n){return t===n.droppable.type},Kk=function(t,n){return n.draggables[t.draggable.id]},vxe=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=Me({},t,{shouldAnimatePlaceholder:!1}),r=Rn(function(s){return{draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}}}),i=Rn(function(s,a,l,u,c,d){var f=c.descriptor.id,p=c.descriptor.droppableId===s;if(p){var m=d?{render:d,dragging:r(c.descriptor)}:null,v={isDraggingOver:l,draggingOverWith:l?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:v,useClone:m}}if(!a)return n;if(!u)return t;var y={isDraggingOver:l,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:y,useClone:null}}),o=function(a,l){var u=l.droppableId,c=l.type,d=!l.isDropDisabled,f=l.renderClone;if(a.isDragging){var p=a.critical;if(!ax(c,p))return n;var m=Kk(p,a.dimensions),v=Vr(a.impact)===u;return i(u,d,v,v,m,f)}if(a.phase==="DROP_ANIMATING"){var y=a.completed;if(!ax(c,y.critical))return n;var w=Kk(y.critical,a.dimensions);return i(u,d,Z9(y.result)===u,Vr(y.impact)===u,w,f)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){var _=a.completed;if(!ax(c,_.critical))return n;var S=Vr(_.impact)===u,P=!!(_.impact.at&&_.impact.at.type==="COMBINE"),R=_.critical.droppable.id===u;return S?P?t:n:R?t:n}return n};return o},yxe={updateViewportMaxScroll:Cye};function bxe(){return document.body||me(),document.body}var xxe={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:bxe},nV=r9(vxe,yxe,null,{context:yC,pure:!0,areStatePropsEqual:J9})(mxe);nV.defaultProps=xxe;const Zc=["Monday","Tuesday","Wednesday","Thursday","Friday"],ed=["P1 (2:002:45)","P2 (2:453:30)","P3 (3:304:15)","Break","P4 (4:305:15)","P5 (5:156:00)","LUNCH","P6 (7:158:00)","P7 (8:008:45)","P8 (8:459:30)"];function wxe(){const e=JSON.parse(localStorage.getItem("admin"))||{},[t,n]=b.useState([]),[r,i]=b.useState({}),[o,s]=b.useState({}),[a,l]=b.useState({}),[u,c]=b.useState({}),[d,f]=b.useState({}),[p,m]=b.useState(""),[v,y]=b.useState(""),[w,_]=b.useState(!0),[S,P]=b.useState([]),[R,M]=b.useState(null),[C,I]=b.useState(null),[T,k]=b.useState(null),[A,j]=b.useState(null),[O,ee]=b.useState(null),[re,pe]=b.useState([]),[Oe,F]=b.useState([]),[Q,le]=b.useState({}),[be,we]=b.useState([]),[X,ie]=b.useState(!1),[Ie,te]=b.useState(null),[D,V]=b.useState(!1),L=gi(),[J,Z]=b.useState([]),[$,B]=b.useState(!1),W=e.userId,ae=e.userId,ne=async()=>{try{const oe=((await z.get(`http://127.0.0.1:5000/api/get_post_notifications/${W}`)).data||[]).map(de=>({...de,notificationId:de.notificationId||de.id}));Z(oe)}catch(K){console.error("Post notification fetch failed",K)}};b.useEffect(()=>{if(!W)return;ne();const K=setInterval(ne,5e3);return()=>clearInterval(K)},[W]);const ce=async K=>{await z.post("http://127.0.0.1:5000/api/mark_post_notification_read",{notificationId:K.notificationId}),Z(oe=>oe.filter(de=>de.notificationId!==K.notificationId)),B(!1),L("/dashboard",{state:{postId:K.postId}})};b.useEffect(()=>{const K=oe=>{!oe.target.closest(".icon-circle")&&!oe.target.closest(".notification-dropdown")&&B(!1)};return document.addEventListener("click",K),()=>document.removeEventListener("click",K)},[]);const he=async()=>{try{const K=await Yc(gr(mr,"Users")),oe=K.exists()?K.val():{},de=await Yc(gr(mr,"Teachers")),Se=de.exists()?de.val():{},Ae={};Object.entries(Se).forEach(([Ve,Sn])=>{oe[Sn.userId]&&(Ae[Ve]=oe[Sn.userId].name)});const je=await Yc(gr(mr,"Courses")),De=je.exists()?je.val():{},_e=Object.entries(De).map(([Ve,Sn])=>({id:Ve,...Sn})),Re={};_e.forEach(Ve=>{Re[Ve.grade]||(Re[Ve.grade]=new Set),Re[Ve.grade].add(Ve.section)});const Ee=await Yc(gr(mr,"TeacherAssignments")),Ke=Ee.exists()?Ee.val():{},Be={};Ke&&typeof Ke=="object"&&Object.values(Ke).forEach(Ve=>{Be[Ve.courseId]=Ve.teacherId});const it=await Yc(gr(mr,"Schedules"));it.exists()&&c(it.val()),n(_e),i(Re),s(Ae),l(Be),_(!1)}catch(K){console.error("Fetch error:",K),_(!1)}};b.useEffect(()=>{(async()=>{const de=await(await fetch("/api/unreadSenders")).json();pe(de)})()},[]),b.useEffect(()=>{(async()=>{try{const[oe,de]=await Promise.all([z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Teachers.json"),z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Users.json")]),Se=oe.data||{},Ae=de.data||{},je=Object.keys(Se).map(Re=>{const Ee=Se[Re],Ke=Ae[Ee.userId]||{};return{teacherId:Re,userId:Ee.userId,name:Ke.name||"No Name",profileImage:Ke.profileImage||"/default-profile.png"}});F(je);const De={},_e=[];for(const Re of je){const Ee=`${ae}_${Re.userId}`,Ke=await z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${Ee}/messages.json`),Be=Object.values(Ke.data||{}).map(Ve=>({...Ve,sender:Ve.senderId===ae?"admin":"teacher"}));_e.push(...Be);const it=Be.filter(Ve=>Ve.receiverId===ae&&!Ve.seen).length;it>0&&(De[Re.userId]=it)}we(_e),le(De)}catch(oe){console.error(oe)}})()},[ae]),b.useEffect(()=>{he()},[]);const xe=p&&v?`Grade ${p}${v}`:null,ze=t.filter(K=>K.grade===p&&K.section===v),He=async()=>{if(!e.userId)return;const K={};try{const de=(await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Users.json")).data||{},Se=Re=>Object.values(de).find(Ee=>Ee.userId===Re),Ae=async Re=>{const Ee=`${e.userId}_${Re}`,Ke=`${Re}_${e.userId}`,[Be,it]=await Promise.all([z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${Ee}/messages.json`),z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${Ke}/messages.json`)]);return[...Object.values(Be.data||{}),...Object.values(it.data||{})].filter(Sn=>Sn.receiverId===e.userId&&!Sn.seen).length},je=await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Teachers.json");for(const Re in je.data||{}){const Ee=je.data[Re],Ke=await Ae(Ee.userId);if(Ke>0){const Be=Se(Ee.userId);K[Ee.userId]={type:"teacher",name:(Be==null?void 0:Be.name)||"Teacher",profileImage:(Be==null?void 0:Be.profileImage)||"/default-profile.png",count:Ke}}}const De=await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Students.json");for(const Re in De.data||{}){const Ee=De.data[Re],Ke=await Ae(Ee.userId);if(Ke>0){const Be=Se(Ee.userId);K[Ee.userId]={type:"student",name:(Be==null?void 0:Be.name)||Ee.name||"Student",profileImage:(Be==null?void 0:Be.profileImage)||Ee.profileImage||"/default-profile.png",count:Ke}}}const _e=await z.get("https://ethiostore-17d9f-default-rtdb.firebaseio.com/Parents.json");for(const Re in _e.data||{}){const Ee=_e.data[Re],Ke=await Ae(Ee.userId);if(Ke>0){const Be=Se(Ee.userId);K[Ee.userId]={type:"parent",name:(Be==null?void 0:Be.name)||Ee.name||"Parent",profileImage:(Be==null?void 0:Be.profileImage)||Ee.profileImage||"/default-profile.png",count:Ke}}}pe(K)}catch(oe){console.error("Unread fetch failed:",oe)}};b.useEffect(()=>{const K=oe=>{!oe.target.closest(".icon-circle")&&!oe.target.closest(".messenger-dropdown")&&ie(!1)};return document.addEventListener("click",K),()=>document.removeEventListener("click",K)},[]),b.useEffect(()=>{if(!e.userId)return;He();const K=setInterval(He,5e3);return()=>clearInterval(K)},[e.userId]);const Xe=()=>{var oe,de,Se;if(!xe){alert("Select grade & section first");return}const K=50;for(let Ae=1;Ae<=K;Ae++)try{const je={...d[xe]},De=ze,_e=structuredClone(u||{}),Re={},Ee={};Zc.forEach(it=>{_e[it]||(_e[it]={}),Re[it]??(Re[it]={}),Object.keys(r).forEach(Ve=>{[...r[Ve]].forEach(Sn=>{const Ut=`Grade ${Ve}${Sn}`;_e[it][Ut]||(_e[it][Ut]={})})})}),Zc.forEach(it=>{ed.forEach(Ve=>{Ve!=="LUNCH"&&Object.keys(r).forEach(Sn=>{[...r[Sn]].forEach(Ut=>{var Tr,En;const $i=`Grade ${Sn}${Ut}`,Uo=(Tr=_e[it][$i])==null?void 0:Tr[Ve];Uo!=null&&Uo.teacherId&&((En=Re[it])[Ve]??(En[Ve]={}),Re[it][Ve][Uo.teacherId]=!0)})})})});const Ke=[...De].sort(()=>Math.random()-.5),Be={...je};for(let it of Zc){const Ve=ed.filter(Ut=>Ut!=="LUNCH"&&Ut!=="Break");let Sn=null;for(let Ut of Ve){let $i=!1;const Uo=[...Ke].sort(()=>Math.random()-.5);for(let Tr of Uo){const En=a[Tr.id];if(Be[Tr.id]<=0||Tr.subject===Sn||En&&((oe=Re[it][Ut])!=null&&oe[En])||((de=Ee[xe])==null?void 0:de[En])===Ve.indexOf(Ut)-1)continue;const m0=je[Tr.id]>5?2:1;if(!(Object.values(_e[it][xe]||{}).filter(vl=>(vl==null?void 0:vl.subject)===Tr.subject).length>=m0)){_e[it][xe][Ut]={subject:Tr.subject,teacherId:En,teacherName:o[En]||"Unassigned"},(Se=Re[it])[Ut]??(Se[Ut]={}),En&&(Re[it][Ut][En]=!0,Ee[xe]??(Ee[xe]={}),Ee[xe][En]=Ve.indexOf(Ut)),Be[Tr.id]--,Sn=Tr.subject,$i=!0;break}}if(!$i)throw new Error("Deadlock: unable to place subjects without violating constraints")}}c(_e),dt(_e),console.log(` Timetable for ${xe} generated successfully`);return}catch(je){Ae===K&&(alert("Unable to generate timetable after multiple attempts. Try adjusting weekly subject counts or teacher assignments."),console.error(je))}},yt=(K,oe)=>{var Ae,je;const de=(je=(Ae=u==null?void 0:u[K])==null?void 0:Ae[xe])==null?void 0:je[oe];if(!de||de.break)return;const Se=ze.find(De=>De.subject===de.subject);ee({day:K,period:oe,subject:(Se==null?void 0:Se.id)||"",teacherId:de.teacherId||""})},dt=K=>{const oe={};Zc.forEach(Se=>{ed.forEach(Ae=>{var De,_e;if(Ae==="LUNCH")return;const je=(_e=(De=K[Se])==null?void 0:De[xe])==null?void 0:_e[Ae];je!=null&&je.teacherName&&(oe[je.teacherName]=(oe[je.teacherName]||0)+1)})});const de=Object.entries(oe).map(([Se,Ae])=>({name:Se,classes:Ae}));P(de)},nr=K=>{if(!K.destination)return;const oe=K.source.droppableId,de=K.source.index,Se=K.destination.index,Ae=ed.filter(Re=>Re!=="LUNCH"),je=Ae[de],De=Ae[Se],_e=structuredClone(u);[_e[oe][xe][je],_e[oe][xe][De]]=[_e[oe][xe][De],_e[oe][xe][je]],c(_e),dt(_e)},Pr=async()=>{await Ym(gr(mr,"Schedules"),u),alert("Schedule saved successfully")},H=async K=>{const oe=`${e.userId}_${K}`,de=`${K}_${e.userId}`,[Se,Ae]=await Promise.all([z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${oe}/messages.json`),z.get(`https://ethiostore-17d9f-default-rtdb.firebaseio.com/Chats/${de}/messages.json`)]),je={},De=(_e,Re)=>{Object.entries(_e||{}).forEach(([Ee,Ke])=>{Ke.receiverId===e.userId&&!Ke.seen&&(je[`${Re}/${Ee}/seen`]=!0)})};De(Se.data,`Chats/${oe}/messages`),De(Ae.data,`Chats/${de}/messages`),Object.keys(je).length>0&&await z.patch("https://ethiostore-17d9f-default-rtdb.firebaseio.com/.json",je)},ue={main:{marginTop:70,marginLeft:400,flex:1,padding:24,overflowY:"auto",minHeight:"calc(100vh - 70px)"},selectorCard:{display:"flex",gap:20,padding:24,borderRadius:20,background:"linear-gradient(135deg, #e4e6ecff)",boxShadow:"0 10px 30px rgba(255, 255, 255, 0.2)",color:"#fff",fontWeight:600},select:{padding:"12px 16px",borderRadius:14,border:"none",minWidth:180,fontSize:15,fontWeight:600,outline:"none",cursor:"pointer"},card:{background:"#fff",padding:22,borderRadius:20,marginTop:22,boxShadow:"0 12px 25px rgba(0,0,0,0.12)",transition:"0.3s"},freqGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:16},freqItem:{background:"linear-gradient(135deg,#eef2ff,#e0e7ff)",padding:16,borderRadius:16,display:"flex",justifyContent:"space-between",alignItems:"center",fontWeight:500,boxShadow:"0 4px 12px rgba(0,0,0,0.08)",transition:"0.3s"},btnRow:{display:"flex",gap:12,margin:"20px 0"},greenBtn:{background:"linear-gradient(135deg,#22c55e,#16a34a)",color:"#fff",padding:"12px 22px",borderRadius:14,border:"none",fontWeight:600,cursor:"pointer",transition:"0.3s"},blueBtn:{background:"linear-gradient(135deg,#2563eb,#1d4ed8)",color:"#fff",padding:"12px 22px",borderRadius:14,border:"none",fontWeight:600,cursor:"pointer",transition:"0.3s"},period:{background:"#f0f4f8",padding:18,borderRadius:16,minWidth:160,textAlign:"center",fontWeight:600,boxShadow:"0 4px 10px rgba(0,0,0,0.05)",transition:"0.3s"},lunch:{background:"#fde68a",padding:18,borderRadius:16,fontWeight:"bold",textAlign:"center",boxShadow:"0 4px 10px rgba(0,0,0,0.08)"}};return g.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh"},children:[g.jsxs("div",{className:"top-navbar",children:[g.jsx("h2",{children:"Gojo Dashboard"}),g.jsxs("div",{className:"nav-search",children:[g.jsx("input",{type:"text",placeholder:"Search..."}),g.jsx(ul,{className:"search-icon"})]}),g.jsxs("div",{className:"nav-right",children:[g.jsxs("div",{className:"icon-circle",style:{position:"relative",cursor:"pointer"},onClick:K=>{K.stopPropagation(),B(oe=>!oe)},children:[g.jsx(il,{}),J.length>0&&g.jsx("span",{style:{position:"absolute",top:"-5px",right:"-5px",background:"red",color:"#fff",borderRadius:"50%",padding:"2px 6px",fontSize:"10px",fontWeight:"bold"},children:J.length}),$&&g.jsx("div",{className:"notification-dropdown",style:{position:"absolute",top:"40px",right:"0",width:"350px",maxHeight:"400px",overflowY:"auto",background:"#fff",borderRadius:"10px",boxShadow:"0 4px 15px rgba(0,0,0,0.25)",zIndex:1e3},onClick:K=>K.stopPropagation(),children:J.length===0?g.jsx("p",{style:{padding:"12px",textAlign:"center"},children:"No new notifications"}):J.map(K=>g.jsxs("div",{style:{display:"flex",gap:"10px",padding:"10px",cursor:"pointer",borderBottom:"1px solid #eee"},onClick:()=>ce(K),children:[g.jsx("img",{src:K.adminProfile||"/default-profile.png",alt:K.adminName,style:{width:"40px",height:"40px",borderRadius:"50%"}}),g.jsxs("div",{children:[g.jsx("strong",{children:K.adminName}),g.jsx("p",{style:{margin:0},children:K.message})]})]},K.notificationId))})]}),g.jsxs("div",{className:"icon-circle",style:{position:"relative",cursor:"pointer"},onClick:K=>{K.stopPropagation(),ie(oe=>!oe)},children:[g.jsx(rl,{}),Object.keys(re).length>0&&g.jsx("span",{style:{position:"absolute",top:"-5px",right:"-5px",background:"red",color:"#fff",borderRadius:"50%",padding:"2px 6px",fontSize:"10px",fontWeight:"bold"},children:Object.values(re).reduce((K,oe)=>K+oe.count,0)}),X&&g.jsx("div",{style:{position:"absolute",top:"40px",right:"0",width:"300px",background:"#fff",borderRadius:"10px",boxShadow:"0 4px 15px rgba(0,0,0,0.25)",zIndex:1e3},children:Object.keys(re).length===0?g.jsx("p",{style:{padding:"12px",textAlign:"center",color:"#777"},children:"No new messages"}):Object.entries(re).map(([K,oe])=>g.jsxs("div",{style:{padding:"12px",display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",borderBottom:"1px solid #eee"},onClick:async()=>{ie(!1),await H(K),pe(de=>{const Se={...de};return delete Se[K],Se}),L("/all-chat",{state:{user:{userId:K,name:oe.name,profileImage:oe.profileImage,type:oe.type}}})},children:[g.jsx("img",{src:oe.profileImage,alt:oe.name,style:{width:"42px",height:"42px",borderRadius:"50%"}}),g.jsxs("div",{children:[g.jsx("strong",{children:oe.name}),g.jsxs("p",{style:{fontSize:"12px",margin:0},children:[oe.count," new message",oe.count>1&&"s"]})]})]},K))})]}),g.jsx(Le,{className:"icon-circle",to:"/settings",children:g.jsx(sl,{})}),g.jsx("img",{src:e.profileImage||"/default-profile.png",alt:"admin",className:"profile-img"})]})]}),g.jsxs("div",{className:"google-sidebar",children:[g.jsxs("div",{className:"sidebar-profile",children:[g.jsx("div",{className:"sidebar-img-circle",children:g.jsx("img",{src:(e==null?void 0:e.profileImage)||"/default-profile.png",alt:"profile"})}),g.jsx("h3",{children:(e==null?void 0:e.name)||"Admin Name"}),g.jsx("p",{children:"Admin"})]}),g.jsxs("div",{className:"sidebar-menu",children:[g.jsxs(Le,{className:"sidebar-btn",to:"/dashboard",children:[" ",g.jsx(ll,{style:{width:"28px",height:"28px"}})," Home"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/my-posts",children:[g.jsx(al,{})," My Posts"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/teachers",children:[g.jsx(Jt,{})," Teachers"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/students",children:[" ",g.jsx(Jt,{})," Students"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/schedule",style:{backgroundColor:"#4b6cb7",color:"#fff"},children:[g.jsx(ol,{})," Schedule"]}),g.jsxs(Le,{className:"sidebar-btn",to:"/parents",children:[g.jsx(Jt,{})," Parents"]}),g.jsxs("button",{className:"sidebar-btn logout-btn",onClick:()=>{localStorage.removeItem("admin"),window.location.href="/login"},children:[g.jsx(cl,{})," Logout"]})]})]}),g.jsxs("div",{style:ue.main,children:[g.jsxs("div",{style:ue.selectorCard,children:[g.jsxs("select",{style:ue.select,value:p,onChange:K=>{m(K.target.value),y("")},children:[g.jsx("option",{value:"",children:" Select Grade"}),Object.keys(r).map(K=>g.jsx("option",{children:K},K))]}),g.jsxs("select",{style:ue.select,value:v,onChange:K=>y(K.target.value),disabled:!p,children:[g.jsx("option",{value:"",children:" Select Section"}),[...r[p]||[]].map(K=>g.jsx("option",{children:K},K))]})]}),xe&&g.jsxs("div",{style:ue.card,children:[g.jsxs("h3",{children:[" ",xe,"  Weekly Subjects"]}),g.jsx("div",{style:ue.freqGrid,children:ze.map(K=>{var oe;return g.jsxs("div",{style:ue.freqItem,children:[g.jsx("span",{children:K.subject}),g.jsx("select",{value:((oe=d[xe])==null?void 0:oe[K.id])||0,onChange:de=>f(Se=>({...Se,[xe]:{...Se[xe],[K.id]:Number(de.target.value)}})),children:[...Array(9)].map((de,Se)=>g.jsx("option",{children:Se},Se))})]},K.id)})})]}),xe&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:ue.btnRow,children:[g.jsxs("button",{style:ue.greenBtn,onClick:Xe,children:[g.jsx(LW,{})," Auto Generate"]}),g.jsxs("button",{style:ue.blueBtn,onClick:Pr,children:[g.jsx($W,{})," Save"]})]}),g.jsx(Dbe,{onDragEnd:nr,children:Zc.map(K=>g.jsxs("div",{style:ue.card,children:[g.jsx("h2",{children:K}),g.jsx(nV,{droppableId:K,direction:"horizontal",children:oe=>g.jsxs("div",{ref:oe.innerRef,...oe.droppableProps,style:{display:"flex",gap:12,overflowX:"auto"},children:[ed.map((de,Se)=>{var je,De;if(de==="Break")return g.jsx("div",{style:{...ue.lunch,background:"#a5f3fc"},children:" Break"},de);if(de==="LUNCH")return g.jsx("div",{style:ue.lunch,children:" Lunch"},de);const Ae=(De=(je=u[K])==null?void 0:je[xe])==null?void 0:De[de];return g.jsx(gxe,{draggableId:`${K}-${de}`,index:Se,children:_e=>g.jsxs("div",{ref:_e.innerRef,..._e.draggableProps,..._e.dragHandleProps,onDoubleClick:()=>yt(K,de),style:{...ue.period,cursor:"pointer",..._e.draggableProps.style},children:[g.jsx("b",{children:de}),g.jsx("div",{children:Ae==null?void 0:Ae.subject}),g.jsx("div",{style:{color:"#2563eb"},children:Ae==null?void 0:Ae.teacherName}),g.jsx("small",{style:{fontSize:11,opacity:.6},children:"Double-click to edit"})]})},de)}),oe.placeholder]})})]},K))})]})]})]})}function _xe(){return g.jsx(K7,{children:g.jsxs(V7,{children:[g.jsx(Or,{path:"/",element:g.jsx(VT,{})}),g.jsx(Or,{path:"/login",element:g.jsx(VT,{})}),g.jsx(Or,{path:"/register",element:g.jsx(PW,{})}),g.jsx(Or,{path:"/dashboard",element:g.jsx(VW,{})}),g.jsx(Or,{path:"/my-posts",element:g.jsx(cq,{})}),g.jsx(Or,{path:"/teachers",element:g.jsx(Yae,{})}),g.jsx(Or,{path:"/students",element:g.jsx(Yge,{})}),g.jsx(Or,{path:"/parents",element:g.jsx(Qge,{})}),g.jsx(Or,{path:"/settings",element:g.jsx(Jge,{})}),g.jsx(Or,{path:"/schedule",element:g.jsx(wxe,{})})," ",g.jsx(Or,{path:"/all-chat",element:g.jsx(Zge,{})}),g.jsx(Or,{path:"/student-chat",element:g.jsx(eme,{})})]})})}b.createContext();function Sxe(){return g.jsx(_xe,{})}lx.createRoot(document.getElementById("root")).render(g.jsx(st.StrictMode,{children:g.jsx(Sxe,{})}));
